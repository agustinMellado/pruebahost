"use strict";(self.webpackChunkproyectofinal=self.webpackChunkproyectofinal||[]).push([[179],{2011:(at,Te,k)=>{k.d(Te,{Dh:()=>fe,GT:()=>he,cc:()=>xe,hO:()=>Ue,on:()=>B,pX:()=>se,xv:()=>ge});var f=k(4650),te=k(127),R=k(5813);at=k.hmd(at);const ue=["ngOnDestroy"],se=(pe,Qe,it,Ae={})=>new Proxy(pe,{get:(ve,be)=>it.runOutsideAngular(()=>{var je;if(pe[be])return!(null===(je=Ae?.spy)||void 0===je)&&je.get&&Ae.spy.get(be,pe[be]),pe[be];if(ue.indexOf(be)>-1)return()=>{};const He=Qe.toPromise().then(U=>{const ye=U&&U[be];return"function"==typeof ye?ye.bind(U):ye&&ye.then?ye.then(K=>it.run(()=>K)):it.run(()=>ye)});return new Proxy(()=>{},{get:(U,ye)=>He[ye],apply:(U,ye,K)=>He.then(X=>{var oe;const re=X&&X(...K);return!(null===(oe=Ae?.spy)||void 0===oe)&&oe.apply&&Ae.spy.apply(be,K,re),re})})})}),he=(pe,Qe)=>{Qe.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ae=>{Object.defineProperty(pe.prototype,Ae,Object.getOwnPropertyDescriptor(it.prototype||it,Ae))})})};class de{constructor(Qe){return Qe}}const fe=new f.OlP("angularfire2.app.options"),ge=new f.OlP("angularfire2.app.name");function B(pe,Qe,it){const ve="object"==typeof it&&it||{};ve.name=ve.name||"string"==typeof it&&it||"[DEFAULT]";const je=te.Z.apps.filter(He=>He&&He.name===ve.name)[0]||Qe.runOutsideAngular(()=>te.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(je.options)&&j("error",`${je.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(je)}const j=(pe,...Qe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[pe](...Qe)},Q={provide:de,useFactory:B,deps:[fe,f.R0b,[new f.FiY,ge]]};let Ue=(()=>{class pe{constructor(it){te.Z.registerVersion("angularfire",R.q4.full,"core"),te.Z.registerVersion("angularfire",R.q4.full,"app-compat"),te.Z.registerVersion("angular",f.q4F.full,it.toString())}static initializeApp(it,Ae){return{ngModule:pe,providers:[{provide:fe,useValue:it},{provide:ge,useValue:Ae}]}}}return pe.\u0275fac=function(it){return new(it||pe)(f.LFG(f.Lbi))},pe.\u0275mod=f.oAB({type:pe}),pe.\u0275inj=f.cJS({providers:[Q]}),pe})();function xe(pe,Qe,it,Ae,ve){const[,be,je]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===pe)||[];if(be)return function we(pe,Qe){try{return pe.toString()===Qe.toString()}catch{return pe===Qe}}(ve,je)||(_e("error",`${Qe} was already initialized on the ${it} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:ve,was:je})),be;{const He=Ae();return globalThis.\u0275AngularfireInstanceCache.push([pe,He,ve]),He}}const et=!!at.hot,_e=(pe,...Qe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[pe](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Te,k)=>{k.d(Te,{q4:()=>go,iC:()=>_n,HU:()=>yo,vb:()=>mo,JM:()=>Bc});var f=k(4650),te=k(5867),R=k(5861),ue=k(9681),se=k(2090),he=k(4859),de=k(1877),fe=k(8766);const ge="@firebase/installations",B="0.5.12",Q=`w:${B}`,Ue="FIS_v2",Qe=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function Ae({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function ve(E){return{token:E.token,requestStatus:2,expiresIn:X(E.expiresIn),creationTime:Date.now()}}function be(E,D){return je.apply(this,arguments)}function je(){return(je=(0,R.Z)(function*(E,D){const F=(yield D.json()).error;return Qe.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function He({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function U(E,{refreshToken:D}){const M=He(E);return M.append("Authorization",function oe(E){return`${Ue} ${E}`}(D)),M}function ye(E){return K.apply(this,arguments)}function K(){return(K=(0,R.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function X(E){return Number(E.replace("s","000"))}function re(E,D){return Le.apply(this,arguments)}function Le(){return(Le=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:M}){const F=Ae(E),Y=He(E),ie=D.getImmediate({optional:!0});if(ie){const At=yield ie.getHeartbeatsHeader();At&&Y.append("x-firebase-client",At)}const $e={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:Ue,appId:E.appId,sdkVersion:Q})},ft=yield ye(()=>fetch(F,$e));if(ft.ok){const At=yield ft.json();return{fid:At.fid||M,registrationStatus:2,refreshToken:At.refreshToken,authToken:ve(At.authToken)}}throw yield be("Create Installation",ft)})).apply(this,arguments)}function Fe(E){return new Promise(D=>{setTimeout(D,E)})}const zt=/^[cdef][\w-]{21}$/;function We(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function nn(E){return function dt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return zt.test(M)?M:""}catch{return""}}function Mn(E){return`${E.appName}!${E.appId}`}const Kt=new Map;function Yt(E,D){const M=Mn(E);rn(M,D),function Oo(E,D){const M=function vr(){return!Xr&&"BroadcastChannel"in self&&(Xr=new BroadcastChannel("[Firebase] FID Change"),Xr.onmessage=E=>{rn(E.data.key,E.data.fid)}),Xr}();M&&M.postMessage({key:E,fid:D}),function Tr(){0===Kt.size&&Xr&&(Xr.close(),Xr=null)}()}(M,D)}function rn(E,D){const M=Kt.get(E);if(M)for(const F of M)F(D)}let Xr=null;const ei="firebase-installations-store";let Di=null;function pt(){return Di||(Di=(0,fe.X3)("firebase-installations-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(ei)}})),Di}function ln(E,D){return ui.apply(this,arguments)}function ui(){return(ui=(0,R.Z)(function*(E,D){const M=Mn(E),Y=(yield pt()).transaction(ei,"readwrite"),ie=Y.objectStore(ei),De=yield ie.get(M);return yield ie.put(D,M),yield Y.done,(!De||De.fid!==D.fid)&&Yt(E,D.fid),D})).apply(this,arguments)}function xn(E){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,R.Z)(function*(E){const D=Mn(E),F=(yield pt()).transaction(ei,"readwrite");yield F.objectStore(ei).delete(D),yield F.done})).apply(this,arguments)}function Ki(E,D){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(E,D){const M=Mn(E),Y=(yield pt()).transaction(ei,"readwrite"),ie=Y.objectStore(ei),De=yield ie.get(M),$e=D(De);return void 0===$e?yield ie.delete(M):yield ie.put($e,M),yield Y.done,$e&&(!De||De.fid!==$e.fid)&&Yt(E,$e.fid),$e})).apply(this,arguments)}function fn(E){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,R.Z)(function*(E){let D;const M=yield Ki(E.appConfig,F=>{const Y=hn(F),ie=nt(E,Y);return D=ie.registrationPromise,ie.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function hn(E){return Fn(E||{fid:We(),registrationStatus:0})}function nt(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Qe.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function Ke(E,D){return Po.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ir(E)}:{installationEntry:D}}function Po(){return(Po=(0,R.Z)(function*(E,D){try{const M=yield re(E,D);return ln(E.appConfig,M)}catch(M){throw it(M)&&409===M.customData.serverCode?yield xn(E.appConfig):yield ln(E.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function ir(E){return pn.apply(this,arguments)}function pn(){return(pn=(0,R.Z)(function*(E){let D=yield Vt(E.appConfig);for(;1===D.registrationStatus;)yield Fe(100),D=yield Vt(E.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield fn(E);return F||M}return D})).apply(this,arguments)}function Vt(E){return Ki(E,D=>{if(!D)throw Qe.create("installation-not-found");return Fn(D)})}function Fn(E){return function bs(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Qt(E,D){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:D},M){const F=$t(E,M),Y=U(E,M),ie=D.getImmediate({optional:!0});if(ie){const At=yield ie.getHeartbeatsHeader();At&&Y.append("x-firebase-client",At)}const $e={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Q,appId:E.appId}})},ft=yield ye(()=>fetch(F,$e));if(ft.ok)return ve(yield ft.json());throw yield be("Generate Auth Token",ft)})).apply(this,arguments)}function $t(E,{fid:D}){return`${Ae(E)}/${D}/authTokens:generate`}function Z(E){return H.apply(this,arguments)}function H(){return(H=(0,R.Z)(function*(E,D=!1){let M;const F=yield Ki(E.appConfig,ie=>{if(!ut(ie))throw Qe.create("not-registered");const De=ie.authToken;if(!D&&an(De))return ie;if(1===De.requestStatus)return M=L(E,D),ie;{if(!navigator.onLine)throw Qe.create("app-offline");const $e=Wn(ie);return M=Ie(E,$e),$e}});return M?yield M:F.authToken})).apply(this,arguments)}function L(E,D){return G.apply(this,arguments)}function G(){return(G=(0,R.Z)(function*(E,D){let M=yield z(E.appConfig);for(;1===M.authToken.requestStatus;)yield Fe(100),M=yield z(E.appConfig);const F=M.authToken;return 0===F.requestStatus?Z(E,D):F})).apply(this,arguments)}function z(E){return Ki(E,D=>{if(!ut(D))throw Qe.create("not-registered");return function tt(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ie(E,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(E,D){try{const M=yield Qt(E,D),F=Object.assign(Object.assign({},D),{authToken:M});return yield ln(E.appConfig,F),M}catch(M){if(!it(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ln(E.appConfig,F)}else yield xn(E.appConfig);throw M}})).apply(this,arguments)}function ut(E){return void 0!==E&&2===E.registrationStatus}function an(E){return 2===E.requestStatus&&!function Jt(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+36e5}(E)}function Wn(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}function gn(){return(gn=(0,R.Z)(function*(E){const D=E,{installationEntry:M,registrationPromise:F}=yield fn(D);return F?F.catch(console.error):Z(D).catch(console.error),M.fid})).apply(this,arguments)}function dr(){return(dr=(0,R.Z)(function*(E,D=!1){const M=E;return yield Ze(M),(yield Z(M,D)).token})).apply(this,arguments)}function Ze(E){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(E){const{registrationPromise:D}=yield fn(E);D&&(yield D)})).apply(this,arguments)}function Ot(E){return Qe.create("missing-app-config-values",{valueName:E})}const ya="installations",bn=E=>{const D=E.getProvider("app").getImmediate(),M=function Es(E){if(!E||!E.options)throw Ot("App Configuration");if(!E.name)throw Ot("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!E.options[M])throw Ot(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ue._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Is=E=>{const D=E.getProvider("app").getImmediate(),M=(0,ue._getProvider)(D,ya).getImmediate();return{getId:()=>function un(E){return gn.apply(this,arguments)}(M),getToken:Y=>function sr(E){return dr.apply(this,arguments)}(M,Y)}};(function hr(){(0,ue._registerComponent)(new he.wA(ya,bn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",Is,"PRIVATE"))})(),(0,ue.registerVersion)(ge,B),(0,ue.registerVersion)(ge,B,"esm2017");const Ds="@firebase/remote-config",Ut=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qp{constructor(D,M,F,Y){this.client=D,this.storage=M,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const ie=yield M.client.fetch(D),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&De.push(M.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(De),ie})()}}function Kl(E=navigator){return E.languages&&E.languages[0]||E.language}class bc{constructor(D,M,F,Y,ie,De){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=F,this.projectId=Y,this.apiKey=ie,this.appId=De}fetch(D){var M=this;return(0,R.Z)(function*(){var F,Y,ie;const[De,$e]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),At=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},st={sdk_version:M.sdkVersion,app_instance_id:De,app_instance_id_token:$e,app_id:M.appId,language_code:Kl()},Un={method:"POST",headers:Mt,body:JSON.stringify(st)},zr=fetch(At,Un),Ya=new Promise((Wr,_o)=>{D.signal.addEventListener(()=>{const cf=new Error("The operation was aborted.");cf.name="AbortError",_o(cf)})});let pi;try{yield Promise.race([zr,Ya]),pi=yield zr}catch(Wr){let _o="fetch-client-network";throw"AbortError"===(null===(F=Wr)||void 0===F?void 0:F.name)&&(_o="fetch-timeout"),Ut.create(_o,{originalErrorMessage:null===(Y=Wr)||void 0===Y?void 0:Y.message})}let gi=pi.status;const jc=pi.headers.get("ETag")||void 0;let ra,Us;if(200===pi.status){let Wr;try{Wr=yield pi.json()}catch(_o){throw Ut.create("fetch-client-parse",{originalErrorMessage:null===(ie=_o)||void 0===ie?void 0:ie.message})}ra=Wr.entries,Us=Wr.state}if("INSTANCE_STATE_UNSPECIFIED"===Us?gi=500:"NO_CHANGE"===Us?gi=304:("NO_TEMPLATE"===Us||"EMPTY_CONFIG"===Us)&&(ra={}),304!==gi&&200!==gi)throw Ut.create("fetch-status",{httpStatus:gi});return{status:gi,eTag:jc,config:ra}})()}}class zp{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function Zn(E,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(M,Y);E.addEventListener(()=>{clearTimeout(ie),F(Ut.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ie=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Yl(E){if(!(E instanceof se.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ie))throw ie;const De={throttleEndTimeMillis:Date.now()+(0,se.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(De),Y.attemptFetch(D,De)}})()}}class Ql{constructor(D,M,F,Y,ie){this.app=D,this._client=M,this._storageCache=F,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ec(E,D){var M;const F=E.target.error||void 0;return Ut.create(D,{originalErrorMessage:F&&(null===(M=F)||void 0===M?void 0:M.message)})}const Ss="app_namespace_store";class Xl{constructor(D,M,F,Y=function Kp(){return new Promise((E,D)=>{var M;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(Ec(Y,"storage-open"))},F.onsuccess=Y=>{E(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(F){D(Ut.create("storage-open",{originalErrorMessage:null===(M=F)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,ie)=>{var De;const ft=F.transaction([Ss],"readonly").objectStore(Ss),At=M.createCompositeKey(D);try{const Mt=ft.get(At);Mt.onerror=st=>{ie(Ec(st,"storage-get"))},Mt.onsuccess=st=>{const Un=st.target.result;Y(Un?Un.value:void 0)}}catch(Mt){ie(Ut.create("storage-get",{originalErrorMessage:null===(De=Mt)||void 0===De?void 0:De.message}))}})})()}set(D,M){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ie,De)=>{var $e;const At=Y.transaction([Ss],"readwrite").objectStore(Ss),Mt=F.createCompositeKey(D);try{const st=At.put({compositeKey:Mt,value:M});st.onerror=Un=>{De(Ec(Un,"storage-set"))},st.onsuccess=()=>{ie()}}catch(st){De(Ut.create("storage-set",{originalErrorMessage:null===($e=st)||void 0===$e?void 0:$e.message}))}})})()}delete(D){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((Y,ie)=>{var De;const ft=F.transaction([Ss],"readwrite").objectStore(Ss),At=M.createCompositeKey(D);try{const Mt=ft.delete(At);Mt.onerror=st=>{ie(Ec(st,"storage-delete"))},Mt.onsuccess=()=>{Y()}}catch(Mt){ie(Ut.create("storage-delete",{originalErrorMessage:null===(De=Mt)||void 0===De?void 0:De.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ca{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const M=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ie=yield M;ie&&(D.lastFetchStatus=ie);const De=yield F;De&&(D.lastSuccessfulFetchTimestampMillis=De);const $e=yield Y;$e&&(D.activeConfig=$e)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function li(){return td.apply(this,arguments)}function td(){return(td=(0,R.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Lo(){(0,ue._registerComponent)(new he.wA("remote-config",function E(D,{instanceIdentifier:M}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ut.create("registration-window");if(!(0,se.hl)())throw Ut.create("indexed-db-unavailable");const{projectId:ie,apiKey:De,appId:$e}=F.options;if(!ie)throw Ut.create("registration-project-id");if(!De)throw Ut.create("registration-api-key");if(!$e)throw Ut.create("registration-app-id");const ft=new Xl($e,F.name,M=M||"firebase"),At=new Ca(ft),Mt=new de.Yd(Ds);Mt.logLevel=de.in.ERROR;const st=new bc(Y,ue.SDK_VERSION,M,ie,De,$e),Un=new zp(st,ft),zr=new qp(Un,ft,At,Mt),Ya=new Ql(F,zr,At,ft,Mt);return function Sr(E){const D=(0,se.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ds,"0.3.11"),(0,ue.registerVersion)(Ds,"0.3.11","esm2017")}();const Vo="/firebase-messaging-sw.js",Si="/firebase-cloud-messaging-push-scope",no="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bo="google.c.a.c_id",ba="google.c.a.c_l",nd="google.c.a.ts",rd="google.c.a.e";var Kn=(()=>{return(E=Kn||(Kn={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Kn;var E})();function Mr(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function id(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),Y=new Uint8Array(F.length);for(let ie=0;ie<F.length;++ie)Y[ie]=F.charCodeAt(ie);return Y}const $o="fcm_token_details_db",Hr="fcm_token_object_Store";function Nn(E){return od.apply(this,arguments)}function od(){return od=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes($o))return null;let D=null;return(yield(0,fe.X3)($o,5,{upgrade:(F=(0,R.Z)(function*(Y,ie,De,$e){var ft;if(ie<2||!Y.objectStoreNames.contains(Hr))return;const At=$e.objectStore(Hr),Mt=yield At.index("fcmSenderId").get(E);if(yield At.clear(),Mt)if(2===ie){const st=Mt;if(!st.auth||!st.p256dh||!st.endpoint)return;D={token:st.fcmToken,createTime:null!==(ft=st.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:st.auth,p256dh:st.p256dh,endpoint:st.endpoint,swScope:st.swScope,vapidKey:"string"==typeof st.vapidKey?st.vapidKey:Mr(st.vapidKey)}}}else if(3===ie){const st=Mt;D={token:st.fcmToken,createTime:st.createTime,subscriptionOptions:{auth:Mr(st.auth),p256dh:Mr(st.p256dh),endpoint:st.endpoint,swScope:st.swScope,vapidKey:Mr(st.vapidKey)}}}else if(4===ie){const st=Mt;D={token:st.fcmToken,createTime:st.createTime,subscriptionOptions:{auth:Mr(st.auth),p256dh:Mr(st.p256dh),endpoint:st.endpoint,swScope:st.swScope,vapidKey:Mr(st.vapidKey)}}}}),function(ie,De,$e,ft){return F.apply(this,arguments)})})).close(),yield(0,fe.Lj)($o),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Yh(D)?D:null;var F}),od.apply(this,arguments)}function Yh(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Xi="firebase-messaging-store";let Ea=null;function es(){return Ea||(Ea=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Xi)}})),Ea}function fr(E){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,R.Z)(function*(E){const D=Go(E),F=yield(yield es()).transaction(Xi).objectStore(Xi).get(D);if(F)return F;{const Y=yield Nn(E.appConfig.senderId);if(Y)return yield di(E,Y),Y}})).apply(this,arguments)}function di(E,D){return ts.apply(this,arguments)}function ts(){return(ts=(0,R.Z)(function*(E,D){const M=Go(E),Y=(yield es()).transaction(Xi,"readwrite");return yield Y.objectStore(Xi).put(D,M),yield Y.done,D})).apply(this,arguments)}function ns(E){return rs.apply(this,arguments)}function rs(){return(rs=(0,R.Z)(function*(E){const D=Go(E),F=(yield es()).transaction(Xi,"readwrite");yield F.objectStore(Xi).delete(D),yield F.done})).apply(this,arguments)}function Go({appConfig:E}){return E.appId}const In=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ad(E,D){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,R.Z)(function*(E,D){var M;const F=yield Ee(E),Y=so(D),ie={method:"POST",headers:F,body:JSON.stringify(Y)};let De;try{De=yield(yield fetch(qo(E.appConfig),ie)).json()}catch($e){throw In.create("token-subscribe-failed",{errorInfo:null===(M=$e)||void 0===M?void 0:M.toString()})}if(De.error)throw In.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw In.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function Ic(E,D){return io.apply(this,arguments)}function io(){return(io=(0,R.Z)(function*(E,D){var M;const F=yield Ee(E),Y=so(D.subscriptionOptions),ie={method:"PATCH",headers:F,body:JSON.stringify(Y)};let De;try{De=yield(yield fetch(`${qo(E.appConfig)}/${D.token}`,ie)).json()}catch($e){throw In.create("token-update-failed",{errorInfo:null===(M=$e)||void 0===M?void 0:M.toString()})}if(De.error)throw In.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw In.create("token-update-no-token");return De.token})).apply(this,arguments)}function Ms(E,D){return Au.apply(this,arguments)}function Au(){return(Au=(0,R.Z)(function*(E,D){var M;const Y={method:"DELETE",headers:yield Ee(E)};try{const De=yield(yield fetch(`${qo(E.appConfig)}/${D}`,Y)).json();if(De.error)throw In.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(ie){throw In.create("token-unsubscribe-failed",{errorInfo:null===(M=ie)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function qo({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function Ee(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*({appConfig:E,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function so({p256dh:E,auth:D,endpoint:M,vapidKey:F}){const Y={web:{endpoint:M,auth:D,p256dh:E}};return F!==no&&(Y.web.applicationPubKey=F),Y}const Ia=6048e5;function mn(E){return Da.apply(this,arguments)}function Da(){return(Da=(0,R.Z)(function*(E){const D=yield Qh(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Mr(D.getKey("auth")),p256dh:Mr(D.getKey("p256dh"))},F=yield fr(E.firebaseDependencies);if(F){if(Ln(F.subscriptionOptions,M))return Date.now()>=F.createTime+Ia?Ta(E,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Ms(E.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return zo(E.firebaseDependencies,M)}return zo(E.firebaseDependencies,M)})).apply(this,arguments)}function xs(E){return ri.apply(this,arguments)}function ri(){return(ri=(0,R.Z)(function*(E){const D=yield fr(E.firebaseDependencies);D&&(yield Ms(E.firebaseDependencies,D.token),yield ns(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ta(E,D){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,R.Z)(function*(E,D){try{const M=yield Ic(E.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield di(E.firebaseDependencies,F),M}catch(M){throw yield xs(E),M}})).apply(this,arguments)}function zo(E,D){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,R.Z)(function*(E,D){const F={token:yield ad(E,D),createTime:Date.now(),subscriptionOptions:D};return yield di(E,F),F.token})).apply(this,arguments)}function Qh(E,D){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:id(D)})})).apply(this,arguments)}function Ln(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}function Mi(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Ma(E,D){if(!D.notification)return;E.notification={};const M=D.notification.title;M&&(E.notification.title=M);const F=D.notification.body;F&&(E.notification.body=F);const Y=D.notification.image;Y&&(E.notification.image=Y)}(D,E),function oo(E,D){!D.data||(E.data=D.data)}(D,E),function is(E,D){var M,F,Y,ie,De;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const $e=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(ie=D.notification)||void 0===ie?void 0:ie.click_action;$e&&(E.fcmOptions.link=$e);const ft=null===(De=D.fcmOptions)||void 0===De?void 0:De.analytics_label;ft&&(E.fcmOptions.analyticsLabel=ft)}(D,E),D}function Dc(E){return"object"==typeof E&&!!E&&Bo in E}function Tc(E,D){const M=[];for(let F=0;F<E.length;F++)M.push(E.charAt(F)),F<D.length&&M.push(D.charAt(F));return M.join("")}function xa(E){return In.create("missing-app-config-values",{valueName:E})}Tc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ac{constructor(D,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function ud(E){if(!E||!E.options)throw xa("App Configuration Object");if(!E.name)throw xa("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const F of D)if(!M[F])throw xa(F);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ao(E){return Su.apply(this,arguments)}function Su(){return(Su=(0,R.Z)(function*(E){var D;try{E.swRegistration=yield navigator.serviceWorker.register(Vo,{scope:Si}),E.swRegistration.update().catch(()=>{})}catch(M){throw In.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Oa(E,D){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,R.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield ao(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Wo(E,D){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,R.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=no)})).apply(this,arguments)}function Ou(){return(Ou=(0,R.Z)(function*(E,D){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield Wo(E,D?.vapidKey),yield Oa(E,D?.serviceWorkerRegistration),mn(E)})).apply(this,arguments)}function Pu(E,D,M){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,R.Z)(function*(E,D,M){const F=Zo(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[Bo],message_name:M[ba],message_time:M[nd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zo(E){switch(E){case Kn.NOTIFICATION_CLICKED:return"notification_open";case Kn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nu(){return(Nu=(0,R.Z)(function*(E,D){const M=D.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===Kn.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Mi(M)):E.onMessageHandler.next(Mi(M)));const F=M.data;Dc(F)&&"1"===F[rd]&&(yield Pu(E,M.messageType,F))})).apply(this,arguments)}const Yn="@firebase/messaging",En=E=>{const D=new Ac(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Jh(E,D){return Nu.apply(this,arguments)}(D,M)),D},Pa=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:F=>function xu(E,D){return Ou.apply(this,arguments)}(D,F)}};function Xh(){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,R.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cd(){(0,ue._registerComponent)(new he.wA("messaging",En,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",Pa,"PRIVATE")),(0,ue.registerVersion)(Yn,"0.9.16"),(0,ue.registerVersion)(Yn,"0.9.16","esm2017")}();const xi="analytics",Ko="firebase_id",Oi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Na="https://www.googletagmanager.com/gtag/js",ar=new de.Yd("@firebase/analytics");function rf(E){return Promise.all(E.map(D=>D.catch(M=>M)))}function yy(E,D){const M=document.createElement("script");M.src=`${Na}?l=${E}&id=${D}`,M.async=!0,document.head.appendChild(M)}function ka(E,D,M,F,Y,ie){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(E,D,M,F,Y,ie){const De=F[Y];try{if(De)yield D[De];else{const ft=(yield rf(M)).find(At=>At.measurementId===Y);ft&&(yield D[ft.appId])}}catch($e){ar.error($e)}E("config",Y,ie)})).apply(this,arguments)}function hd(E,D,M,F,Y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,R.Z)(function*(E,D,M,F,Y){try{let ie=[];if(Y&&Y.send_to){let De=Y.send_to;Array.isArray(De)||(De=[De]);const $e=yield rf(M);for(const ft of De){const At=$e.find(st=>st.measurementId===ft),Mt=At&&D[At.appId];if(!Mt){ie=[];break}ie.push(Mt)}}0===ie.length&&(ie=Object.values(D)),yield Promise.all(ie),E("event",F,Y||{})}catch(ie){ar.error(ie)}})).apply(this,arguments)}function La(){const E=window.document.getElementsByTagName("script");for(const D of Object.values(E))if(D.src&&D.src.includes(Na))return D;return null}const pr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gd=new class co{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function cn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Pi(E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,R.Z)(function*(E){var D;const{appId:M,apiKey:F}=E,Y={method:"GET",headers:cn(F)},ie=Oi.replace("{app-id}",M),De=yield fetch(ie,Y);if(200!==De.status&&304!==De.status){let $e="";try{const ft=yield De.json();null!==(D=ft.error)&&void 0!==D&&D.message&&($e=ft.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:De.status,responseMessage:$e})}return De.json()})).apply(this,arguments)}function sn(E){return ur.apply(this,arguments)}function ur(){return(ur=(0,R.Z)(function*(E,D=gd,M){const{appId:F,apiKey:Y,measurementId:ie}=E.options;if(!F)throw pr.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:F};throw pr.create("no-api-key")}const De=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new af;return setTimeout((0,R.Z)(function*(){$e.abort()}),void 0!==M?M:6e4),Yo({appId:F,apiKey:Y,measurementId:ie},De,$e,D)})).apply(this,arguments)}function Yo(E,D,M){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:M},F,Y=gd){var ie,De;const{appId:$e,measurementId:ft}=E;try{yield xr(F,D)}catch(At){if(ft)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${null===(ie=At)||void 0===ie?void 0:ie.message}]`),{appId:$e,measurementId:ft};throw At}try{const At=yield Pi(E);return Y.deleteThrottleMetadata($e),At}catch(At){const Mt=At;if(!Fu(Mt)){if(Y.deleteThrottleMetadata($e),ft)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${Mt?.message}]`),{appId:$e,measurementId:ft};throw At}const st=503===Number(null===(De=Mt?.customData)||void 0===De?void 0:De.httpStatus)?(0,se.$s)(M,Y.intervalMillis,30):(0,se.$s)(M,Y.intervalMillis),Un={throttleEndTimeMillis:Date.now()+st,backoffCount:M+1};return Y.setThrottleMetadata($e,Un),ar.debug(`Calling attemptFetch again in ${st} millis`),Yo(E,Un,F,Y)}})).apply(this,arguments)}function xr(E,D){return new Promise((M,F)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(M,Y);E.addEventListener(()=>{clearTimeout(ie),F(pr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Fu(E){if(!(E instanceof se.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}class af{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ua,ja;function Ns(){return(Ns=(0,R.Z)(function*(E,D,M,F,Y){if(Y&&Y.global)E("event",M,F);else{const ie=yield D;E("event",M,Object.assign(Object.assign({},F),{send_to:ie}))}})).apply(this,arguments)}function $a(E){ja=E}function Lu(E){Ua=E}function yd(){return ho.apply(this,arguments)}function ho(){return(ho=(0,R.Z)(function*(){var E;if(!(0,se.hl)())return ar.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return ar.warn(pr.create("indexeddb-unavailable",{errorInfo:null===(E=D)||void 0===E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function Ri(){return(Ri=(0,R.Z)(function*(E,D,M,F,Y,ie,De){var $e;const ft=sn(E);ft.then(zr=>{M[zr.measurementId]=zr.appId,E.options.measurementId&&zr.measurementId!==E.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zr=>ar.error(zr)),D.push(ft);const At=yd().then(zr=>{if(zr)return F.getId()}),[Mt,st]=yield Promise.all([ft,At]);La()||yy(ie,Mt.measurementId),ja&&(Y("consent","default",ja),$a(void 0)),Y("js",new Date);const Un=null!==($e=De?.config)&&void 0!==$e?$e:{};return Un.origin="firebase",Un.update=!0,null!=st&&(Un[Ko]=st),Y("config",Mt.measurementId,Un),Ua&&(Y("set",Ua),Lu(void 0)),Mt.measurementId})).apply(this,arguments)}class ss{constructor(D){this.app=D}_delete(){return delete wr[this.app.options.appId],Promise.resolve()}}let wr={},Ha=[];const Jo={};let Rc,vt,Or="dataLayer",fo=!1;function Vu(E,D,M){!function cr(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),M=pr.create("invalid-analytics-context",{errorInfo:D});ar.warn(M.message)}}();const F=E.options.appId;if(!F)throw pr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw pr.create("no-api-key");ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wr[F])throw pr.create("already-exists",{id:F});if(!fo){!function _y(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Or);const{wrappedGtag:ie,gtagCore:De}=function sf(E,D,M,F,Y){let ie=function(...De){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function fd(E,D,M,F){function ie(){return(ie=(0,R.Z)(function*(De,$e,ft){try{"event"===De?yield hd(E,D,M,$e,ft):"config"===De?yield ka(E,D,M,F,$e,ft):"consent"===De?E("consent","update",ft):E("set",$e)}catch(At){ar.error(At)}})).apply(this,arguments)}return function Y(De,$e,ft){return ie.apply(this,arguments)}}(ie,E,D,M),{gtagCore:ie,wrappedGtag:window[Y]}}(wr,Ha,Jo,Or,"gtag");vt=ie,Rc=De,fo=!0}return wr[F]=function ks(E,D,M,F,Y,ie,De){return Ri.apply(this,arguments)}(E,Ha,Jo,D,Rc,Or,M),new ss(E)}function Pr(){return ki.apply(this,arguments)}function ki(){return(ki=(0,R.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Qn="@firebase/analytics";!function Nc(){(0,ue._registerComponent)(new he.wA(xi,(D,{options:M})=>Vu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function E(D){try{const M=D.getProvider(xi).getImmediate();return{logEvent:(F,Y,ie)=>function po(E,D,M,F){E=(0,se.m9)(E),function md(E,D,M,F,Y){return Ns.apply(this,arguments)}(vt,wr[E.app.options.appId],D,M,F).catch(Y=>ar.error(Y))}(M,F,Y,ie)}}catch(M){throw pr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ue.registerVersion)(Qn,"0.8.0"),(0,ue.registerVersion)(Qn,"0.8.0","esm2017")}();var Xo=k(4408),ea=k(7565);const kc=new class Pt extends ea.v{}(class Ga extends Xo.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,M,F):D.flush(this)}});var vd=k(4986),ta=k(8505),tn=k(9468),na=k(5363);const go=new f.GfV("7.4.1"),Fc="__angularfire_symbol__analyticsIsSupportedValue",Lc="__angularfire_symbol__analyticsIsSupported",Dn="__angularfire_symbol__remoteConfigIsSupportedValue",si="__angularfire_symbol__remoteConfigIsSupported",qa="__angularfire_symbol__messagingIsSupportedValue",Vc="__angularfire_symbol__messagingIsSupported";function Bc(E,D,M){if(D){if(1===D.length)return D[0];const ie=D.filter(De=>De.app===M);if(1===ie.length)return ie[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[Lc]||(globalThis[Lc]=Pr().then(E=>globalThis[Fc]=E).catch(()=>globalThis[Fc]=!1)),globalThis[Vc]||(globalThis[Vc]=Xh().then(E=>globalThis[qa]=E).catch(()=>globalThis[qa]=!1)),globalThis[si]||(globalThis[si]=li().then(E=>globalThis[Dn]=E).catch(()=>globalThis[Dn]=!1));const mo=(E,D)=>{const M=D?[D]:(0,te.C6)(),F=[];return M.forEach(Y=>{Y.container.getProvider(E).instances.forEach(De=>{F.includes(De)||F.push(De)})}),F};function os(){}class Fi{constructor(D,M=kc){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,F){const Y=this.zone;return this.delegate.schedule(function(De){Y.runGuarded(()=>{D.apply(this,[De])})},M,F)}}class ju{constructor(D){this.zone=D,this.task=null}call(D,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),M.pipe((0,ta.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yo=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Fi(Zone.current)),this.insideAngular=M.run(()=>new Fi(Zone.current,vd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Tt(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function _n(E){return Tt(),function Za(E){return function(M){return(M=M.lift(new ju(E.ngZone))).pipe((0,tn.R)(E.outsideAngular),(0,na.Q)(E.insideAngular))}}(Tt())(E)}},2090:(at,Te,k)=>{k.d(Te,{$s:()=>bs,BH:()=>Ue,G6:()=>He,L:()=>fe,LL:()=>Le,Mn:()=>be,Sg:()=>xe,UG:()=>_e,US:()=>he,ZB:()=>j,ZR:()=>re,b$:()=>it,d:()=>Ae,eu:()=>ye,hl:()=>U,jU:()=>pe,m9:()=>$t,ne:()=>pt,pd:()=>ei,r3:()=>Dr,ru:()=>Qe,tV:()=>ge,uI:()=>et,vZ:()=>Xr,w1:()=>ve,xO:()=>Ii,xb:()=>rn,z$:()=>we,zI:()=>K,zd:()=>Zi});const ue=function(Z){const H=[];let L=0;for(let G=0;G<Z.length;G++){let z=Z.charCodeAt(G);z<128?H[L++]=z:z<2048?(H[L++]=z>>6|192,H[L++]=63&z|128):55296==(64512&z)&&G+1<Z.length&&56320==(64512&Z.charCodeAt(G+1))?(z=65536+((1023&z)<<10)+(1023&Z.charCodeAt(++G)),H[L++]=z>>18|240,H[L++]=z>>12&63|128,H[L++]=z>>6&63|128,H[L++]=63&z|128):(H[L++]=z>>12|224,H[L++]=z>>6&63|128,H[L++]=63&z|128)}return H},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,H){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let z=0;z<Z.length;z+=3){const Ie=Z[z],Be=z+1<Z.length,ut=Be?Z[z+1]:0,an=z+2<Z.length,Jt=an?Z[z+2]:0;let un=(15&ut)<<2|Jt>>6,gn=63&Jt;an||(gn=64,Be||(un=64)),G.push(L[Ie>>2],L[(3&Ie)<<4|ut>>4],L[un],L[gn])}return G.join("")},encodeString(Z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(Z):this.encodeByteArray(ue(Z),H)},decodeString(Z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(Z):function(Z){const H=[];let L=0,G=0;for(;L<Z.length;){const z=Z[L++];if(z<128)H[G++]=String.fromCharCode(z);else if(z>191&&z<224){const Ie=Z[L++];H[G++]=String.fromCharCode((31&z)<<6|63&Ie)}else if(z>239&&z<365){const an=((7&z)<<18|(63&Z[L++])<<12|(63&Z[L++])<<6|63&Z[L++])-65536;H[G++]=String.fromCharCode(55296+(an>>10)),H[G++]=String.fromCharCode(56320+(1023&an))}else{const Ie=Z[L++],Be=Z[L++];H[G++]=String.fromCharCode((15&z)<<12|(63&Ie)<<6|63&Be)}}return H.join("")}(this.decodeStringToByteArray(Z,H))},decodeStringToByteArray(Z,H){this.init_();const L=H?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let z=0;z<Z.length;){const Ie=L[Z.charAt(z++)],ut=z<Z.length?L[Z.charAt(z)]:0;++z;const Jt=z<Z.length?L[Z.charAt(z)]:64;++z;const tt=z<Z.length?L[Z.charAt(z)]:64;if(++z,null==Ie||null==ut||null==Jt||null==tt)throw Error();G.push(Ie<<2|ut>>4),64!==Jt&&(G.push(ut<<4&240|Jt>>2),64!==tt&&G.push(Jt<<6&192|tt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},fe=function(Z){return function(Z){const H=ue(Z);return he.encodeByteArray(H,!0)}(Z).replace(/\./g,"")},ge=function(Z){try{return he.decodeString(Z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function j(Z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return H}for(const L in H)!H.hasOwnProperty(L)||!Q(L)||(Z[L]=j(Z[L],H[L]));return Z}function Q(Z){return"__proto__"!==Z}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,L)=>{this.resolve=H,this.reject=L})}wrapCallback(H){return(L,G)=>{L?this.reject(L):this.resolve(G),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(L):H(L,G))}}}function xe(Z,H){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=H||"demo-project",z=Z.iat||0,Ie=Z.sub||Z.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:z,exp:z+3600,auth_time:z,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Be)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Qe(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return we().indexOf("Electron/")>=0}function ve(){const Z=we();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function be(){return we().indexOf("MSAppHost/")>=0}function He(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function ye(){return new Promise((Z,H)=>{try{let L=!0;const G="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(G);z.onsuccess=()=>{z.result.close(),L||self.indexedDB.deleteDatabase(G),Z(!0)},z.onupgradeneeded=()=>{L=!1},z.onerror=()=>{var Ie;H((null===(Ie=z.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(L){H(L)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class re extends Error{constructor(H,L,G){super(L),this.code=H,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(H,L,G){this.service=H,this.serviceName=L,this.errors=G}create(H,...L){const G=L[0]||{},z=`${this.service}/${H}`,Ie=this.errors[H],Be=Ie?function Fe(Z,H){return Z.replace(dt,(L,G)=>{const z=H[G];return null!=z?String(z):`<${G}?>`})}(Ie,G):"Error";return new re(z,`${this.serviceName}: ${Be} (${z}).`,G)}}const dt=/\{\$([^}]+)}/g;function Dr(Z,H){return Object.prototype.hasOwnProperty.call(Z,H)}function rn(Z){for(const H in Z)if(Object.prototype.hasOwnProperty.call(Z,H))return!1;return!0}function Xr(Z,H){if(Z===H)return!0;const L=Object.keys(Z),G=Object.keys(H);for(const z of L){if(!G.includes(z))return!1;const Ie=Z[z],Be=H[z];if(vr(Ie)&&vr(Be)){if(!Xr(Ie,Be))return!1}else if(Ie!==Be)return!1}for(const z of G)if(!L.includes(z))return!1;return!0}function vr(Z){return null!==Z&&"object"==typeof Z}function Ii(Z){const H=[];for(const[L,G]of Object.entries(Z))Array.isArray(G)?G.forEach(z=>{H.push(encodeURIComponent(L)+"="+encodeURIComponent(z))}):H.push(encodeURIComponent(L)+"="+encodeURIComponent(G));return H.length?"&"+H.join("&"):""}function Zi(Z){const H={};return Z.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[z,Ie]=G.split("=");H[decodeURIComponent(z)]=decodeURIComponent(Ie)}}),H}function ei(Z){const H=Z.indexOf("?");if(!H)return"";const L=Z.indexOf("#",H);return Z.substring(H,L>0?L:void 0)}function pt(Z,H){const L=new ln(Z,H);return L.subscribe.bind(L)}class ln{constructor(H,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{H(this)}).catch(G=>{this.error(G)})}next(H){this.forEachObserver(L=>{L.next(H)})}error(H){this.forEachObserver(L=>{L.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,L,G){let z;if(void 0===H&&void 0===L&&void 0===G)throw new Error("Missing Observer.");z=function xn(Z,H){if("object"!=typeof Z||null===Z)return!1;for(const L of H)if(L in Z&&"function"==typeof Z[L])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:L,complete:G},void 0===z.next&&(z.next=Ti),void 0===z.error&&(z.error=Ti),void 0===z.complete&&(z.complete=Ti);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch{}}),this.observers.push(z),Ie}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,H)}sendOne(H,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{L(this.observers[H])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ti(){}function bs(Z,H=1e3,L=2){const G=H*Math.pow(L,Z),z=Math.round(.5*G*(Math.random()-.5)*2);return Math.min(144e5,G+z)}function $t(Z){return Z&&Z._delegate?Z._delegate:Z}},9389:(at,Te,k)=>{var f=k(4650);let te=null;function R(){return te}const de=new f.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ge(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const B=new f.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ue(){return new j((0,f.LFG)(de))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function et(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Qe)},providedIn:"root"}),n})();const pe=new f.OlP("appBaseHref");let Qe=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+et(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+et(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+et(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(pe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+et(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+et(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(pe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(je(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+et(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+et(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=et,n.joinWithSlash=xe,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(f.LFG(_e))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return new Ae((0,f.LFG)(_e))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class ko{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ko(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Rn(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Rn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Rn(n,e){n.context.$implicit=e.item}let jo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Hr(n){return"server"===n}let ro=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Gr((0,f.LFG)(de),window)}),n})();class Gr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ea(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xi(this.window.history)||Xi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class di extends class Ho extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){te||(te=n)}(new di)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ns(){return ts=ts||document.querySelector("base"),ts?ts.getAttribute("href"):null}();return null==t?null:function Go(n){rs=rs||document.createElement("a"),rs.setAttribute("href",n);const e=rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function wc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let rs,ts=null;const Et=new f.OlP("TRANSITION_ID"),ad=[{provide:f.ip1,useFactory:function In(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Et,de,f.zs3],multi:!0}];let Ic=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const io=new f.OlP("EventManagerPlugins");let Ms=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const l=o[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(io),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Au{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n extends qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,o.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Bt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bt))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Bt(n){R().remove(n)}const so={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ia=/%COMP%/g;function zo(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?zo(n,o,t):(o=o.replace(Ia,n),t.push(o))}return t}function Sa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Os=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ln(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new is(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Dc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=zo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ms),f.LFG(Ee),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ln{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(so[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(oo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=so[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=so[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Sa(r)):this.eventManager.addEventListener(e,t,Sa(r))}}function oo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class is extends Ln{constructor(e,t,r,o){super(e),this.component=r;const u=zo(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ta(n){return"_ngcontent-%COMP%".replace(Ia,n)}(o+"-"+r.id),this.hostAttr=function Aa(n){return"_nghost-%COMP%".replace(Ia,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Dc extends Ln{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=zo(o.id,o.styles,[]);for(let l=0;l<u.length;l++){const m=document.createElement("style");m.textContent=u[l],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Tc=(()=>{class n extends Au{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=["alt","control","meta","shift"],Ac={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ao={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Su={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Oa=(()=>{class n extends Au{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="";if(ud.forEach(v=>{const I=r.indexOf(v);I>-1&&(r.splice(I,1),l+=v+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static getEventFullKey(t){let r="",o=function Sc(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ao.hasOwnProperty(e)&&(e=ao[e]))}return Ac[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ud.forEach(u=>{u!=o&&(0,Su[u])(t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Jh=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Ou(){di.makeCurrent()},multi:!0},{provide:de,useFactory:function Ru(){return(0,f.RDi)(document),document},deps:[]}]),Nu=new f.OlP(""),Yn=[{provide:f.rWj,useClass:class Tu{addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(v){l=l||v,u--,0==u&&r(l)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],ii=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Pu(){return new f.qLn},deps:[]},{provide:io,useClass:Tc,multi:!0,deps:[de,f.R0b,f.Lbi]},{provide:io,useClass:Oa,multi:!0,deps:[de]},{provide:Os,useClass:Os,deps:[Ms,Ee,f.AFp]},{provide:f.FYo,useExisting:Os},{provide:qo,useExisting:Ee},{provide:Ee,useClass:Ee,deps:[de]},{provide:Ms,useClass:Ms,deps:[io,f.R0b]},{provide:class fr{},useClass:Ic,deps:[]},[]];let En=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Et,useExisting:f.AFp},ad]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Nu,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...ii,...Yn],imports:[jo,f.hGG]}),n})(),ld=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Mc(){return new ld((0,f.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var cn=k(8996),Pi=k(7669);function Ye(...n){const e=(0,Pi.yG)(n);return(0,cn.D)(n,e)}var sn=k(7579);class ur extends sn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Rs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xr=k(9751);const{isArray:Fu}=Array,{getPrototypeOf:af,prototype:Ua,keys:md}=Object;function Ns(n){if(1===n.length){const e=n[0];if(Fu(e))return{args:e,keys:null};if(function Oc(n){return n&&"object"==typeof n&&af(n)===Ua}(e)){const t=md(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var hi=k(4671),ht=k(4004);const{isArray:lo}=Array;function Qo(n){return(0,ht.U)(e=>function Pc(n,e){return lo(e)?n(...e):n(e)}(n,e))}function Ba(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var yn=k(5403),ja=k(9672);function $a(...n){const e=(0,Pi.yG)(n),t=(0,Pi.jO)(n),{args:r,keys:o}=Ns(n);if(0===r.length)return(0,cn.D)([],e);const u=new xr.y(function Lu(n,e,t=hi.y){return r=>{yd(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let v=0;v<o;v++)yd(e,()=>{const I=(0,cn.D)(n[v],e);let S=!1;I.subscribe((0,yn.x)(r,O=>{u[v]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>Ba(o,l):hi.y));return t?u.pipe(Qo(t)):u}function yd(n,e,t){n?(0,ja.f)(t,n,e):e()}var ho=k(8189);function Ri(...n){return function ks(){return(0,ho.J)(1)}()((0,cn.D)(n,(0,Pi.yG)(n)))}var ss=k(8421);function wr(n){return new xr.y(e=>{(0,ss.Xf)(n()).subscribe(e)})}var Ha=k(9635),Jo=k(576);function Or(n,e){const t=(0,Jo.m)(n)?n:()=>n,r=o=>o.error(t());return new xr.y(e?o=>e.schedule(r,0,o):r)}var Fs=k(515),Rc=k(727),vt=k(4482);function fo(){return(0,vt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Qp extends xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rc.w0.EMPTY)}return e}refCount(){return fo()(this)}}function cr(n,e){return(0,vt.e)((t,r)=>{let o=null,u=0,l=!1;const m=()=>l&&!o&&r.complete();t.subscribe((0,yn.x)(r,v=>{o?.unsubscribe();let I=0;const S=u++;(0,ss.Xf)(n(v,S)).subscribe(o=(0,yn.x)(r,O=>r.next(e?e(v,O,S,I++):O),()=>{o=null,m()}))},()=>{l=!0,m()}))})}function Vu(n){return n<=0?()=>Fs.E:(0,vt.e)((e,t)=>{let r=0;e.subscribe((0,yn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Uu(...n){const e=(0,Pi.yG)(n);return(0,vt.e)((t,r)=>{(e?Ri(n,t,e):Ri(n,t)).subscribe(r)})}function Ni(n,e){return(0,vt.e)((t,r)=>{let o=0;t.subscribe((0,yn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Pr=k(5577);function ki(n){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Jp(n=vy){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function vy(){return new Rs}function on(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ni((o,u)=>n(o,u,r)):hi.y,Vu(1),t?ki(e):Jp(()=>new Rs))}function Ls(n,e){return(0,Jo.m)(e)?(0,Pr.z)(n,e,1):(0,Pr.z)(n,1)}var Vn=k(8505);function po(n){return(0,vt.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,yn.x)(t,void 0,void 0,l=>{u=(0,ss.Xf)(n(l,po(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function _d(n,e,t,r,o){return(u,l)=>{let m=t,v=e,I=0;u.subscribe((0,yn.x)(l,S=>{const O=I++;v=m?n(v,S,O):(m=!0,S),r&&l.next(v)},o&&(()=>{m&&l.next(v),l.complete()})))}}function Qn(n,e){return(0,vt.e)(_d(n,e,arguments.length>=2,!0))}function Rr(n){return n<=0?()=>Fs.E:(0,vt.e)((e,t)=>{let r=[];e.subscribe((0,yn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Nc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ni((o,u)=>n(o,u,r)):hi.y,Rr(1),t?ki(e):Jp(()=>new Rs))}function ea(n){return(0,vt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Pt="primary";class kc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bu(n){return new kc(n)}function vd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function tn(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!na(n[o],e[o]))return!1;return!0}function na(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function go(n){return Array.prototype.concat.apply([],n)}function Fc(n){return n.length>0?n[n.length-1]:null}function Dn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function si(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,cn.D)(Promise.resolve(n)):Ye(n)}const za={exact:function Bc(n,e,t){if(!fi(n.segments,e.segments)||!ju(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bc(n.children[r],e.children[r],t))return!1;return!0},subset:os},uf={exact:function Uc(n,e){return tn(n,e)},subset:function mo(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>na(n[t],e[t]))},ignored:()=>!0};function Wa(n,e,t){return za[t.paths](n.root,e.root,t.matrixParams)&&uf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function os(n,e,t){return Fi(n,e,e.segments,t)}function Fi(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!fi(o,t)||e.hasChildren()||!ju(o,t,r))}if(n.segments.length===t.length){if(!fi(n.segments,t)||!ju(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!os(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(fi(n.segments,o)&&ju(n.segments,o,r)&&n.children[Pt])&&Fi(n.children[Pt],e,u,r)}}function ju(n,e,t){return e.every((r,o)=>uf[t](n[o].parameters,r.parameters))}class yo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return Cd.serialize(this)}}class Tt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Dn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ka(this)}}class Vs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bu(this.parameters)),this._parameterMap}toString(){return $e(this)}}function fi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Za},providedIn:"root"}),n})();class Za{parse(e){const t=new gi(e);return new yo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${E(e.root,!0)}`,r=function At(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${M(t)}=${M(o)}`).join("&"):`${M(t)}=${M(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function F(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cd=new Za;function Ka(n){return n.segments.map(e=>$e(e)).join("/")}function E(n,e){if(!n.hasChildren())return Ka(n);if(e){const t=n.children[Pt]?E(n.children[Pt],!1):"",r=[];return Dn(n.children,(o,u)=>{u!==Pt&&r.push(`${u}:${E(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function wd(n,e){let t=[];return Dn(n.children,(r,o)=>{o===Pt&&(t=t.concat(e(r,o)))}),Dn(n.children,(r,o)=>{o!==Pt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Pt?[E(n.children[Pt],!1)]:[`${o}:${E(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Ka(n)}/${t[0]}`:`${Ka(n)}/(${t.join("//")})`}}function D(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M(n){return D(n).replace(/%3B/gi,";")}function Y(n){return D(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ie(n){return decodeURIComponent(n)}function De(n){return ie(n.replace(/\+/g,"%20"))}function $e(n){return`${Y(n.path)}${function ft(n){return Object.keys(n).map(e=>`;${Y(e)}=${Y(n[e])}`).join("")}(n.parameters)}`}const Mt=/^[^\/()?;=#]+/;function st(n){const e=n.match(Mt);return e?e[0]:""}const Un=/^[^=?&#]+/,Ya=/^[^&#]+/;class gi{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Tt(e,t)),r}parseSegment(){const e=st(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(e),new Vs(ie(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=st(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=st(this.remaining);o&&(r=o,this.capture(r))}e[ie(t)]=ie(r)}parseQueryParam(e){const t=function zr(n){const e=n.match(Un);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function pi(n){const e=n.match(Ya);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=De(t),u=De(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=st(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new f.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Pt]:new Tt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,!1)}}function jc(n){return n.segments.length>0?new Tt([],{[Pt]:n}):n}function ra(n){const e={};for(const r of Object.keys(n.children)){const u=ra(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Us(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Tt(n.segments.concat(e.segments),e.children)}return n}(new Tt(n.segments,e))}function Wr(n){return n instanceof yo}function bd(n,e,t,r,o){if(0===t.length)return Bs(e.root,e.root,e.root,r,o);const u=function by(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new df(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Dn(u.outlets,(v,I)=>{m[I]="string"==typeof v?v.split("/"):v}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new df(t,e,r)}(t);return u.toRoot()?Bs(e.root,e.root,new Tt([],{}),r,o):function l(v){const I=function Xp(n,e,t,r){if(n.isAbsolute)return new ia(e.root,!0,0);if(-1===r)return new ia(t,t===e.root,0);return function Hc(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new f.vHH(4005,!1);o=r.segments.length}return new ia(r,!1,o-u)}(t,r+(Qa(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),S=I.processChildren?Gc(I.segmentGroup,I.index,u.commands):js(I.segmentGroup,I.index,u.commands);return Bs(e.root,I.segmentGroup,S,r,o)}(n.snapshot?._lastPathIndex)}function Qa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $c(n){return"object"==typeof n&&null!=n&&n.outlets}function Bs(n,e,t,r,o){let l,u={};r&&Dn(r,(v,I)=>{u[I]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),l=n===e?t:Cy(n,e,t);const m=jc(ra(l));return new yo(m,u,o)}function Cy(n,e,t){const r={};return Dn(n.children,(o,u)=>{r[u]=o===e?t:Cy(o,e,t)}),new Tt(n.segments,r)}class df{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Qa(r[0]))throw new f.vHH(4003,!1);const o=r.find($c);if(o&&o!==Fc(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ia{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function js(n,e,t){if(n||(n=new Tt([],{})),0===n.segments.length&&n.hasChildren())return Gc(n,e,t);const r=function Iy(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if($c(m))break;const v=`${m}`,I=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!Dd(v,I,l))return u;r+=2}else{if(!Dd(v,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Tt(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new Tt(n.segments.slice(r.pathIndex),n.children),Gc(u,0,o)}return r.match&&0===o.length?new Tt(n.segments,{}):r.match&&!n.hasChildren()?eg(n,e,t):r.match?Gc(n,0,o):eg(n,e,t)}function Gc(n,e,t){if(0===t.length)return new Tt(n.segments,{});{const r=function hf(n){return $c(n[0])?n[0].outlets:{[Pt]:n}}(t),o={};return Dn(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[l]=js(n.children[l],e,u))}),Dn(n.children,(u,l)=>{void 0===r[l]&&(o[l]=u)}),new Tt(n.segments,o)}}function eg(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if($c(u)){const v=Ed(u.outlets);return new Tt(r,v)}if(0===o&&Qa(t[0])){r.push(new Vs(n.segments[e].path,Id(t[0]))),o++;continue}const l=$c(u)?u.outlets[Pt]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&Qa(m)?(r.push(new Vs(l,Id(m))),o+=2):(r.push(new Vs(l,{})),o++)}return new Tt(r,{})}function Ed(n){const e={};return Dn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=eg(new Tt([],{}),0,t))}),e}function Id(n){const e={};return Dn(n,(t,r)=>e[r]=`${t}`),e}function Dd(n,e,t){return n==t.path&&tn(e,t.parameters)}class $s{constructor(e,t){this.id=e,this.url=t}}class Td extends $s{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sa extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends $s{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sd extends $s{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dy extends $s{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ff extends $s{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ty extends $s{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vo extends $s{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qc extends $s{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pf{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nw{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ay{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sy{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gf{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oa{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return yf(e,this._root).map(t=>t.value)}}function mf(n,e){if(n===e.value)return e;for(const t of e.children){const r=mf(n,t);if(r)return r}return null}function yf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yf(n,t);if(r.length)return r.unshift(e),r}return[]}class Hs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $u(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ja extends oa{constructor(e,t){super(e),this.snapshot=t,ng(this,e)}toString(){return this.snapshot.toString()}}function _f(n,e){const t=function Gs(n,e){const l=new Xa([],{},{},"",{},Pt,e,null,n.root,-1,{});return new My("",new Hs(l,[]))}(n,e),r=new ur([new Vs("",{})]),o=new ur({}),u=new ur({}),l=new ur({}),m=new ur(""),v=new Li(r,o,l,m,u,Pt,e,t.root);return v.snapshot=t.root,new Ja(new Hs(v,[]),t)}class Li{constructor(e,t,r,o,u,l,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Bu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Bu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function tg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xa{constructor(e,t,r,o,u,l,m,v,I,S,O,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=S,this._correctedLastPathIndex=V??S,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class My extends oa{constructor(e,t){super(t),this.url=e,ng(this,t)}toString(){return xy(this._root)}}function ng(n,e){e.value._routerState=n,e.children.forEach(t=>ng(n,t))}function xy(n){const e=n.children.length>0?` { ${n.children.map(xy).join(", ")} } `:"";return`${n.value}${e}`}function zc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,tn(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),tn(e.params,t.params)||n.params.next(t.params),function ta(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!tn(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),tn(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Wc(n,e){const t=tn(n.params,e.params)&&function qr(n,e){return fi(n,e)&&n.every((t,r)=>tn(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Wc(n.parent,e.parent))}function Hu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function ow(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Hu(n,r,o);return Hu(n,r)})}(n,e,t);return new Hs(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Hu(n,m)),l}}const r=function rg(n){return new Li(new ur(n.url),new ur(n.params),new ur(n.queryParams),new ur(n.fragment),new ur(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Hu(n,u));return new Hs(r,o)}}const Zc="ngNavigationCancelingError";function xd(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Wr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=ig(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function ig(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Zc]=!0,r.cancellationCode=e,t&&(r.url=t),r}function sg(n){return Gu(n)&&Wr(n.url)}function Gu(n){return n&&n[Zc]}class Od{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Od,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qu=!1;let Pd=(()=>{class n{constructor(t,r,o,u,l){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=o||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,qu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,qu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,qu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,qu);this._activatedRoute=t;const o=this.location,l=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new Jn(t,m,o.injector);if(r&&function Oy(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(l);this.activated=o.createComponent(I,o.length,v)}else this.activated=o.createComponent(l,{index:o.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Kc),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Jn{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Li?this.route:e===Kc?this.childContexts:this.parent.get(e,t)}}let og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[Pd],encapsulation:2}),n})();function Rd(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wo(n){const e=n.children&&n.children.map(wo),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=og),t}function Nr(n){return n.outlet||Pt}function Nd(n,e){const t=n.filter(r=>Nr(r)===e);return t.push(...n.filter(r=>Nr(r)!==e)),t}function Cf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ky{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=$u(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Dn(o,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=$u(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=$u(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=$u(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new iw(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Sy(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(zc(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),zc(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Cf(o.snapshot),v=m?.get(f._Vd)??null;l.attachRef=null,l.route=o,l.resolver=v,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Zr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Co{constructor(e,t){this.component=e,this.route=t}}function Fd(n,e,t){const r=n._root;return bo(r,e?e._root:null,t,[r.value])}function zu(n,e,t){return(Cf(e)??t).get(n)}function bo(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=$u(e);return n.children.forEach(l=>{(function ag(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function bf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fi(n.url,e.url)||!tn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wc(n,e)||!tn(n.queryParams,e.queryParams);default:return!Wc(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Zr(r)):(u.data=l.data,u._resolvedData=l._resolvedData),bo(n,e,u.component?m?m.children:null:t,r,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Co(m.outlet.component,l))}else l&&as(e,m,o),o.canActivateChecks.push(new Zr(r)),bo(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Dn(u,(l,m)=>as(l,t.getContext(m),o)),o}function as(n,e,t){const r=$u(n),o=n.value;Dn(r,(u,l)=>{as(u,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Co(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Vi(n){return"function"==typeof n}function Df(n){return n instanceof Rs||"EmptyError"===n?.name}const Ui=Symbol("INITIAL_VALUE");function us(){return cr(n=>$a(n.map(e=>e.pipe(Vu(1),Uu(Ui)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===Ui)return Ui;if(!1===t||t instanceof yo)return t}return!0}),Ni(e=>e!==Ui),Vu(1)))}function h(n){return(0,Ha.z)((0,Vn.b)(e=>{if(Wr(e))throw xd(0,e)}),(0,ht.U)(e=>!0===e))}const w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function A(n,e,t,r,o){const u=P(n,e,t);return u.matched?function g(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Ye(o.map(l=>{const m=n.get(l),v=function Xn(n){return n&&Vi(n.canMatch)}(m)?m.canMatch(e,t):m(e,t);return si(v)})).pipe(us(),h()):Ye(!0)}(r=Rd(e,r),e,t).pipe((0,ht.U)(l=>!0===l?u:{...w})):Ye(u)}function P(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...w}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||vd)(t,n,e);if(!o)return{...w};const u={};Dn(o.posParams,(m,v)=>{u[v]=m.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function W(n,e,t,r,o="corrected"){if(t.length>0&&function Xe(n,e,t){return t.some(r=>ct(n,e,r)&&Nr(r)!==Pt)}(n,t,r)){const l=new Tt(e,function Ve(n,e,t,r){const o={};o[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Nr(u)!==Pt){const l=new Tt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,o[Nr(u)]=l}return o}(n,e,r,new Tt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function yt(n,e,t){return t.some(r=>ct(n,e,r))}(n,t,r)){const l=new Tt(n.segments,function ce(n,e,t,r,o,u){const l={};for(const m of r)if(ct(n,t,m)&&!o[Nr(m)]){const v=new Tt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[Nr(m)]=v}return{...o,...l}}(n,e,t,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new Tt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function ct(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function er(n,e,t,r){return!!(Nr(n)===r||r!==Pt&&ct(e,t,n))&&("**"===n.path||P(e,n,t).matched)}function Bi(n,e,t){return 0===e.length&&!n.children[t]}const aa=!1;class Wu{constructor(e){this.segmentGroup=e||null}}class Zu{constructor(e){this.urlTree=e}}function Ku(n){return Or(new Wu(n))}function Sf(n){return Or(new Zu(n))}class el{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=W(this.urlTree.root,[],[],this.config).segmentGroup,t=new Tt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Pt).pipe((0,ht.U)(u=>this.createUrlTree(ra(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(po(u=>{if(u instanceof Zu)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Wu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Pt).pipe((0,ht.U)(o=>this.createUrlTree(ra(o),e.queryParams,e.fragment))).pipe(po(o=>{throw o instanceof Wu?this.noMatchError(o):o}))}noMatchError(e){return new f.vHH(4002,aa)}createUrlTree(e,t,r){const o=jc(e);return new yo(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ht.U)(u=>new Tt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,cn.D)(o).pipe(Ls(u=>{const l=r.children[u],m=Nd(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,ht.U)(v=>({segment:v,outlet:u})))}),Qn((u,l)=>(u[l.outlet]=l.segment,u),{}),Nc())}expandSegment(e,t,r,o,u,l){return(0,cn.D)(r).pipe(Ls(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,l).pipe(po(I=>{if(I instanceof Wu)return Ye(null);throw I}))),on(m=>!!m),po((m,v)=>{if(Df(m))return Bi(t,o,u)?Ye(new Tt([],{})):Ku(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,l,m){return er(o,t,u,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l):Ku(t):Ku(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Sf(u):this.lineralizeSegments(r,u).pipe((0,Pr.z)(l=>{const m=new Tt(l,{});return this.expandSegment(e,m,t,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:v,remainingSegments:I,positionalParamSegments:S}=P(t,o,u);if(!m)return Ku(t);const O=this.applyRedirectCommands(v,o.redirectTo,S);return o.redirectTo.startsWith("/")?Sf(O):this.lineralizeSegments(o,O).pipe((0,Pr.z)(V=>this.expandSegment(e,t,r,V.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=Rd(r,e),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ht.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Tt(o,{})))):Ye(new Tt(o,{}))):A(t,r,o,e).pipe(cr(({matched:l,consumedSegments:m,remainingSegments:v})=>l?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Pr.z)(S=>{const O=S.injector??e,V=S.routes,{segmentGroup:J,slicedSegments:ne}=W(t,m,v,V),Me=new Tt(J.segments,J.children);if(0===ne.length&&Me.hasChildren())return this.expandChildren(O,V,Me).pipe((0,ht.U)(mt=>new Tt(m,mt)));if(0===V.length&&0===ne.length)return Ye(new Tt(m,{}));const Pe=Nr(r)===u;return this.expandSegment(O,Me,V,ne,Pe?Pt:u,!0).pipe((0,ht.U)(bt=>new Tt(m.concat(bt.segments),bt.children)))})):Ku(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function y(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Ye(!0):Ye(o.map(l=>{const m=n.get(l),v=function Vd(n){return n&&Vi(n.canLoad)}(m)?m.canLoad(e,t):m(e,t);return si(v)})).pipe(us(),h())}(e,t,r).pipe((0,Pr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Vn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function By(n){return Or(ig(aa,3))}())):Ye({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ye(r);if(o.numberOfChildren>1||!o.children[Pt])return Or(new f.vHH(4e3,aa));o=o.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new yo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Dn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Dn(t.children,(m,v)=>{l[v]=this.createSegmentGroup(e,m,r,o)}),new Tt(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new f.vHH(4001,aa);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class lg{}class uI{constructor(e,t,r,o,u,l,m,v){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=m,this.urlSerializer=v}recognize(){const e=W(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pt).pipe((0,ht.U)(t=>{if(null===t)return null;const r=new Xa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Hs(r,t),u=new My(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=vf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,cn.D)(Object.keys(r.children)).pipe(Ls(o=>{const u=r.children[o],l=Nd(t,o);return this.processSegmentGroup(e,l,u,o)}),Qn((o,u)=>o&&u?(o.push(...u),o):null),function Xo(n,e=!1){return(0,vt.e)((t,r)=>{let o=0;t.subscribe((0,yn.x)(r,u=>{const l=n(u,o++);(l||e)&&r.next(u),!l&&r.complete()}))})}(o=>null!==o),ki(null),Nc(),(0,ht.U)(o=>{if(null===o)return null;const u=Gy(o);return function hw(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,cn.D)(t).pipe(Ls(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,o,u)),on(l=>!!l),po(l=>{if(Df(l))return Bi(r,o,u)?Ye([]):Ye(null);throw l}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!er(t,r,o,u))return Ye(null);let l;if("**"===t.path){const m=o.length>0?Fc(o).parameters:{},v=gw(r)+o.length;l=Ye({snapshot:new Xa(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ud(t),Nr(t),t.component??t._loadedComponent??null,t,dg(r),v,mw(t),v),consumedSegments:[],remainingSegments:[]})}else l=A(r,t,o,e).pipe((0,ht.U)(({matched:m,consumedSegments:v,remainingSegments:I,parameters:S})=>{if(!m)return null;const O=gw(r)+v.length;return{snapshot:new Xa(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ud(t),Nr(t),t.component??t._loadedComponent??null,t,dg(r),O,mw(t),O),consumedSegments:v,remainingSegments:I}}));return l.pipe(cr(m=>{if(null===m)return Ye(null);const{snapshot:v,consumedSegments:I,remainingSegments:S}=m;e=t._injector??e;const O=t._loadedInjector??e,V=function Hy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:J,slicedSegments:ne}=W(r,I,S,V.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution);if(0===ne.length&&J.hasChildren())return this.processChildren(O,V,J).pipe((0,ht.U)(Pe=>null===Pe?null:[new Hs(v,Pe)]));if(0===V.length&&0===ne.length)return Ye([new Hs(v,[])]);const Me=Nr(t)===u;return this.processSegment(O,V,J,ne,Me?Pt:u).pipe((0,ht.U)(Pe=>null===Pe?null:[new Hs(v,Pe)]))}))}}function fw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gy(n){const e=[],t=new Set;for(const r of n){if(!fw(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Gy(r.children);e.push(new Hs(r.value,o))}return e.filter(r=>!t.has(r))}function dg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ud(n){return n.data||{}}function mw(n){return n.resolve||{}}const qy=Symbol("RouteTitle");function fg(n){return"string"==typeof n.title||null===n.title}function zy(n){return cr(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,ht.U)(()=>e)):Ye(e)})}let _w=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Pt);return r}getResolvedTitleForRoute(t){return t.data[qy]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(vw)},providedIn:"root"}),n})(),vw=(()=>{class n extends _w{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ld))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ww{}class gI extends class pI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const xf=new f.OlP("",{providedIn:"root",factory:()=>({})}),Of=new f.OlP("ROUTES");let kr=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=si(t.loadComponent()).pipe((0,Vn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ea(()=>{this.componentLoaders.delete(t)})),o=new Qp(r,()=>new sn.x).pipe(fo());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ht.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I,S=!1;Array.isArray(m)?I=m:(v=m.create(t).injector,I=go(v.get(Of,[],f.XFs.Self|f.XFs.Optional)));return{routes:I.map(wo),injector:v}}),ea(()=>{this.childrenLoaders.delete(r)})),l=new Qp(u,()=>new sn.x).pipe(fo());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return si(t()).pipe((0,Pr.z)(r=>r instanceof f.YKP||Array.isArray(r)?Ye(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pf{}class Zy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mI(n){throw n}function Cw(n,e,t){return e.parse("/")}const yI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ky(){const n=(0,f.f3M)(_n),e=(0,f.f3M)(Kc),t=(0,f.f3M)(Ae),r=(0,f.f3M)(f.zs3),o=(0,f.f3M)(f.Sil),u=(0,f.f3M)(Of,{optional:!0})??[],l=(0,f.f3M)(xf,{optional:!0})??{},m=(0,f.f3M)(vw),v=(0,f.f3M)(_w,{optional:!0}),I=(0,f.f3M)(Pf,{optional:!0}),S=(0,f.f3M)(ww,{optional:!0}),O=new Kr(null,n,e,t,r,o,go(u));return I&&(O.urlHandlingStrategy=I),S&&(O.routeReuseStrategy=S),O.titleStrategy=v??m,function _I(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,O),O}let Kr=(()=>{class n{constructor(t,r,o,u,l,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new sn.x,this.errorHandler=mI,this.malformedUriErrorHandler=Cw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ye(void 0),this.urlHandlingStrategy=new Zy,this.routeReuseStrategy=new gI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(kr),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new nw(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new pf(V)),this.ngModule=l.get(f.h0i),this.console=l.get(f.c2e);const O=l.get(f.R0b);this.isNgZoneEnabled=O instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Vc(){return new yo(new Tt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_f(this.currentUrlTree,this.rootComponentType),this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ni(o=>0!==o.id),(0,ht.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),cr(o=>{let u=!1,l=!1;return Ye(o).pipe((0,Vn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),cr(m=>{const v=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ew(m.source)&&(this.browserUrlTree=m.extractedUrl),Ye(m).pipe(cr(O=>{const V=this.transitions.getValue();return r.next(new Td(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),V!==this.transitions.getValue()?Fs.E:Promise.resolve(O)}),function $y(n,e,t,r){return cr(o=>function jy(n,e,t,r,o){return new el(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ht.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Vn.b)(O=>{this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects},o.urlAfterRedirects=O.urlAfterRedirects}),function cI(n,e,t,r,o,u){return(0,Pr.z)(l=>function KA(n,e,t,r,o,u,l="emptyOnly",m="legacy"){return new uI(n,e,t,r,o,l,m,u).recognize().pipe(cr(v=>null===v?function dw(n){return new xr.y(e=>e.error(n))}(new lg):Ye(v)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,o,u).pipe((0,ht.U)(m=>({...l,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vn.b)(O=>{if(o.targetSnapshot=O.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const V=new Dy(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(V)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:ne,restoredState:Me,extras:Pe}=m,gt=new Td(V,this.serializeUrl(J),ne,Me);r.next(gt);const bt=_f(J,this.rootComponentType).snapshot;return Ye(o={...m,targetSnapshot:bt,urlAfterRedirects:J,extras:{...Pe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Fs.E}),(0,Vn.b)(m=>{const v=new ff(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,ht.U)(m=>o={...m,guards:Fd(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function eu(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Ye({...t,guardsResult:!0}):function ug(n,e,t,r){return(0,cn.D)(n).pipe((0,Pr.z)(o=>function cg(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ye(u.map(m=>{const v=zu(m,e,o);return si(function Qc(n){return n&&Vi(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):v(n,e,t,r)).pipe(on())})).pipe(us()):Ye(!0)}(o.component,o.route,t,e,r)),on(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Pr.z)(m=>m&&function Ld(n){return"boolean"==typeof n}(m)?function Ly(n,e,t,r){return(0,cn.D)(e).pipe(Ls(o=>Ri(function Vy(n,e){return null!==n&&e&&e(new Ay(n)),Ye(!0)}(o.route.parent,r),function Tf(n,e){return null!==n&&e&&e(new rw(n)),Ye(!0)}(o.route,r),function Uy(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function lw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>wr(()=>Ye(l.guards.map(v=>{const I=zu(v,l.node,t);return si(function Ef(n){return n&&Vi(n.canActivateChild)}(I)?I.canActivateChild(r,n):I(r,n)).pipe(on())})).pipe(us())));return Ye(u).pipe(us())}(n,o.path,t),function Af(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const o=r.map(u=>wr(()=>{const l=zu(u,e,t);return si(function Fy(n){return n&&Vi(n.canActivate)}(l)?l.canActivate(e,n):l(e,n)).pipe(on())}));return Ye(o).pipe(us())}(n,o.route,t))),on(o=>!0!==o,!0))}(r,u,n,e):Ye(m)),(0,ht.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Vn.b)(m=>{if(o.guardsResult=m.guardsResult,Wr(m.guardsResult))throw xd(0,m.guardsResult);const v=new Ty(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),Ni(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),zy(m=>{if(m.guards.canActivateChecks.length)return Ye(m).pipe((0,Vn.b)(v=>{const I=new vo(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}),cr(v=>{let I=!1;return Ye(v).pipe(function yw(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ye(t);let u=0;return(0,cn.D)(o).pipe(Ls(l=>function lI(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!fg(o)&&(u[qy]=o.title),function dI(n,e,t,r){const o=function hI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Ye({});const u={};return(0,cn.D)(o).pipe((0,Pr.z)(l=>function fI(n,e,t,r){const o=zu(n,e,r);return si(o.resolve?o.resolve(e,t):o(e,t))}(n[l],e,t,r).pipe(on(),(0,Vn.b)(m=>{u[l]=m}))),Rr(1),function Ga(n){return(0,ht.U)(()=>n)}(u),po(l=>Df(l)?Fs.E:Or(l)))}(u,n,e,r).pipe((0,ht.U)(l=>(n._resolvedData=l,n.data=vf(n,t).resolve,o&&fg(o)&&(n.data[qy]=o.title),null)))}(l.route,r,n,e)),(0,Vn.b)(()=>u++),Rr(1),(0,Pr.z)(l=>u===o.length?Ye(t):Fs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Vn.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,Vn.b)(v=>{const I=new qc(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(I)}))}),zy(m=>{const v=I=>{const S=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Vn.b)(O=>{I.component=O}),(0,ht.U)(()=>{})));for(const O of I.children)S.push(...v(O));return S};return $a(v(m.targetSnapshot.root)).pipe(ki(),Vu(1))}),zy(()=>this.afterPreactivation()),(0,ht.U)(m=>{const v=function Md(n,e,t){const r=Hu(n,e._root,t?t._root:void 0);return new Ja(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:v}}),(0,Vn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(r=>(new ky(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Vn.b)({next(){u=!0},complete(){u=!0}}),ea(()=>{u||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),po(m=>{if(l=!0,Gu(m)){sg(m)||(this.navigated=!0,this.restoreHistory(o,!0));const v=new Ad(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(v),sg(m)){const I=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ew(o.source)};this.scheduleNavigation(I,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new Sd(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(v);try{o.resolve(this.errorHandler(m))}catch(I){o.reject(I)}}return Fs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(wo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:v}=r,I=o||this.routerState.root,S=v?this.currentUrlTree.fragment:l;let O=null;switch(m){case"merge":O={...this.currentUrlTree.queryParams,...u};break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),bd(I,this.currentUrlTree,t,O,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Wr(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vI(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...yI}:!1===r?{...bw}:r,Wr(t))return Wa(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Wa(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new sa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,v,I;l?(m=l.resolve,v=l.reject,I=l.promise):I=new Promise((V,J)=>{m=V,v=J});const S=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),O=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):O=0,this.setTransition({id:S,targetPageId:O,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Ad(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return Ky()},providedIn:"root"}),n})();function Ew(n){return"imperative"!==n}let gg=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new sn.x,this.subscription=t.events.subscribe(u=>{u instanceof sa&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,l){if(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:(0,f.D6c)(this.skipLocationChange),replaceUrl:(0,f.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,f.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Kr),f.Y36(Li),f.Y36(_e))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();class ua{}let CI=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(t=>t instanceof sa),Ls(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,cn.D)(o).pipe((0,ho.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const u=o.pipe((0,Pr.z)(l=>null===l?Ye(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,cn.D)([u,l]).pipe((0,ho.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Kr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(ua),f.LFG(kr))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bI=new f.OlP("");let Iw=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Td?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new gf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const mg=new f.OlP("ROUTER_FORROOT_GUARD"),yg=new f.OlP(""),EI=[Ae,{provide:_n,useClass:Za},{provide:Kr,useFactory:Ky},Kc,{provide:Li,useFactory:function Dw(n){return n.routerState.root},deps:[Kr]},kr];function II(){return new f.PXZ("Router",Kr)}let jd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[EI,[],Xy(t),{provide:mg,useFactory:Jy,deps:[[Kr,new f.FiY,new f.tp0]]},{provide:xf,useValue:r||{}},r?.useHash?{provide:_e,useClass:it}:{provide:_e,useClass:Qe},{provide:bI,useFactory:()=>{const n=(0,f.f3M)(Kr),e=(0,f.f3M)(ro),t=(0,f.f3M)(xf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Iw(n,e,t)}},r?.preloadingStrategy?SI(r.preloadingStrategy):[],{provide:f.PXZ,multi:!0,useFactory:II},r?.initialNavigation?e_(r):[],[{provide:nl,useFactory:JA},{provide:f.tb,multi:!0,useExisting:nl}]]}}static forChild(t){return{ngModule:n,providers:[Xy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(mg,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Jy(n){return"guarded"}function Xy(n){return[{provide:Of,multi:!0,useValue:n}]}function JA(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(Kr),o=n.get(Sw);1===n.get(n_)&&r.initialNavigation(),n.get(yg,null,f.XFs.Optional)?.setUpPreloading(),n.get(bI,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const nl=new f.OlP("");function e_(n){return["disabled"===n.initialNavigation?[{provide:f.ip1,multi:!0,useFactory:()=>{const n=(0,f.f3M)(Kr);return()=>{n.setUpLocationChangeListener()}}},{provide:n_,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:n_,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:n=>{const e=n.get(B,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(o=>{const u=n.get(Kr),l=n.get(Sw);(function r(o){n.get(Kr).events.pipe(Ni(l=>l instanceof sa||l instanceof Ad||l instanceof Sd),(0,ht.U)(l=>l instanceof sa||l instanceof Ad&&(0===l.code||1===l.code)&&null),Ni(l=>null!==l),Vu(1)).subscribe(()=>{o()})})(()=>{o(!0),t=!0}),u.afterPreactivation=()=>(o(!0),t||l.closed?Ye(void 0):l),u.initialNavigation()}))}}]:[]]}const Sw=new f.OlP("",{factory:()=>new sn.x}),n_=new f.OlP("",{providedIn:"root",factory:()=>1});function SI(n){return[CI,{provide:yg,useExisting:CI},{provide:ua,useExisting:n}]}var me=k(5861),Mw=k(4986),Fr=k(5813);function _g(){return(0,vt.e)((n,e)=>{let t,r=!1;n.subscribe((0,yn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function MI(n,e){return n===e}var rt,Eo=k(2011),xw=(k(1451),k(3942)),Cr=k(9681),$d=k(4859),nu=k(1877),Ft=k(2090),eS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qs={},vg=vg||{},Rt=eS||self;function Rf(){}function Nf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gd="closure_uid_"+(1e9*Math.random()>>>0),Ow=0;function i_(n,e,t){return n.call.apply(n.bind,arguments)}function Pw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function br(n,e,t){return(br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i_:Pw).apply(null,arguments)}function Yu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Yr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function ru(){this.s=this.s,this.o=this.o}var PI={};ru.prototype.s=!1,ru.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function wg(n){return Object.prototype.hasOwnProperty.call(n,Gd)&&n[Gd]||(n[Gd]=++Ow)}(this);delete PI[n]}},ru.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const s_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Cg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function RI(n){return Array.prototype.concat.apply([],arguments)}function bg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Eg(n){return/^[\s\xa0]*$/.test(n)}var Tn,o_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yi(n,e){return-1!=n.indexOf(e)}function a_(n,e){return n<e?-1:n>e?1:0}e:{var Nw=Rt.navigator;if(Nw){var u_=Nw.userAgent;if(u_){Tn=u_;break e}}Tn=""}function c_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kw(n){const e={};for(const t in n)e[t]=n[t];return e}var Fw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Fw.length;u++)t=Fw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ig(n){return Ig[" "](n),n}Ig[" "]=Rf;var Tg,n,kI=yi(Tn,"Opera"),qd=yi(Tn,"Trident")||yi(Tn,"MSIE"),Nt=yi(Tn,"Edge"),Dg=Nt||qd,l_=yi(Tn,"Gecko")&&!(yi(Tn.toLowerCase(),"webkit")&&!yi(Tn,"Edge"))&&!(yi(Tn,"Trident")||yi(Tn,"MSIE"))&&!yi(Tn,"Edge"),Vw=yi(Tn.toLowerCase(),"webkit")&&!yi(Tn,"Edge");function Uw(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Ag="",d_=(n=Tn,l_?/rv:([^\);]+)(\)|;)/.exec(n):Nt?/Edge\/([\d\.]+)/.exec(n):qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Vw?/WebKit\/(\S+)/.exec(n):kI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(d_&&(Ag=d_?d_[1]:""),qd){var Sg=Uw();if(null!=Sg&&Sg>parseFloat(Ag)){Tg=String(Sg);break e}}Tg=Ag}var FI={};var jw=Rt.document&&qd&&(Uw()||parseInt(Tg,10))||void 0,rl=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",Rf,e),Rt.removeEventListener("test",Rf,e)}catch{}return n}();function oi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function il(n,e){if(oi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(l_){e:{try{Ig(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:f_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&il.Z.h.call(this)}}oi.prototype.h=function(){this.defaultPrevented=!0},Yr(il,oi);var f_={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),tS=0;function nS(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++tS,this.ca=this.fa=!1}function p_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Mg(n){this.src=n,this.g={},this.h=0}function xg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=s_(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(p_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $w(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Mg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=$w(n,e,r,o);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new nS(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var g_="closure_lm_"+(1e6*Math.random()|0),Qu={};function Hw(n,e,t,r,o){if(r&&r.once)return Gw(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Hw(n,e[u],t,r,o);return null}return t=Pg(t),n&&n[kf]?n.N(e,t,Hd(r)?!!r.capture:!!r,o):m_(n,e,t,!1,r,o)}function m_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=Hd(o)?!!o.capture:!!o,m=v_(n);if(m||(n[g_]=m=new Mg(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function Og(){var e=VI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rl||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(qw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Gw(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Gw(n,e[u],t,r,o);return null}return t=Pg(t),n&&n[kf]?n.O(e,t,Hd(r)?!!r.capture:!!r,o):m_(n,e,t,!0,r,o)}function y_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)y_(n,e[u],t,r,o);else r=Hd(r)?!!r.capture:!!r,t=Pg(t),n&&n[kf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$w(u=n.g[e],t,r,o))&&(p_(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=v_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$w(e,t,r,o)),(t=-1<n?e[n]:null)&&__(t))}function __(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[kf])xg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(qw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=v_(e))?(xg(t,n),0==t.h&&(t.src=null,e[g_]=null)):p_(n)}}}function qw(n){return n in Qu?Qu[n]:Qu[n]="on"+n}function VI(n,e){if(n.ca)n=!0;else{e=new il(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&__(n),n=t.call(r,e)}return n}function v_(n){return(n=n[g_])instanceof Mg?n:null}var w_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pg(n){return"function"==typeof n?n:(n[w_]||(n[w_]=function(e){return n.handleEvent(e)}),n[w_])}function Lr(){ru.call(this),this.i=new Mg(this),this.P=this,this.I=null}function Vr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new oi(e,n);else if(e instanceof oi)e.target=e.target||n;else{var o=e;Lw(e=new oi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=Ff(l,r,!0,e)&&o}if(o=Ff(l=e.g=n,r,!0,e)&&o,o=Ff(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Ff(l=e.g=t[u],r,!1,e)&&o}function Ff(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ca&&l.capture==t){var m=l.listener,v=l.ia||l.src;l.fa&&xg(n.i,l),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}Yr(Lr,ru),Lr.prototype[kf]=!0,Lr.prototype.removeEventListener=function(n,e,t,r){y_(this,n,e,t,r)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)p_(t[r]);delete n.g[e],n.h--}}this.I=null},Lr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Lf=Rt.JSON.stringify;function rS(){var n=b_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ng,zw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iS,n=>n.reset());class iS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zd(n){Rt.setTimeout(()=>{throw n},0)}function Rg(n,e){Ng||function kg(){var n=Rt.Promise.resolve(void 0);Ng=function(){n.then(UI)}}(),cs||(Ng(),cs=!0),b_.add(n,e)}var cs=!1,b_=new class C_{constructor(){this.h=this.g=null}add(e,t){const r=zw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function UI(){for(var n;n=rS();){try{n.h.call(n.g)}catch(t){zd(t)}var e=zw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cs=!1}function Wd(n,e){Lr.call(this),this.h=n||1,this.g=e||Rt,this.j=br(this.kb,this),this.l=Date.now()}function Io(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Vf(n,e,t){if("function"==typeof n)t&&(n=br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=br(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function E_(n){n.g=Vf(()=>{n.g=null,n.i&&(n.i=!1,E_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yr(Wd,Lr),(rt=Wd.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vr(this,"tick"),this.da&&(Io(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){Wd.Z.M.call(this),Io(this),delete this.g};class I_ extends ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E_(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fg(n){ru.call(this),this.h=n,this.g={}}Yr(Fg,ru);var D_=[];function BI(n,e,t,r){Array.isArray(t)||(t&&(D_[0]=t.toString()),t=D_);for(var o=0;o<t.length;o++){var u=Hw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Uf(n){c_(n.g,function(e,t){this.g.hasOwnProperty(t)&&__(e)},n),n.g={}}function sl(){this.g=!0}function Ju(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return Lf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Fg.prototype.M=function(){Fg.Z.M.call(this),Uf(this)},Fg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sl.prototype.Aa=function(){this.g=!1},sl.prototype.info=function(){};var ol={},Ww=null;function Lg(){return Ww=Ww||new Lr}function S_(n){oi.call(this,ol.Ma,n)}function Vg(n){const e=Lg();Vr(e,new S_(e,n))}function Zw(n,e){oi.call(this,ol.STAT_EVENT,n),this.stat=e}function ji(n){const e=Lg();Vr(e,new Zw(e,n))}function M_(n,e){oi.call(this,ol.Na,n),this.size=e}function Zd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}ol.Ma="serverreachability",Yr(S_,oi),ol.STAT_EVENT="statevent",Yr(Zw,oi),ol.Na="timingevent",Yr(M_,oi);var Ug={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kw(){}function HI(){}Kw.prototype.h=null;var Jw,jg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yw(){oi.call(this,"d")}function Qw(){oi.call(this,"c")}function x_(){}function $g(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Fg(this),this.P=Xu,this.W=new Wd(n=Dg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new GI}function GI(){this.i=null,this.g="",this.h=!1}Yr(Yw,oi),Yr(Qw,oi),Yr(x_,Kw),x_.prototype.g=function(){return new XMLHttpRequest},x_.prototype.i=function(){return{}},Jw=new x_;var Xu=45e3,Bf={},Hg={};function Gg(n,e,t){n.K=1,n.v=Yd(ou(e)),n.s=t,n.U=!0,qg(n,null)}function qg(n,e){n.F=Date.now(),zs(n),n.A=ou(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),k_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new GI,n.g=im(n.l,t?e:null,!n.s),0<n.O&&(n.L=new I_(br(n.Ia,n,n.g),n.O)),BI(n.V,n.g,"readystatechange",n.gb),e=n.H?kw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Vg(1),function T_(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),v=0;v<m.length;v++){var I=m[v].split("=");if(1<I.length){var S=I[0];I=I[1];var O=S.split("_");l=2<=O.length&&"type"==O[1]?l+(S+"=")+I+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function O_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function zg(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=qI(n,t),o==Hg){4==e&&(n.o=4,ji(14),r=!1),Ju(n.j,n.m,null,"[Incomplete Response]");break}if(o==Bf){n.o=4,ji(15),Ju(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ju(n.j,n.m,o,null),Zg(n,o)}O_(n)&&o!=Hg&&o!=Bf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),W_(e),e.L=!0,ji(11))):(Ju(n.j,n.m,t,"[Invalid Chunked Response]"),ul(n),al(n))}function qI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Hg:(t=Number(e.substring(t,r)),isNaN(t)?Bf:(r+=1)+t>e.length?Hg:(e=e.substr(r,t),n.C=r+t,e))}function zs(n){n.Y=Date.now()+n.P,P_(n,n.P)}function P_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zd(br(n.eb,n),e)}function Wg(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function al(n){0==n.l.G||n.I||fC(n.l,n)}function ul(n){Wg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Io(n.W),Uf(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Zg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||V_(t.i,n)))if(t.I=n.N,!n.J&&V_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;rm(t),fl(t)}hC(t),ji(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Zd(br(t.ab,t),6e3));if(1>=nC(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else pl(t,11)}else if((n.J||t.g==n)&&rm(t),!Eg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let I=o[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const S=I[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const O=I[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const V=I[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ne=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var u=r.i;!u.g&&(yi(ne,"spdy")||yi(ne,"quic")||yi(ne,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Jg(u,u.h),u.h=null))}if(r.D){const Me=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,An(r.F,r.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=Z_(r,r.H?r.la:null,r.W),l.J){U_(r.i,l);var m=l,v=r.K;v&&m.setTimeout(v),m.B&&(Wg(m),zs(m)),r.g=l}else dC(r);0<t.l.length&&nh(t)}else"stop"!=I[0]&&"close"!=I[0]||pl(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?pl(t,7):eh(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}Vg(4)}catch{}}function R_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Nf(n)||"string"==typeof n)Cg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Nf(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function zI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Nf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function iu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof iu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ec(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];su(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)su(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function su(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=$g.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==ca(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const S=ca(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>S)&&(3!=S||Dg||this.g&&(this.h.h||this.g.ga()||q_(this.g)))){this.I||4!=S||7==e||Vg(8==e||0>=O?3:2),Wg(this);var t=this.g.ba();this.N=t;t:if(O_(this)){var r=q_(this.g);n="";var o=r.length,u=4==ca(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ul(this),al(this);var l="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function A_(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eg(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,ji(12),ul(this),al(this);break e}Ju(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zg(this,t)}this.U?(zg(this,S,l),Dg&&this.i&&3==S&&(BI(this.V,this.W,"tick",this.fb),this.W.start())):(Ju(this.j,this.m,l,null),Zg(this,l)),4==S&&ul(this),this.i&&!this.I&&(4==S?fC(this.l,this):(this.i=!1,zs(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ji(12)):(this.o=0,ji(13)),ul(this),al(this)}}}catch{}},rt.fb=function(){if(this.g){var n=ca(this.g),e=this.g.ga();this.C<e.length&&(Wg(this),zg(this,n,e),this.i&&4!=n&&zs(this))}},rt.cancel=function(){this.I=!0,ul(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function sS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vg(3),ji(17)),ul(this),this.o=2,al(this)):P_(this,this.Y-n)},(rt=iu.prototype).R=function(){ec(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return ec(this),this.g.concat()},rt.get=function(n,e){return su(this.h,n)?this.h[n]:e},rt.set=function(n,e){su(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var cl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Do(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Do){this.g=void 0!==e?e:n.g,jf(this,n.j),this.s=n.s,$f(this,n.i),Kd(this,n.m),this.l=n.l,e=n.h;var t=new Gf;t.i=e.i,e.g&&(t.g=new iu(e.g),t.h=e.h),Yg(this,t),this.o=n.o}else n&&(t=String(n).match(cl))?(this.g=!!e,jf(this,t[1]||"",!0),this.s=Hf(t[2]||""),$f(this,t[3]||"",!0),Kd(this,t[4]),this.l=Hf(t[5]||"",!0),Yg(this,t[6]||"",!0),this.o=Hf(t[7]||"")):(this.g=!!e,this.h=new Gf(null,this.g))}function ou(n){return new Do(n)}function jf(n,e,t){n.j=t?Hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $f(n,e,t){n.i=t?Hf(e,!0):e}function Kd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Yg(n,e,t){e instanceof Gf?(n.h=e,function YI(n,e){e&&!n.j&&(ll(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(tC(this,r),k_(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Qd(e,ls)),n.h=new Gf(e,n.g))}function An(n,e,t){n.h.set(e,t)}function Yd(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ZI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ZI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Do.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qd(e,N_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qd(e,N_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qd(t,"/"==t.charAt(0)?KI:Xw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qd(t,eC)),n.join("")};var N_=/[#\/\?@]/g,Xw=/[#\?:]/g,KI=/[#\?]/g,ls=/[#\?@]/g,eC=/#/g;function Gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ll(n){n.g||(n.g=new iu,n.h=0,n.i&&function Kg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tC(n,e){ll(n),e=Jd(n,e),su(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,su((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ec(n)))}function Qg(n,e){return ll(n),e=Jd(n,e),su(n.g.h,e)}function k_(n,e,t){tC(n,e),0<t.length&&(n.i=null,n.g.set(Jd(n,e),bg(t)),n.h+=t.length)}function Jd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function F_(n){this.l=n||JI,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Gf.prototype).add=function(n,e){ll(this),this.i=null,n=Jd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){ll(this),this.g.forEach(function(t,r){Cg(t,function(o){n.call(e,o,r,this)},this)},this)},rt.T=function(){ll(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},rt.R=function(n){ll(this);var e=[];if("string"==typeof n)Qg(this,n)&&(e=RI(e,this.g.get(Jd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=RI(e,n[t])}return e},rt.set=function(n,e){return ll(this),this.i=null,Qg(this,n=Jd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var l=o;""!==r[u]&&(l+="="+encodeURIComponent(String(r[u]))),n.push(l)}}return this.i=n.join("&")};var JI=10;function L_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nC(n){return n.h?1:n.g?n.g.size:0}function V_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Jg(n,e){n.g?n.g.add(e):n.h=e}function U_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bg(n.i)}function Ws(){}function B_(){this.g=new Ws}function XI(n,e,t){const r=t||"";try{R_(n,function(o,u){let l=o;Hd(o)&&(l=Lf(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function j_(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Xd(n){this.l=n.$b||null,this.j=n.ib||!1}function Xg(n,e){Lr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=$_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}F_.prototype.cancel=function(){if(this.i=rC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ws.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},Ws.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Yr(Xd,Kw),Xd.prototype.g=function(){return new Xg(this.l,this.j)},Xd.prototype.i=function(n){return function(){return n}}({}),Yr(Xg,Lr);var $_=0;function iC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qf(n)}function qf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Xg.prototype).open=function(n,e){if(this.readyState!=$_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qf(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dl(this)),this.readyState=$_},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qf(this)),this.g&&(this.readyState=3,qf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dl(this):qf(this),3==this.readyState&&iC(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,dl(this))},rt.Ta=function(n){this.g&&(this.response=n,dl(this))},rt.ha=function(){this.g&&dl(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tD=Rt.JSON.parse;function Bn(n){Lr.call(this),this.headers=new iu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=em,this.K=this.L=!1}Yr(Bn,Lr);var em="",nD=/^https?$/i,sC=["POST","PUT"];function oC(n){return"content-type"==n.toLowerCase()}function rD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,iD(n),G_(n)}function iD(n){n.D||(n.D=!0,Vr(n,"complete"),Vr(n,"error"))}function tm(n){if(n.h&&typeof vg<"u"&&(!n.C[1]||4!=ca(n)||2!=n.ba()))if(n.v&&4==ca(n))Vf(n.Fa,0,n);else if(Vr(n,"readystatechange"),4==ca(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(cl)[1]||null;if(!o&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;o=u.substr(0,u.length-1)}r=!nD.test(o?o.toLowerCase():"")}t=r}if(t)Vr(n,"complete"),Vr(n,"success");else{n.m=6;try{var l=2<ca(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.ba()+"]",iD(n)}}finally{G_(n)}}}function G_(n,e){if(n.g){aC(n);const t=n.g,r=n.C[0]?Rf:null;n.g=null,n.C=null,e||Vr(n,"ready");try{t.onreadystatechange=r}catch{}}}function aC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function ca(n){return n.g?n.g.readyState:0}function q_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case em:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function uC(n){let e="";return c_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function hl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function la(n){this.za=0,this.l=[],this.h=new sl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hl("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hl("baseRetryDelayMs",5e3,n),this.$a=hl("retryDelaySeedMs",1e4,n),this.Ya=hl("forwardChannelMaxRetries",2,n),this.ra=hl("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new F_(n&&n.concurrentRequestLimit),this.Ca=new B_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function eh(n){if(th(n),3==n.G){var e=n.V++,t=ou(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),zf(n,t),(e=new $g(n,n.h,e,void 0)).K=2,e.v=Yd(ou(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=im(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zs(e)}oD(n)}function fl(n){n.g&&(W_(n),n.g.cancel(),n.g=null)}function th(n){fl(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),rm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function z_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&nh(n)}function nh(n){L_(n.i)||n.m||(n.m=!0,Rg(n.Ha,n),n.C=0)}function lC(n,e){var t;t=e?e.m:n.V++;const r=ou(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),zf(n,r),n.o&&n.s&&nm(r,n.o,n.s),t=new $g(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=rh(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Jg(n.i,t),Gg(t,r,e)}function zf(n,e){n.j&&R_({},function(t,r){An(e,r,t)})}function rh(n,e,t){t=Math.min(n.l.length,t);var r=n.j?br(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let I=o[v].h;const S=o[v].g;if(I-=u,0>I)u=Math.max(0,o[v].h-100),m=!1;else try{XI(S,l,"req"+I+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function dC(n){n.g||n.u||(n.Y=1,Rg(n.Ga,n),n.A=0)}function hC(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Zd(br(n.Ga,n),pC(n,n.A)),n.A++,0))}function W_(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function sD(n){n.g=new $g(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ou(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),zf(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&nm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Yd(ou(e)),t.s=null,t.U=!0,qg(t,n)}function rm(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function fC(n,e){var t=null;if(n.g==e){rm(n),W_(n),n.g=null;var r=2}else{if(!V_(n.i,e))return;t=e.D,U_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Vr(r=Lg(),new M_(r,t,e,o)),nh(n)}else dC(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function cC(n,e){return!(nC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Zd(br(n.Ha,n,e),pC(n,n.C)),n.C++,0)))}(n,e)||2==r&&hC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:pl(n,5);break;case 4:pl(n,10);break;case 3:pl(n,6);break;default:pl(n,2)}}function pC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function pl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=br(n.jb,n);t||(t=new Do("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||jf(t,"https"),Yd(t)),function eD(n,e){const t=new sl;if(Rt.Image){const r=new Image;r.onload=Yu(j_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yu(j_,t,r,"TestLoadImage: error",!1,e),r.onabort=Yu(j_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yu(j_,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ji(2);n.G=0,n.j&&n.j.va(e),oD(n),th(n)}function oD(n){n.G=0,n.I=-1,n.j&&((0!=rC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bg(n.l),n.l.length=0),n.j.ua())}function Z_(n,e,t){let r=function WI(n){return n instanceof Do?ou(n):new Do(n,void 0)}(t);if(""!=r.i)e&&$f(r,e+"."+r.i),Kd(r,r.m);else{const o=Rt.location;r=function oS(n,e,t,r){var o=new Do(null,void 0);return n&&jf(o,n),e&&$f(o,e),t&&Kd(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&c_(n.aa,function(o,u){An(r,u,o)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),zf(n,r),r}function im(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(t&&n.Ba&&!n.qa?new Xd({ib:!0}):n.qa)).L=n.H,e}function gC(){}function ih(){if(qd&&!(10<=Number(jw)))throw Error("Environmental error: no available transport.")}function ds(n,e){Lr.call(this),this.g=new la(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Eg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sh(this)}function mC(n){Yw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yC(){Qw.call(this),this.status=1}function sh(n){this.g=n}(rt=Bn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jw.g(),this.C=function $I(n){return n.h||(n.h=n.i())}(this.u?this.u:Jw),this.g.onreadystatechange=br(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void rD(this,u)}n=t||"";const o=new iu(this.headers);r&&R_(r,function(u,l){o.set(l,u)}),r=function Rw(n){e:{var e=oC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=s_(sC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,l){this.g.setRequestHeader(l,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aC(this),0<this.B&&((this.K=function H_(n){return qd&&function LI(){return function NI(n){var e=FI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=o_(String(Tg)).split("."),t=o_("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var o=e[l]||"",u=t[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=a_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||a_(0==o[2].length,0==u[2].length)||a_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.pa,this)):this.A=Vf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){rD(this,u)}},rt.pa=function(){typeof vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vr(this,"complete"),Vr(this,"abort"),G_(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),G_(this,!0)),Bn.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?tm(this):this.cb())},rt.cb=function(){tm(this)},rt.ba=function(){try{return 2<ca(this)?this.g.status:-1}catch{return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tD(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=la.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new $g(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=kw(u),Lw(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rh(this,o,e),An(t=ou(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),zf(this,t),this.o&&u&&nm(t,this.o,u),Jg(this.i,o),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),o.$=!0,Gg(o,t,null)):Gg(o,t,e),this.G=2}}else 3==this.G&&(n?lC(this,n):0==this.l.length||L_(this.i)||lC(this))},rt.Ga=function(){if(this.u=null,sD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Zd(br(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ji(10),fl(this),sD(this))},rt.ab=function(){null!=this.v&&(this.v=null,fl(this),hC(this),ji(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ji(2)):(this.h.info("Failed to ping google.com"),ji(1))},(rt=gC.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},ih.prototype.g=function(n,e){return new ds(n,e)},Yr(ds,Lr),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Rg(br(n.hb,n,e))),ji(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Z_(n,null,n.W),nh(n)},ds.prototype.close=function(){eh(this.g)},ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,z_(this.g,e)}else this.v?((e={}).__data__=Lf(n),z_(this.g,e)):z_(this.g,n)},ds.prototype.M=function(){this.g.j=null,delete this.j,eh(this.g),delete this.g,ds.Z.M.call(this)},Yr(mC,Yw),Yr(yC,Qw),Yr(sh,gC),sh.prototype.xa=function(){Vr(this.g,"a")},sh.prototype.wa=function(n){Vr(this.g,new mC(n))},sh.prototype.va=function(n){Vr(this.g,new yC(n))},sh.prototype.ua=function(){Vr(this.g,"b")},ih.prototype.createWebChannel=ih.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Ug.NO_ERROR=0,Ug.TIMEOUT=8,Ug.HTTP_ERROR=6,Bg.COMPLETE="complete",HI.EventType=jg,jg.OPEN="a",jg.CLOSE="b",jg.ERROR="c",jg.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,Bn.prototype.listenOnce=Bn.prototype.O,Bn.prototype.getLastError=Bn.prototype.La,Bn.prototype.getLastErrorCode=Bn.prototype.Da,Bn.prototype.getStatus=Bn.prototype.ba,Bn.prototype.getResponseJson=Bn.prototype.Qa,Bn.prototype.getResponseText=Bn.prototype.ga,Bn.prototype.send=Bn.prototype.ea;var aD=qs.createWebChannelTransport=function(){return new ih},uD=qs.getStatEventTarget=function(){return Lg()},oh=qs.ErrorCode=Ug,gl=qs.EventType=Bg,aS=qs.Event=ol,ah=qs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cD=qs.FetchXmlHttpFactory=Xd,sm=qs.WebChannel=HI,K_=qs.XhrIo=Bn;const _C="@firebase/firestore";class vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let da="9.9.2";const jn=new nu.Yd("@firebase/firestore");function au(){return jn.logLevel}function Oe(n,...e){if(jn.logLevel<=nu.in.DEBUG){const t=e.map(tc);jn.debug(`Firestore (${da}): ${n}`,...t)}}function $n(n,...e){if(jn.logLevel<=nu.in.ERROR){const t=e.map(tc);jn.error(`Firestore (${da}): ${n}`,...t)}}function Zs(n,...e){if(jn.logLevel<=nu.in.WARN){const t=e.map(tc);jn.warn(`Firestore (${da}): ${n}`,...t)}}function tc(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function wt(n,e){n||Je()}function Ge(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ft.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vn.UNAUTHENTICATED))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CC{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=I=>this.i!==o?(o=this.i,t(I)):Promise.resolve();let l=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hn,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=l;e.enqueueRetryable((0,me.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hn)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new Y_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new vn(e)}}class bC{constructor(e,t,r){this.type="FirstParty",this.user=vn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class EC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new bC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.p;return this.p=u.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.p=t.token,new Q_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class DC{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=dD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function ml(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function TC(n){return n+"\0"}class kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new kn(0,0))}static max(){return new Dt(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xt extends yl{construct(e,t,r){return new Xt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const am=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends yl{construct(e,t,r){return new Sn(e,t,r)}static isValidIdentifier(e){return am.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Se(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Se(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Se(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Se(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Xt.fromString(e))}static fromName(e){return new qe(Xt.fromString(e).popFirst(5))}static empty(){return new qe(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Xt(e.slice()))}}class um{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Wf(n){return n.fields.find(e=>2===e.kind)}function uu(n){return n.fields.filter(e=>2!==e.kind)}um.UNKNOWN_ID=-1;class cm{constructor(e,t){this.fieldPath=e,this.kind=t}}class ch{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ch(0,$i.min())}}function X_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(1e9===r?new kn(t+1,0):new kn(t,r));return new $i(o,qe.empty(),e)}function lm(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $i(Dt.min(),qe.empty(),-1)}static max(){return new $i(Dt.max(),qe.empty(),-1)}}function ev(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:kt(n.largestBatchId,e.largestBatchId))}const tv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cu(n){return rv.apply(this,arguments)}function rv(){return rv=(0,me.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==tv)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),rv.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},v=>r(v))}),l=!0,u===o&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(o=>o?ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(S=>{l[I]=S,++m,m===u&&r(l)},S=>o(S))}})}static doWhile(e,t){return new ae((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class dm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Hn,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new _l(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=hm(r.target.error);this.T.reject(new _l(e,o))}}static open(e,t,r,o){try{return new dm(t,e.transaction(o,r))}catch(u){throw new _l(t,u)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new MC(t)}}class To{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===To.v((0,Ft.z$)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ft.hl)())return!1;if(To.S())return!0;const e=(0,Ft.z$)(),t=To.v(e),r=0<t&&t<10,o=To.D(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,me.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new _l(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;o("VersionError"===m.name?new Se(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new _l(e,m))},u.onupgradeneeded=l=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.P.M(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,me.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.k(e);const v=dm.open(u.db,e,l?"readonly":"readwrite",r),I=o(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),ae.reject(S))).toPromise();return I.catch(()=>{}),yield v.A,I}catch(v){const I=v,S="FirebaseError"!==I.name&&m<3;if(Oe("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),u.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SC{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return nc(this.$.delete())}}class _l extends Se{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function lu(n){return"IndexedDbTransactionError"===n.name}class MC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nc(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),nc(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.G(o,(l,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ae((u,l)=>{o.onerror=m=>{l(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}W(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(u,l,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new ae((r,o)=>{t.onerror=u=>{const l=hm(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}G(e,t){const r=[];return new ae((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void o();const v=new SC(m),I=t(m.primaryKey,m.value,v);if(I instanceof ae){const S=I.catch(O=>(v.done(),ae.reject(O)));r.push(S)}v.isDone?o():null===v.U?m.continue():m.continue(v.U)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nc(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=hm(r.target.error);t(o)}})}let iv=!1;function hm(n){const e=To.v((0,Ft.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iv||(iv=!0,setTimeout(()=>{throw r},0)),r}}return n}class xC{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){lu(r)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield cu(r)}yield t.Z(1)}))}}class OC{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,u=!0;return ae.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Oe("IndexBackiller",`Processing collection: ${l}`),this.nt(e,l,o).next(m=>{o-=m,r.add(l)});u=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.st(o,u)).next(m=>(Oe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}st(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=lm(u);ev(l,r)>0&&(r=l)}),new $i(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function hD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}_i.ot=-1;class Gn{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new Gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fm(this.root,e,this.comparator,!1)}getReverseIterator(){return new fm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fm(this.root,e,this.comparator,!0)}}class fm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Zt(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RC(this.data.getIterator())}getIteratorFrom(e){return new RC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class RC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lh(n){return n.hasNext()?n.getNext():void 0}class Hi{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Hi([])}unionWith(e){let t=new dn(Sn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const NC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(n){if(wt(!!n),"string"==typeof n){let e=0;const t=NC.exec(n);if(wt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(n.seconds),nanos:tr(n.nanos)}}function tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wl(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function pm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kC(n){const e=n.mapValue.fields.__previous_value__;return pm(e)?kC(e):e}function dh(n){const e=hs(n.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class uS{constructor(e,t,r,o,u,l,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class ha{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}function Cl(n){return null==n}function Gi(n){return 0===n&&1/n==-1/0}function FC(n){return"number"==typeof n&&Number.isInteger(n)&&!Gi(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fs={nullValue:"NULL_VALUE"};function Qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pm(n)?4:av(n)?9007199254740991:10:Je()}function mr(n,e){if(n===e)return!0;const t=Qr(n);if(t!==Qr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dh(n).isEqual(dh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=hs(r.timestampValue),l=hs(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,wl(n.bytesValue).isEqual(wl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return tr(r.geoPointValue.latitude)===tr(o.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return tr(r.integerValue)===tr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=tr(r.doubleValue),l=tr(o.doubleValue);return u===l?Gi(u)===Gi(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return ml(n.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(hD(u)!==hD(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!mr(u[m],l[m])))return!1;return!0}(n,e);default:return Je()}var o}function hh(n,e){return void 0!==(n.values||[]).find(t=>mr(t,e))}function du(n,e){if(n===e)return 0;const t=Qr(n),r=Qr(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=tr(o.integerValue||o.doubleValue),m=tr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return LC(n.timestampValue,e.timestampValue);case 4:return LC(dh(n),dh(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=wl(o),m=wl(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let v=0;v<l.length&&v<m.length;v++){const I=kt(l[v],m[v]);if(0!==I)return I}return kt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=kt(tr(o.latitude),tr(u.latitude));return 0!==l?l:kt(tr(o.longitude),tr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let v=0;v<l.length&&v<m.length;++v){const I=du(l[v],m[v]);if(I)return I}return kt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===rc.mapValue&&u===rc.mapValue)return 0;if(o===rc.mapValue)return 1;if(u===rc.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),v=u.fields||{},I=Object.keys(v);m.sort(),I.sort();for(let S=0;S<m.length&&S<I.length;++S){const O=kt(m[S],I[S]);if(0!==O)return O;const V=du(l[m[S]],v[I[S]]);if(0!==V)return V}return kt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw Je()}}function LC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=hs(n),r=hs(e),o=kt(t.seconds,r.seconds);return 0!==o?o:kt(t.nanos,r.nanos)}function fh(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=hs(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wl(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=sv(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${sv(r.fields[m])}`;return u+"}"}(n.mapValue):Je();var e}function bl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zf(n){return!!n&&"integerValue"in n}function hu(n){return!!n&&"arrayValue"in n}function VC(n){return!!n&&"nullValue"in n}function ov(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gm(n){return!!n&&"mapValue"in n}function ph(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ph(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ph(n.arrayValue.values[t]);return e}return Object.assign({},n)}function av(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mm(n){return"nullValue"in n?fs:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bl(ha.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function pD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bl(ha.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rc:Je()}function uv(n,e){const t=du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cv(n,e){const t=du(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ph(t)}setAll(e){let t=Sn.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=ph(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];gm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){vl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Er(ph(this.value))}}function ym(n){const e=[];return vl(n.fields,(t,r)=>{const o=new Sn([t]);if(gm(r)){const u=ym(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Hi(e)}class wn{constructor(e,t,r,o,u,l){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=l}static newInvalidDocument(e){return new wn(e,0,Dt.min(),Dt.min(),Er.empty(),0)}static newFoundDocument(e,t,r){return new wn(e,1,t,Dt.min(),r,0)}static newNoDocument(e,t){return new wn(e,2,t,Dt.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Dt.min(),Er.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UC{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.ut=null}}function lv(n,e=null,t=[],r=[],o=null,u=null,l=null){return new UC(n,e,t,r,o,u,l)}function ic(n){const e=Ge(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+fh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fh(r)).join(",")),e.ut=t}return e.ut}function gh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!bD(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!mr(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qC(n.startAt,e.startAt)&&qC(n.endAt,e.endAt)}function Kf(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yf(n,e){return n.filters.filter(t=>t instanceof Jr&&t.field.isEqual(e))}function jC(n,e,t){let r=fs,o=!0;for(const u of Yf(n,e)){let l=fs,m=!0;switch(u.op){case"<":case"<=":l=mm(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=fs}uv({value:r,inclusive:o},{value:l,inclusive:m})<0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];uv({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function $C(n,e,t){let r=rc,o=!0;for(const u of Yf(n,e)){let l=rc,m=!0;switch(u.op){case">=":case">":l=pD(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=rc}cv({value:r,inclusive:o},{value:l,inclusive:m})>0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];cv({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class Jr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new gD(e,t,r):"array-contains"===t?new _D(e,r):"in"===t?new vD(e,r):"not-in"===t?new wD(e,r):"array-contains-any"===t?new CD(e,r):new Jr(e,t,r)}static ct(e,t,r){return"in"===t?new mD(e,r):new yD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(du(t,this.value)):null!==t&&Qr(this.value)===Qr(t)&&this.at(du(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gD extends Jr{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.at(t)}}class mD extends Jr{constructor(e,t){super(e,"in",t),this.keys=HC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yD extends Jr{constructor(e,t){super(e,"not-in",t),this.keys=HC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class _D extends Jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hu(t)&&hh(t.arrayValue,this.value)}}class vD extends Jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hh(this.value.arrayValue,t)}}class wD extends Jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hh(this.value.arrayValue,t)}}class CD extends Jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}}class sc{constructor(e,t){this.position=e,this.inclusive=t}}class mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function bD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function GC(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?qe.comparator(qe.fromName(l.referenceValue),t.key):du(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function qC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mr(n.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=v,this.lt=null,this.ft=null}}function zC(n,e,t,r,o,u,l,m){return new fu(n,e,t,r,o,u,l,m)}function El(n){return new fu(n)}function dv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _m(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vm(n){for(const e of n.filters)if(e.ht())return e.field;return null}function wm(n){return null!==n.collectionGroup}function Il(n){const e=Ge(n);if(null===e.lt){e.lt=[];const t=vm(e),r=_m(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new mh(t)),e.lt.push(new mh(Sn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.lt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new mh(Sn.keyField(),u))}}}return e.lt}function vi(n){const e=Ge(n);if(!e.ft)if("F"===e.limitType)e.ft=lv(e.path,e.collectionGroup,Il(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Il(e))t.push(new mh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new sc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new sc(e.startAt.position,e.startAt.inclusive):null;e.ft=lv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function Qf(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yh(n,e){return gh(vi(n),vi(e))&&n.limitType===e.limitType}function hv(n){return`${ic(vi(n))}|lt:${n.limitType}`}function Cm(n){return`Query(target=${function BC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${fh(r.value)}`;var r}).join(", ")}]`),Cl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>fh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>fh(t)).join(",")),`Target(${e})`}(vi(n))}; limitType=${n.limitType})`}function pu(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=GC(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,Il(t),r)||t.endAt&&!function(o,u,l){const m=GC(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,Il(t),r)));var t,r}function WC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZC(n){return(e,t)=>{let r=!1;for(const o of Il(n)){const u=_h(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function _h(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),v=l.data.field(o);return null!==m&&null!==v?du(m,v):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function ED(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gi(e)?"-0":e}}function bm(n){return{integerValue:""+n}}function ID(n,e){return FC(e)?bm(e):ED(n,e)}class Jf{constructor(){this._=void 0}}function KC(n,e,t){return n instanceof vh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Dl?YC(n,e):n instanceof Ks?QC(n,e):function(r,o){const u=Ct(r,o),l=Xf(u)+Xf(r._t);return Zf(u)&&Zf(r._t)?bm(l):ED(r.wt,l)}(n,e)}function cS(n,e,t){return n instanceof Dl?YC(n,e):n instanceof Ks?QC(n,e):t}function Ct(n,e){return n instanceof gu?Zf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class vh extends Jf{}class Dl extends Jf{constructor(e){super(),this.elements=e}}function YC(n,e){const t=qn(e);for(const r of n.elements)t.some(o=>mr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ks extends Jf{constructor(e){super(),this.elements=e}}function QC(n,e){let t=qn(e);for(const r of n.elements)t=t.filter(o=>!mr(o,r));return{arrayValue:{values:t}}}class gu extends Jf{constructor(e,t){super(),this.wt=e,this._t=t}}function Xf(n){return tr(n.integerValue||n.doubleValue)}function qn(n){return hu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Em{constructor(e,t){this.field=e,this.transform=t}}class XC{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tp{}function fv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Tl(n.key,zn.none()):new fa(n.key,n.data,zn.none());{const t=n.data,r=Er.empty();let o=new dn(Sn.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new mu(n.key,r,new Hi(o.toArray()),zn.none())}}function eb(n,e,t){n instanceof fa?function(r,o,u){const l=r.value.clone(),m=rb(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof mu?function(r,o,u){if(!ep(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=rb(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(nb(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function np(n,e,t,r){return n instanceof fa?function(o,u,l,m){if(!ep(o.precondition,u))return l;const v=o.value.clone(),I=rp(o.fieldTransforms,m,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof mu?function(o,u,l,m){if(!ep(o.precondition,u))return l;const v=rp(o.fieldTransforms,m,u),I=u.data;return I.setAll(nb(o)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,ep(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function DD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Ct(r.transform,o||null);null!=u&&(null===t&&(t=Er.empty()),t.set(r.field,u))}return t||null}function tb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ml(t,r,(o,u)=>function JC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dl&&r instanceof Dl||t instanceof Ks&&r instanceof Ks?ml(t.elements,r.elements,mr):t instanceof gu&&r instanceof gu?mr(t._t,r._t):t instanceof vh&&r instanceof vh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class fa extends tp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mu extends tp{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rb(n,e,t){const r=new Map;wt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,cS(l,m,t[o]))}return r}function rp(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,KC(u,l,e))}return r}class Tl extends tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Im extends tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ib{constructor(e){this.count=e}}var yr,qt;function wh(n){switch(n){default:return Je();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function sb(n){if(void 0===n)return $n("GRPC error has no .code"),le.UNKNOWN;switch(n){case yr.OK:return le.OK;case yr.CANCELLED:return le.CANCELLED;case yr.UNKNOWN:return le.UNKNOWN;case yr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case yr.INTERNAL:return le.INTERNAL;case yr.UNAVAILABLE:return le.UNAVAILABLE;case yr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case yr.NOT_FOUND:return le.NOT_FOUND;case yr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case yr.ABORTED:return le.ABORTED;case yr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case yr.DATA_LOSS:return le.DATA_LOSS;default:return Je()}}(qt=yr||(yr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}const TD=new Gn(qe.comparator);function wi(){return TD}const pv=new Gn(qe.comparator);function Ch(...n){let e=pv;for(const t of n)e=e.insert(t.key,t);return e}function ob(n){let e=pv;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ao(){return ip()}function ab(){return ip()}function ip(){return new oc(n=>n.toString(),(n,e)=>n.isEqual(e))}const lS=new Gn(qe.comparator),dS=new dn(qe.comparator);function Ht(...n){let e=dS;for(const t of n)e=e.add(t);return e}const hS=new dn(kt);function sp(){return hS}class ac{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,op.createSynthesizedTargetChangeForCurrentChange(e,t)),new ac(Dt.min(),r,sp(),wi(),Ht())}}class op{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new op(gr.EMPTY_BYTE_STRING,t,Ht(),Ht(),Ht())}}class Dm{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class gv{constructor(e,t){this.targetId=e,this.It=t}}class bh{constructor(e,t,r=gr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ub{constructor(){this.Tt=0,this.Et=lb(),this.At=gr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ht(),t=Ht(),r=Ht();return this.Et.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Je()}}),new op(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=lb()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class AD{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=wi(),this.Bt=cb(),this.Lt=new dn(kt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const u=o.target;if(Kf(u))if(0===r){const l=new qe(u.path);this.Kt(t,l,wn.newNoDocument(l,Dt.min()))}else wt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((u,l)=>{const m=this.Ht(l);if(m){if(u.current&&Kf(m.target)){const v=new qe(m.target.path);null!==this.$t.get(v)||this.Xt(l,v)||this.Kt(l,v,wn.newNoDocument(v,e))}u.vt&&(t.set(l,u.St()),u.Dt())}});let r=Ht();this.Bt.forEach((u,l)=>{let m=!0;l.forEachWhile(v=>{const I=this.Ht(v);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.$t.forEach((u,l)=>l.setReadTime(e));const o=new ac(e,t,this.Lt,this.$t,r);return this.$t=wi(),this.Bt=cb(),this.Lt=new dn(kt),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new ub,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new dn(kt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new ub),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function cb(){return new Gn(qe.comparator)}function lb(){return new Gn(qe.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class MD{constructor(e,t){this.databaseId=e,this.dt=t}}function ap(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Al(n,e){return n.dt?e.toBase64():e.toUint8Array()}function xD(n,e){return ap(n,e.toTimestamp())}function Ir(n){return wt(!!n),Dt.fromTimestamp(function(e){const t=hs(e);return new kn(t.seconds,t.nanos)}(n))}function mv(n,e){return(t=n,new Xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yv(n){const e=Xt.fromString(n);return wt(bv(e)),e}function up(n,e){return mv(n.databaseId,e.path)}function So(n,e){const t=yv(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(vv(t))}function _v(n,e){return mv(n.databaseId,e)}function Tm(n){const e=yv(n);return 4===e.length?Xt.emptyPath():vv(e)}function cp(n){return new Xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vv(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wv(n,e,t){return{name:up(n,e),fields:t.value.mapValue.fields}}function hb(n,e,t){const r=So(n,e.name),o=Ir(e.updateTime),u=new Er({mapValue:{fields:e.fields}}),l=wn.newFoundDocument(r,o,u);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function Sl(n,e){let t;if(e instanceof fa)t={update:wv(n,e.key,e.value)};else if(e instanceof Tl)t={delete:up(n,e.key)};else if(e instanceof mu)t={update:wv(n,e.key,e.data),updateMask:LD(e.fieldMask)};else{if(!(e instanceof Im))return Je();t={verify:up(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof vh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Dl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ks)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gu)return{fieldPath:u.field.canonicalString(),increment:l._t};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:xD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Je()),t;var o}function Cv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?zn.updateTime(Ir(o.updateTime)):void 0!==o.exists?zn.exists(o.exists):zn.none():zn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let m=null;"setToServerValue"in l?(wt("REQUEST_TIME"===l.setToServerValue),m=new vh):"appendMissingElements"in l?m=new Dl(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Ks(l.removeAllFromArray.values||[]):"increment"in l?m=new gu(u,l.increment):Je();const v=Sn.fromServerFormat(l.fieldPath);return new Em(v,m)}(n,o)):[];var o;if(e.update){const o=So(n,e.update.name),u=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Hi((e.updateMask.fieldPaths||[]).map(I=>Sn.fromServerFormat(I)));return new mu(o,u,l,t,r)}return new fa(o,u,t,r)}if(e.delete){const o=So(n,e.delete);return new Tl(o,t)}if(e.verify){const o=So(n,e.verify);return new Im(o,t)}return Je()}function pb(n,e){return{documents:[_v(n,e.path)]}}function gb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_v(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_v(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const I=v.map(S=>function(O){if("=="===O.op){if(ov(O.value))return{unaryFilter:{field:Eh(O.field),op:"IS_NAN"}};if(VC(O.value))return{unaryFilter:{field:Eh(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(ov(O.value))return{unaryFilter:{field:Eh(O.field),op:"IS_NOT_NAN"}};if(VC(O.value))return{unaryFilter:{field:Eh(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(O.field),op:kD(O.op),value:O.value}}}(S));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:Eh((S=I).field),direction:ND(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(I=e.limit,n.dt||Cl(I)?I:{value:I});var I,m,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function mb(n){let e=Tm(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){wt(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=yb(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new mh(Ml((O=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,Cl(O)?null:O}(t.limit));let v=null;var S;t.startAt&&(v=new sc((S=t.startAt).values||[],!!S.before));let I=null;return t.endAt&&(I=function(S){return new sc(S.values||[],!S.before)}(t.endAt)),zC(e,o,l,u,m,"F",v,I)}function yb(n){return n?void 0!==n.unaryFilter?[FD(n)]:void 0!==n.fieldFilter?[_b(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>yb(e)).reduce((e,t)=>e.concat(t)):Je():[]}function ND(n){return SD[n]}function kD(n){return db[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Ml(n){return Sn.fromServerFormat(n.fieldPath)}function _b(n){return Jr.create(Ml(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}function FD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ml(n.unaryFilter.field);return Jr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ml(n.unaryFilter.field);return Jr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ml(n.unaryFilter.field);return Jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ml(n.unaryFilter.field);return Jr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}function LD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vb(e)),e=VD(n.get(t),e);return vb(e)}function VD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function vb(n){return n+"\x01\x01"}function Ys(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Xt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&Je(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:Je()}u=l+2}return new Xt(r)}const Am=["userId","batchId"];function lp(n,e){return[n,Ci(e)]}function Sm(n,e,t){return[n,Ci(e),t]}const UD={},BD=["prefixPath","collectionGroup","readTime","documentId"],Ev=["prefixPath","collectionGroup","documentId"],jD=["collectionGroup","readTime","prefixPath","documentId"],wb=["canonicalId","targetId"],Ih=["targetId","path"],Cb=["path","targetId"],$D=["collectionId","parent"],fS=["indexId","uid"],bb=["uid","sequenceNumber"],Iv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HD=["indexId","uid","orderedDocumentKey"],Dv=["userId","collectionPath","documentId"],GD=["userId","collectionPath","largestBatchId"],qD=["userId","collectionGroup","largestBatchId"],Mm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Eb=[...Mm,"documentOverlays"],Tv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Av=Tv,Ib=[...Av,"indexConfiguration","indexState","indexEntries"];class Sv extends nv{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=Ge(n);return To.N(t.ee,e)}class Mv{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eb(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=np(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=np(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ab();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const v=fv(l,m);null!==v&&r.set(o.key,v),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(t,r)=>tb(t,r))&&ml(this.baseMutations,e.baseMutations,(t,r)=>tb(t,r))}}class xv{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){wt(e.mutations.length===r.length);let o=lS;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new xv(e,t,r,o)}}class xm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xl{constructor(e,t,r,o,u=Dt.min(),l=Dt.min(),m=gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ov{constructor(e){this.ne=e}}function Db(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:up(o=n.ne,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ap(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dh(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:Dh(e.version)}}var o,u;return r}function Pv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ol(n){const e=new kn(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Pl(n,e){const t=(e.baseMutations||[]).map(u=>Cv(n.ne,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Cv(n.ne,u)),o=kn.fromMillis(e.localWriteTimeMs);return new Mv(e.batchId,o,t,r)}function dp(n){const e=Ol(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ol(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var o;return void 0!==n.query.documents?(wt(1===(o=n.query).documents.length),r=vi(El(Tm(o.documents[0])))):r=vi(mb(n.query)),new xl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,gr.fromBase64String(n.resumeToken))}function Tb(n,e){const t=Dh(e.snapshotVersion),r=Dh(e.lastLimboFreeSnapshotVersion);let o;o=Kf(e.target)?pb(n.ne,e.target):gb(n.ne,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ic(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Rv(n){const e=mb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qf(e,e.limit,"L"):e}function Nv(n,e){return new xm(e.largestBatchId,Cv(n.ne,e.overlayMutation))}function Ab(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}function Sb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Dh(r.readTime),documentKey:Ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class WD{getBundleMetadata(e,t){return Mb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ol(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Mb(e).put({bundleId:(r=t).id,createTime:Dh(Ir(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return xb(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Rv(o.bundledQuery),readTime:Ol(o.readTime)};var o})}saveNamedQuery(e,t){return xb(e).put({name:(r=t).name,readTime:Dh(Ir(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Mb(n){return Ur(n,"bundles")}function xb(n){return Ur(n,"namedQueries")}class Om{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Om(e,t.uid||"")}getOverlay(e,t){return yu(e).get(Ab(this.userId,t)).next(r=>r?Nv(this.wt,r):null)}getOverlays(e,t){const r=Ao();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const m=new xm(t,l);o.push(this.ie(e,m))}),ae.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(Ci(l.getCollectionPath())));const u=[];return o.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(yu(e).W("collectionPathOverlayIndex",m))}),ae.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ao(),u=Ci(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return yu(e).K("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const I=Nv(this.wt,v);o.set(I.getKey(),I)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Ao();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yu(e).J({index:"collectionGroupOverlayIndex",range:m},(v,I,S)=>{const O=Nv(this.wt,I);u.size()<o||O.largestBatchId===l?(u.set(O.getKey(),O),l=O.largestBatchId):S.done()}).next(()=>u)}ie(e,t){return yu(e).put(function(r,o,u){const[l,m,v]=Ab(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Sl(r.ne,u.mutation)}}(this.wt,this.userId,t))}}function yu(n){return Ur(n,"documentOverlays")}class uc{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(tr(e.integerValue));else if("doubleValue"in e){const r=tr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Gi(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(wl(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?av(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Je()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),qe.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Ob(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function kv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Ob(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}uc.ye=new uc;class Pb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=kv(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=kv(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Rb{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class ZD{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class hp{constructor(){this.Oe=new Pb,this.Fe=new Rb(this.Oe),this.$e=new ZD(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Th{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Th(this.indexId,this.documentKey,this.arrayValue,r)}}function Rl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Nb(n.arrayValue,e.arrayValue),0!==t?t:(t=Nb(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function Nb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=Wf(e);if(void 0!==t&&!this.Qe(t))return!1;const r=uu(e);let o=0,u=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const l=r[o];if(!this.je(this.Ke,l)||!this.We(this.Ue[u++],l))return!1;++o}for(;o<r.length;++o){const l=r[o];if(u>=this.Ue.length||!this.We(this.Ue[u++],l))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class YD{constructor(){this.ze=new Fv}addToCollectionParentIndex(e,t){return this.ze.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve($i.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Fv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new dn(Xt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new dn(Xt.comparator)).toArray()}}const cc=new Uint8Array(0);class QD{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Fv,this.Je=new oc(r=>ic(r),(r,o)=>gh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:r,parent:Ci(o)};return Pm(e).put(u)}return ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[TC(t),""],!1,!0);return Pm(e).K(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Ys(l.parent))}return r})}addFieldIndex(e,t){const r=Rm(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=Nl(e);return u.next(m=>{l.put(Sb(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Rm(e),o=Nl(e),u=qi(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=qi(e);let o=!0;const u=new Map;return ae.forEach(this.Ye(t),l=>this.Xe(e,l).next(m=>{o&&(o=!!m),u.set(l,m)})).next(()=>{if(o){let l=Ht();const m=[];return ae.forEach(u,(v,I)=>{var S;Oe("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(mt=>`${mt.fieldPath}:${mt.kind}`).join(",")}`} to execute ${ic(t)}`);const O=function(mt,ot){const St=Wf(ot);if(void 0===St)return null;for(const jt of Yf(mt,St.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(I,v),V=function(mt,ot){const St=new Map;for(const jt of uu(ot))for(const lr of Yf(mt,jt.fieldPath))switch(lr.op){case"==":case"in":St.set(jt.fieldPath.canonicalString(),lr.value);break;case"not-in":case"!=":return St.set(jt.fieldPath.canonicalString(),lr.value),Array.from(St.values())}return null}(I,v),J=function(mt,ot){const St=[];let jt=!0;for(const lr of uu(ot)){const Iu=0===lr.kind?jC(mt,lr.fieldPath,mt.startAt):$C(mt,lr.fieldPath,mt.startAt);St.push(Iu.value),jt&&(jt=Iu.inclusive)}return new sc(St,jt)}(I,v),ne=function(mt,ot){const St=[];let jt=!0;for(const lr of uu(ot)){const Iu=0===lr.kind?$C(mt,lr.fieldPath,mt.endAt):jC(mt,lr.fieldPath,mt.endAt);St.push(Iu.value),jt&&(jt=Iu.inclusive)}return new sc(St,jt)}(I,v),Me=this.Ze(v,I,J),Pe=this.Ze(v,I,ne),gt=this.tn(v,I,V),bt=this.en(v.indexId,O,Me,J.inclusive,Pe,ne.inclusive,gt);return ae.forEach(bt,mt=>r.j(mt,t.limit).next(ot=>{ot.forEach(St=>{const jt=qe.fromSegments(St.documentKey);l.has(jt)||(l=l.add(jt),m.push(jt))})}))}).next(()=>m)}return ae.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,u,l,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),S=[];for(let O=0;O<v;++O){const V=t?this.nn(t[O/I]):cc,J=this.sn(e,V,r[O%I],o),ne=this.rn(e,V,u[O%I],l),Me=m.map(Pe=>this.sn(e,V,Pe,!0));S.push(...this.createRange(J,ne,Me))}return S}sn(e,t,r,o){const u=new Th(e,qe.empty(),t,r);return o?u:u.Le()}rn(e,t,r,o){const u=new Th(e,qe.empty(),t,r);return o?u.Le():u}Xe(e,t){const r=new KD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const m of u)r.Ge(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;return ae.forEach(this.Ye(t),o=>this.Xe(e,o).next(u=>{u?0!==r&&u.fields.length<function(l){let m=new dn(Sn.comparator),v=!1;for(const I of l.filters){const S=I;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field))}for(const I of l.orderBy)I.field.isKeyField()||(m=m.add(I.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new hp;for(const o of uu(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.Be(o.kind);uc.ye.re(u,l)}return r.Me()}nn(e){const t=new hp;return uc.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new hp;return uc.ye.re(bl(this.databaseId,t),r.Be(function(o){const u=uu(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new hp);let u=0;for(const l of uu(e)){const m=r[u++];for(const v of o)if(this.cn(t,l.fieldPath)&&hu(m))o=this.an(o,l,m);else{const I=v.Be(l.kind);uc.ye.re(m,I)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of o){const v=new hp;v.seed(m.Me()),uc.ye.re(l,v.Be(t.kind)),u.push(v)}return u}cn(e,t){return!!e.filters.find(r=>r instanceof Jr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Rm(e),o=Nl(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(u=>{const l=[];return ae.forEach(u,m=>o.get([m.indexId,this.uid]).next(v=>{l.push(function(I,S){const O=S?new ch(S.sequenceNumber,new $i(Ol(S.readTime),new qe(Ys(S.documentKey)),S.largestBatchId)):ch.empty(),V=I.fields.map(([J,ne])=>new cm(Sn.fromServerFormat(J),ne));return new um(I.indexId,I.collectionGroup,V,O)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:kt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Rm(e),u=Nl(e);return this.ln(e).next(l=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ae.forEach(m,v=>u.put(Sb(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ae.forEach(m,v=>this.fn(e,o,v).next(I=>{const S=this.dn(u,v);return I.isEqual(S)?ae.resolve():this._n(e,u,v,I,S)}))))})}wn(e,t,r,o){return qi(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return qi(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=qi(e);let u=new dn(Rl);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(l,m)=>{u=u.add(new Th(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}dn(e,t){let r=new dn(Rl);const o=this.on(t,e);if(null==o)return r;const u=Wf(t);if(null!=u){const l=e.data.field(u.fieldPath);if(hu(l))for(const m of l.arrayValue.values||[])r=r.add(new Th(t.indexId,e.key,this.nn(m),o))}else r=r.add(new Th(t.indexId,e.key,cc,o));return r}_n(e,t,r,o,u){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,v,I,S,O){const V=m.getIterator(),J=v.getIterator();let ne=lh(V),Me=lh(J);for(;ne||Me;){let Pe=!1,gt=!1;if(ne&&Me){const bt=I(ne,Me);bt<0?gt=!0:bt>0&&(Pe=!0)}else null!=ne?gt=!0:Pe=!0;Pe?(S(Me),Me=lh(J)):gt?(O(ne),ne=lh(V)):(ne=lh(V),Me=lh(J))}}(o,u,Rl,m=>{l.push(this.wn(e,t,r,m))},m=>{l.push(this.mn(e,t,r,m))}),ae.waitFor(l)}ln(e){let t=1;return Nl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>Rl(l,m)).filter((l,m,v)=>!m||0!==Rl(l,v[m-1]));const o=[];o.push(e);for(const l of r){const m=Rl(l,e),v=Rl(l,t);if(0===m)o[0]=e.Le();else if(m>0&&v<0)o.push(l),o.push(l.Le());else if(v>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2)u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,cc,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,cc,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ah)}getMinOffset(e,t){return ae.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||Je())).next(Ah)}}function Pm(n){return Ur(n,"collectionParents")}function qi(n){return Ur(n,"indexEntries")}function Rm(n){return Ur(n,"indexConfiguration")}function Nl(n){return Ur(n,"indexState")}function Ah(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;ev(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new $i(e.readTime,e.documentKey,t)}const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fb(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const v=r.J({range:l},(S,O,V)=>(m++,V.delete()));u.push(v.next(()=>{wt(1===m)}));const I=[];for(const S of t.mutations){const O=Sm(e,S.key.path,t.batchId);u.push(o.delete(O)),I.push(S.key)}return ae.waitFor(u).next(()=>I)}function kl(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class Fl{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){wt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Fl(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).J({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Ll(e),l=lc(e);return l.add({}).next(m=>{wt("number"==typeof m);const v=new Mv(m,t,r,o),I=function(V,J,ne){const Me=ne.baseMutations.map(gt=>Sl(V.ne,gt)),Pe=ne.mutations.map(gt=>Sl(V.ne,gt));return{userId:J,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Me,mutations:Pe}}(this.wt,this.userId,v),S=[];let O=new dn((V,J)=>kt(V.canonicalString(),J.canonicalString()));for(const V of o){const J=Sm(this.userId,V.key.path,m);O=O.add(V.key.path.popLast()),S.push(l.put(I)),S.push(u.put(J,UD))}return O.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.gn[m]=v.keys()}),ae.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return lc(e).get(t).next(r=>r?(wt(r.userId===this.userId),Pl(this.wt,r)):null)}yn(e,t){return this.gn[t]?ae.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return lc(e).J({index:"userMutationsIndex",range:o},(l,m,v)=>{m.userId===this.userId&&(wt(m.batchId>=r),u=Pl(this.wt,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return lc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lc(e).K("userMutationsIndex",t).next(r=>r.map(o=>Pl(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=lp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Ll(e).J({range:o},(l,m,v)=>{const[I,S,O]=l,V=Ys(S);if(I===this.userId&&t.path.isEqual(V))return lc(e).get(O).next(J=>{if(!J)throw Je();wt(J.userId===this.userId),u.push(Pl(this.wt,J))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(kt);const o=[];return t.forEach(u=>{const l=lp(this.userId,u.path),m=IDBKeyRange.lowerBound(l),v=Ll(e).J({range:m},(I,S,O)=>{const[V,J,ne]=I,Me=Ys(J);V===this.userId&&u.path.isEqual(Me)?r=r.add(ne):O.done()});o.push(v)}),ae.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=lp(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new dn(kt);return Ll(e).J({range:l},(v,I,S)=>{const[O,V,J]=v,ne=Ys(V);O===this.userId&&r.isPrefixOf(ne)?ne.length===o&&(m=m.add(J)):S.done()}).next(()=>this.pn(e,m))}pn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(lc(e).get(u).next(l=>{if(null===l)throw Je();wt(l.userId===this.userId),r.push(Pl(this.wt,l))}))}),ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Fb(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Ll(e).J({range:r},(u,l,m)=>{if(u[0]===this.userId){const v=Ys(u[1]);o.push(v)}else m.done()}).next(()=>{wt(0===o.length)})})}containsKey(e,t){return Lb(e,this.userId,t)}Tn(e){return Lv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Lb(n,e,t){const r=lp(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Ll(n).J({range:u,H:!0},(m,v,I)=>{const[S,O,V]=m;S===e&&O===o&&(l=!0),I.done()}).next(()=>l)}function lc(n){return Ur(n,"mutations")}function Ll(n){return Ur(n,"documentMutations")}function Lv(n){return Ur(n,"mutationQueues")}class _u{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new _u(0)}static Rn(){return new _u(-1)}}class Vb{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new _u(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Dt.fromTimestamp(new kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sh(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Sh(e).J((l,m)=>{const v=dp(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,u.push(this.removeTargetData(e,v)))}).next(()=>ae.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Sh(e).J((r,o)=>{const u=dp(o);t(u)})}bn(e){return Ub(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}Pn(e,t){return Ub(e).put("targetGlobalKey",t)}vn(e,t){return Sh(e).put(Tb(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ic(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Sh(e).J({range:o,index:"queryTargetsIndex"},(l,m,v)=>{const I=dp(m);gh(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Vl(e);return t.forEach(l=>{const m=Ci(l.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,l))}),ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=Vl(e);return ae.forEach(t,u=>{const l=Ci(u.path);return ae.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Vl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Vl(e);let u=Ht();return o.J({range:r,H:!0},(l,m,v)=>{const I=Ys(l[1]),S=new qe(I);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),o=IDBKeyRange.bound([r],[TC(r)],!1,!0);let u=0;return Vl(e).J({index:"documentTargetsIndex",H:!0,range:o},([l,m],v,I)=>{0!==l&&(u++,I.done())}).next(()=>u>0)}te(e,t){return Sh(e).get(t).next(r=>r?dp(r):null)}}function Sh(n){return Ur(n,"targets")}function Ub(n){return Ur(n,"targetGlobal")}function Vl(n){return Ur(n,"targetDocuments")}function Nm([n,e],[t,r]){const o=kt(n,t);return 0===o?kt(e,r):o}class Vv{constructor(e){this.Sn=e,this.buffer=new dn(Nm),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Bb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){lu(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cu(r)}yield t.kn(3e5)}))}}class Uv{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(_i.ot);const r=new Vv(t);return this.Mn.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.Mn.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(kb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,o,u,l,m,v,I;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,l=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(I=Date.now(),au()<=nu.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${o} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${O} documents in `+(I-v)+`ms\nTotal Duration: ${I-S}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class Bv{constructor(e,t){this.db=e,this.garbageCollector=new Uv(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return km(e,r)}removeReference(e,t,r){return km(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return km(e,t)}Un(e,t){return function(r,o){let u=!1;return Lv(r).Y(l=>Lb(r,l,o).next(m=>(m&&(u=!0),ae.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ln(e,(l,m)=>{if(m<=t){const v=this.Un(e,l).next(I=>{if(!I)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Dt.min()),Vl(e).delete([0,Ci(l.path)])))});o.push(v)}}).next(()=>ae.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return km(e,t)}Ln(e,t){const r=Vl(e);let o,u=_i.ot;return r.J({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:I})=>{0===l?(u!==_i.ot&&t(new qe(Ys(o)),u),u=I,o=v):u=_i.ot}).next(()=>{u!==_i.ot&&t(new qe(Ys(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function km(n,e){return Vl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class jb{constructor(){this.changes=new oc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JD{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dc(e).put(r)}removeEntry(e,t,r){return dc(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Pv(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=wn.newInvalidDocument(t);return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fp(t))},(o,u)=>{r=this.Kn(t,u)}).next(()=>r)}Gn(e,t){let r={size:0,document:wn.newInvalidDocument(t)};return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fp(t))},(o,u)=>{r={document:this.Kn(t,u),size:kl(u)}}).next(()=>r)}getEntries(e,t){let r=wi();return this.Qn(e,t,(o,u)=>{const l=this.Kn(o,u);r=r.insert(o,l)}).next(()=>r)}jn(e,t){let r=wi(),o=new Gn(qe.comparator);return this.Qn(e,t,(u,l)=>{const m=this.Kn(u,l);r=r.insert(u,m),o=o.insert(u,kl(l))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return ae.resolve();let o=new dn($v);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(fp(o.first()),fp(o.last())),l=o.getIterator();let m=l.getNext();return dc(e).J({index:"documentKeyIndex",range:u},(v,I,S)=>{const O=qe.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&$v(m,O)<0;)r(m,null),m=l.getNext();m&&m.isEqual(O)&&(r(m,I),m=l.hasNext()?l.getNext():null),m?S.q(fp(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Pv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dc(e).K(IDBKeyRange.bound(o,u,!0)).next(l=>{let m=wi();for(const v of l){const I=this.Kn(qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=wi();const l=jv(t,r),m=jv(t,$i.max());return dc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,I,S)=>{const O=this.Kn(qe.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(O.key,O),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(e){return new Hb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fm(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}qn(e,t){return Fm(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function zD(n,e){let t;if(e.document)t=hb(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),o=Ol(e.noDocument.readTime);t=wn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=qe.fromSegments(e.unknownDocument.path),o=Ol(e.unknownDocument.version);t=wn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new kn(r[0],r[1]);return Dt.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return wn.newInvalidDocument(e)}}function $b(n){return new JD(n)}class Hb extends jb{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new oc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new dn((u,l)=>kt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.Hn.get(u);if(t.push(this.zn.removeEntry(e,u,m.readTime)),l.isValidDocument()){const v=Db(this.zn.wt,l);o=o.add(u.path.popLast()),r+=kl(v)-m.size,t.push(this.zn.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=Db(this.zn.wt,l.convertToNoDocument(Dt.min()));t.push(this.zn.addEntry(e,u,v))}}),o.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.zn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((u,l)=>{this.Hn.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Fm(n){return Ur(n,"remoteDocumentGlobal")}function dc(n){return Ur(n,"remoteDocumentsV14")}function fp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jv(n,e){const t=e.documentKey.path.toArray();return[n,Pv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $v(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=kt(t[u],r[u]),o)return o;return o=kt(t.length,r.length),o||(o=kt(t[t.length-2],r[r.length-2]),o||kt(t[t.length-1],r[r.length-1]))}class XD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hv{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&np(r.mutation,o,Hi.empty(),kn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const o=Ao();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=Ch();return u.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=wi();const l=ip(),m=ip();return t.forEach((v,I)=>{const S=r.get(I.key);o.has(I.key)&&(void 0===S||S.mutation instanceof mu)?u=u.insert(I.key,I):void 0!==S&&(l.set(I.key,S.mutation.getFieldMask()),np(S.mutation,I,S.mutation.getFieldMask(),kn.now()))}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,S)=>l.set(I,S)),t.forEach((I,S)=>{var O;return m.set(I,new XD(S,null!==(O=l.get(I))&&void 0!==O?O:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ip();let o=new Gn((l,m)=>l-m),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let S=r.get(v)||Hi.empty();S=m.applyToLocalView(I,S),r.set(v,S);const O=(o.get(m.batchId)||Ht()).add(v);o=o.insert(m.batchId,O)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),I=v.key,S=v.value,O=ab();S.forEach(V=>{if(!u.has(V)){const J=fv(t.get(V),r.get(V));null!==J&&O.set(V,J),u=u.add(V)}}),l.push(this.documentOverlayCache.saveOverlays(e,I,O))}return ae.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ae.resolve(Ao());let m=-1,v=u;return l.next(I=>ae.forEach(I,(S,O)=>(m<O.largestBatchId&&(m=O.largestBatchId),u.get(S)?ae.resolve():this.getBaseDocument(e,S,O).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,Ht())).next(S=>({batchId:m,changes:ob(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let o=Ch();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Ch();return this.indexManager.getCollectionParents(e,o).next(l=>ae.forEach(l,m=>{const v=(I=t,S=m.child(o),new fu(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,v)=>{const I=v.getKey();null===o.get(I)&&(o=o.insert(I,wn.newInvalidDocument(I)))});let l=Ch();return o.forEach((m,v)=>{const I=u.get(m);void 0!==I&&np(I.mutation,v,Hi.empty(),kn.now()),pu(t,v)&&(l=l.insert(m,v))}),l})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(wn.newInvalidDocument(t))}}class Gb{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ae.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ir(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:Rv(r.bundledQuery),readTime:Ir(r.readTime)}),ae.resolve();var r}}class eT{constructor(){this.overlays=new Gn(qe.comparator),this.Xn=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ao();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ie(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const o=Ao(),u=t.length+1,l=new qe(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Gn((I,S)=>I-S);const l=this.overlays.getIterator();for(;l.hasNext();){const I=l.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let S=u.get(I.largestBatchId);null===S&&(S=Ao(),u=u.insert(I.largestBatchId,S)),S.set(I.getKey(),I)}}const m=Ao(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,S)=>m.set(I,S)),!(m.size()>=o)););return ae.resolve(m)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new xm(t,r));let u=this.Xn.get(t);void 0===u&&(u=Ht(),this.Xn.set(t,u)),this.Xn.set(t,u.add(r.key))}}class Lm{constructor(){this.Zn=new dn(Br.ts),this.es=new dn(Br.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Br(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Br(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new qe(new Xt([])),r=new Br(t,e),o=new Br(t,e+1),u=[];return this.es.forEachInRange([r,o],l=>{this.rs(l),u.push(l.key)}),u}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new qe(new Xt([])),r=new Br(t,e),o=new Br(t,e+1);let u=Ht();return this.es.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Br(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return qe.comparator(e.key,t.key)||kt(e.ls,t.ls)}static ns(e,t){return kt(e.ls,t.ls)||qe.comparator(e.key,t.key)}}class bi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new dn(Br.ts)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.fs;this.fs++;const l=new Mv(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.ds=this.ds.add(new Br(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),o=new Br(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,o],l=>{const m=this._s(l.ls);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dn(kt);return t.forEach(o=>{const u=new Br(o,0),l=new Br(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,l],m=>{r=r.add(m.ls)})}),ae.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;qe.isDocumentKey(u)||(u=u.child(""));const l=new Br(new qe(u),0);let m=new dn(kt);return this.ds.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===o&&(m=m.add(v.ls)),!0)},l),ae.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){wt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ae.forEach(t.mutations,o=>{const u=new Br(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Br(t,0),o=this.ds.firstAfterOrEqual(r);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ae.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mh{constructor(e){this.ps=e,this.docs=new Gn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))}),ae.resolve(r)}getAllFromCollection(e,t,r){let o=wi();const u=new qe(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:m,value:{document:v}}=l.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||ev(lm(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Je()}Is(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tT(this)}getSize(e){return ae.resolve(this.size)}}class tT extends jb{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nT{constructor(e){this.persistence=e,this.Ts=new oc(t=>ic(t),gh),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Es=0,this.As=new Lm,this.targetCount=0,this.Rs=_u.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ae.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.vn(t),ae.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Ts.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Ts.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.As.containsKey(t))}}class rT{constructor(e,t){this.bs={},this.overlays={},this.Ps=new _i(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nT(this),this.indexManager=new YD,this.remoteDocumentCache=new Mh(r=>this.referenceDelegate.Ss(r)),this.wt=new Ov(t),this.Ds=new Gb(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new bi(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new pS(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(u=>this.referenceDelegate.xs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ns(e,t){return ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class pS extends nv{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.ks=new Lm,this.Ms=null}static Os(e){return new pp(e)}get Fs(){if(this.Ms)return this.Ms;throw Je()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ae.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Fs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Fs,r=>{const o=qe.fromPath(r);return this.$s(e,o).next(u=>{u||t.removeEntry(o,Dt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ae.or([()=>ae.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class qb{constructor(e){this.wt=e}M(e,t,r,o){const u=new dm("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Am,{unique:!0}),m.createObjectStore("documentMutations"),xh(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),xh(e)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(m,v){return v.store("mutations").K().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Am,{unique:!0});const S=v.store("mutations"),O=I.map(V=>S.put(V));return ae.waitFor(O)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Bs(u))),r<6&&o>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(u)))),r<7&&o>=7&&(l=l.next(()=>this.Us(u))),r<8&&o>=8&&(l=l.next(()=>this.qs(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.Ks(u))),r<11&&o>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:Dv});v.createIndex("collectionPathOverlayIndex",GD,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",qD,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:BD});v.createIndex("documentKeyIndex",Ev),v.createIndex("collectionGroupIndex",jD)}(e)).next(()=>this.Gs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.Qs(e,u))),r<15&&o>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:fS}).createIndex("sequenceNumberIndex",bb,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Iv}).createIndex("documentKeyIndex",HD,{unique:!1})}(e))),l}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=kl(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>ae.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",l).next(m=>ae.forEach(m,v=>{wt(v.userId===u.userId);const I=Pl(this.wt,v);return Fb(e,u.userId,I).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.J((l,m)=>{const v=new Xt(l),I=[0,Ci(v)];u.push(t.get(I).next(S=>S?ae.resolve():t.put({targetId:0,path:Ci(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ae.waitFor(u))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:$D});const r=t.store("collectionParents"),o=new Fv,u=l=>{if(o.add(l)){const m=l.lastSegment(),v=l.popLast();return r.put({collectionId:m,parent:Ci(v)})}};return t.store("remoteDocuments").J({H:!0},(l,m)=>{const v=new Xt(l);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([l,m,v],I)=>{const S=Ys(m);return u(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const u=dp(o),l=Tb(this.wt,u);return t.put(l)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((u,l)=>{const m=t.store("remoteDocumentsV14"),v=(I=l,I.document?new qe(Xt.fromString(I.document.name).popFirst(5)):I.noDocument?qe.fromSegments(I.noDocument.path):I.unknownDocument?qe.fromSegments(I.unknownDocument.path):Je()).path.toArray();var I;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(m.put(S))}).next(()=>ae.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=$b(this.wt),u=new rT(pp.Os,this.wt.ne);return r.K().next(l=>{const m=new Map;return l.forEach(v=>{var I;let S=null!==(I=m.get(v.userId))&&void 0!==I?I:Ht();Pl(this.wt,v).keys().forEach(O=>S=S.add(O)),m.set(v.userId,S)}),ae.forEach(m,(v,I)=>{const S=new vn(I),O=Om.se(this.wt,S),V=u.getIndexManager(S),J=Fl.se(S,this.wt,V,u.referenceDelegate);return new Hv(o,J,O,V).recalculateAndSaveOverlaysForDocumentKeys(new Sv(t,_i.ot),v).next()})})}}function xh(n){n.createObjectStore("targetDocuments",{keyPath:Ih}).createIndex("documentTargetsIndex",Cb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wb,{unique:!0}),n.createObjectStore("targetGlobal")}const Gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gp{constructor(e,t,r,o,u,l,m,v,I,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=u,this.window=l,this.document=m,this.Ws=I,this.zs=S,this.Hs=O,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=V=>Promise.resolve(),!gp.V())throw new Se(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bv(this,o),this.ei=t+"main",this.wt=new Ov(v),this.ni=new To(this.ei,this.Hs,new qb(this.wt)),this.Vs=new Vb(this.referenceDelegate,this.wt),this.remoteDocumentCache=$b(this.wt),this.Ds=new WD,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(le.FAILED_PRECONDITION,Gv);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new _i(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(lu(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return mp(e).get("owner").next(t=>ae.resolve(this.di(t)))}_i(e){return yp(e).delete(this.clientId)}wi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ur(r,"clientMetadata");return o.K().next(u=>{const l=e.gi(u,18e5),m=u.filter(v=>-1===l.indexOf(v));return ae.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ae.resolve(!0):mp(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Se(le.FAILED_PRECONDITION,Gv);return!1}}return!(!this.networkEnabled||!this.inForeground)||yp(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const l=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||l&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Sv(t,_i.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>yp(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Fl.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new QD(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Om.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.Hs)?Ib:14===l?Av:13===l?Tv:12===l?Eb:11===l?Mm:void Je();var l;let m;return this.ni.runTransaction(e,o,u,v=>(m=new Sv(v,this.Ps?this.Ps.next():_i.ot),"readwrite-primary"===t?this.ai(m).next(I=>!!I||this.hi(m)).next(I=>{if(!I)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Se(le.FAILED_PRECONDITION,tv);return r(m)}).next(I=>this.fi(m).next(()=>I)):this.bi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}bi(e){return mp(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(le.FAILED_PRECONDITION,Gv)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mp(e).put("owner",t)}static V(){return To.V()}li(e){const t=mp(e);return t.get("owner").next(r=>this.di(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&($n(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ft.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mp(n){return Ur(n,"owner")}function yp(n){return Ur(n,"clientMetadata")}function qv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zv{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=Ht(),o=Ht();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zv(e,t.fromCache,r,o)}}class Ul{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(u=>u||this.xi(e,t,o,r)).next(u=>u||this.Ni(e,t))}Ci(e,t){if(dv(t))return ae.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Qf(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Ht(...u);return this.Di.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const I=this.ki(t,m);return this.Mi(t,I,l,v.readTime)?this.Ci(e,Qf(t,null,"F")):this.Oi(e,I,t,v)}))})))}xi(e,t,r,o){return dv(t)||o.isEqual(Dt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(u=>{const l=this.ki(t,u);return this.Mi(t,l,r,o)?this.Ni(e,t):(au()<=nu.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cm(t)),this.Oi(e,l,t,X_(o,-1)))})}ki(e,t){let r=new dn(ZC(e));return t.forEach((o,u)=>{pu(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ni(e,t){return au()<=nu.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Cm(t)),this.Di.getDocumentsMatchingQuery(e,t,$i.min())}Oi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class iT{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new Gn(kt),this.Bi=new oc(u=>ic(u),gh),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hv(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Vm(n,e,t,r){return new iT(n,e,t,r)}function Wv(n,e){return Um.apply(this,arguments)}function Um(){return Um=(0,me.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let v=Ht();for(const I of o){l.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}for(const I of u){m.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(I=>({Ki:I,removedBatchIds:l,addedBatchIds:m}))})})}),Um.apply(this,arguments)}function Bm(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(l,m,v,I){const S=v.batch,O=S.keys();let V=ae.resolve();return O.forEach(J=>{V=V.next(()=>I.getEntry(m,J)).next(ne=>{const Me=v.docVersions.get(J);wt(null!==Me),ne.version.compareTo(Me)<0&&(S.applyToRemoteDocument(ne,v),ne.isValidDocument()&&(ne.setReadTime(v.commitVersion),I.addEntry(ne)))})}),V.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Ht();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function jm(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function gS(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const m=[];e.targetChanges.forEach((S,O)=>{const V=o.get(O);if(!V)return;m.push(t.Vs.removeMatchingKeys(u,S.removedDocuments,O).next(()=>t.Vs.addMatchingKeys(u,S.addedDocuments,O)));let J=V.withSequenceNumber(u.currentSequenceNumber);var ne,Me,Pe;e.targetMismatches.has(O)?J=J.withResumeToken(gr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):S.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(S.resumeToken,r)),o=o.insert(O,J),Me=J,Pe=S,(0===(ne=V).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(t.Vs.updateTargetData(u,J))});let v=wi(),I=Ht();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(Zv(u,l,e.documentUpdates).next(S=>{v=S.Gi,I=S.Qi})),!r.isEqual(Dt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(u).next(O=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return ae.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.$i=o,u))}function Zv(n,e,t){let r=Ht(),o=Ht();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=wi();return t.forEach((m,v)=>{const I=u.get(m);v.isFoundDocument()!==I.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(Dt.min())?(e.removeEntry(m,v.readTime),l=l.insert(m,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),l=l.insert(m,v)):Oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",v.version)}),{Gi:l,Qi:o}})}function sT(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bl(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(u=>u?(o=u,ae.resolve(o)):t.Vs.allocateTargetId(r).next(l=>(o=new xl(e,l,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Mo(n,e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,me.Z)(function*(n,e,t){const r=Ge(n),o=r.$i.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!lu(l))throw l;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),Kv.apply(this,arguments)}function _p(n,e,t){const r=Ge(n);let o=Dt.min(),u=Ht();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,v,I){const S=Ge(m),O=S.Bi.get(I);return void 0!==O?ae.resolve(S.$i.get(O)):S.Vs.getTargetData(v,I)}(r,l,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{u=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(l,e,t?o:Dt.min(),t?u:Ht())).next(m=>(zb(r,WC(e),m),{documents:m,ji:u})))}function $m(n,e){const t=Ge(n),r=Ge(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.te(u,e).next(l=>l?l.target:null))}function oT(n,e){const t=Ge(n),r=t.Li.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,X_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(zb(t,e,o),o))}function zb(n,e,t){let r=Dt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Li.set(e,r)}function Yv(){return Yv=(0,me.Z)(function*(n,e,t,r){const o=Ge(n);let u=Ht(),l=wi();for(const I of t){const S=e.Wi(I.metadata.name);I.document&&(u=u.add(S));const O=e.zi(I);O.setReadTime(e.Hi(I.metadata.readTime)),l=l.insert(S,O)}const m=o.Ui.newChangeBuffer({trackRemovals:!0}),v=yield Bl(o,(I=r,vi(El(Xt.fromString(`__bundle__/docs/${I}`)))));var I;return o.persistence.runTransaction("Apply bundle documents","readwrite",I=>Zv(I,m,l).next(S=>(m.apply(I),S)).next(S=>o.Vs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>o.Vs.addMatchingKeys(I,u,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(I,S.Gi,S.Qi)).next(()=>S.Gi)))}),Yv.apply(this,arguments)}function aT(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,me.Z)(function*(n,e,t=Ht()){const r=yield Bl(n,vi(Rv(e.bundledQuery))),o=Ge(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=Ir(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.Ds.saveNamedQuery(u,e);const m=r.withResumeToken(gr.EMPTY_BYTE_STRING,l);return o.$i=o.$i.insert(m.targetId,m),o.Vs.updateTargetData(u,m).next(()=>o.Vs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Vs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(u,e))})}),Qv.apply(this,arguments)}function Jv(n,e){return`firestore_clients_${n}_${e}`}function Xv(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function e0(n,e){return`firestore_targets_${n}_${e}`}class vp{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new Se(o.error.code,o.error.message))),l?new vp(e,t,o.state,u):($n("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Se(r.error.code,r.error.message))),u?new Oh(e,r.state,o):($n("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=sp();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=FC(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new Hm(e,u):($n("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class t0{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new t0(t.clientId,t.onlineState):($n("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gm{constructor(){this.activeTargetIds=sp()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n0{constructor(e,t,r,o,u){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Gn(kt),this.started=!1,this.ir=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=Jv(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Gm),this.cr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const u=e.getItem(Jv(e.persistenceKey,o));if(u){const l=Hm.Ji(o,u);l&&(e.sr=e.sr.insert(l.clientId,l))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(e0(this.persistenceKey,e));if(r){const o=Oh.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(e0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let l=_i.ot;if(null!=u)try{const m=JSON.parse(u);wt("number"==typeof m),l=m}catch(m){$n("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);o!==_i.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new vp(this.currentUser,e,t,r),u=Xv(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=Xv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=e0(this.persistenceKey,e),u=new Oh(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Hm.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return vp.Ji(new vn(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Oh.Ji(o,t)}wr(e){return t0.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),l=[],m=[];return u.forEach(v=>{o.has(v)||l.push(v)}),o.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Or(l,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=sp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class r0{constructor(){this.Fr=new Gm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Gm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wb{Br(e){}shutdown(){}}class s0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class uT{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class cT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const l=this.oo(e,t);Oe("RestConnection","Sending: ",l,r);const m={};return this.uo(m,o,u),this.co(e,l,m,r).then(v=>(Oe("RestConnection","Received: ",v),v),v=>{throw Zs("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",r),v})}ao(e,t,r,o,u,l){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${Zb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,l)=>{const m=new K_;m.listenOnce(gl.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case oh.NO_ERROR:const I=m.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(I)),u(I);break;case oh.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),l(new Se(le.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const S=m.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const V=function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ne)>=0?ne:le.UNKNOWN}(O.status);l(new Se(V,O.message))}else l(new Se(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else l(new Se(le.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);m.send(t,"POST",v,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=aD(),l=uD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new cD({})),this.uo(m.initMessageHeaders,t,r),(0,Ft.uI)()||(0,Ft.b$)()||(0,Ft.d)()||(0,Ft.w1)()||(0,Ft.Mn)()||(0,Ft.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Oe("Connection","Creating WebChannel: "+v,m);const I=u.createWebChannel(v,m);let S=!1,O=!1;const V=new uT({jr:ne=>{O?Oe("Connection","Not sending because WebChannel is closed:",ne):(S||(Oe("Connection","Opening WebChannel transport."),I.open(),S=!0),Oe("Connection","WebChannel sending:",ne),I.send(ne))},Wr:()=>I.close()}),J=(ne,Me,Pe)=>{ne.listen(Me,gt=>{try{Pe(gt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return J(I,sm.EventType.OPEN,()=>{O||Oe("Connection","WebChannel transport opened.")}),J(I,sm.EventType.CLOSE,()=>{O||(O=!0,Oe("Connection","WebChannel transport closed"),V.eo())}),J(I,sm.EventType.ERROR,ne=>{O||(O=!0,Zs("Connection","WebChannel transport errored:",ne),V.eo(new Se(le.UNAVAILABLE,"The operation could not be completed")))}),J(I,sm.EventType.MESSAGE,ne=>{var Me;if(!O){const Pe=ne.data[0];wt(!!Pe);const gt=Pe,bt=gt.error||(null===(Me=gt[0])||void 0===Me?void 0:Me.error);if(bt){Oe("Connection","WebChannel received error:",bt);const mt=bt.status;let ot=function(jt){const lr=yr[jt];if(void 0!==lr)return sb(lr)}(mt),St=bt.message;void 0===ot&&(ot=le.INTERNAL,St="Unknown error status: "+mt+" with message "+bt.message),O=!0,V.eo(new Se(ot,St)),I.close()}else Oe("Connection","WebChannel received:",Pe),V.no(Pe)}}),J(l,aS.STAT_EVENT,ne=>{ne.stat===ah.PROXY?Oe("Connection","Detected buffering proxy"):ne.stat===ah.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Zr()},0),V}}function lT(){return typeof window<"u"?window:null}function wp(){return typeof document<"u"?document:null}function qm(n){return new MD(n,!0)}class Kb{constructor(e,t,r=1e3,o=1.5,u=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class dT{constructor(e,t,r,o,u,l,m,v){this.js=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Kb(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,me.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,me.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Se(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,me.Z)(function*(){e.state=0,e.start()}))}qo(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yS extends dT{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.wt=u}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function PD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Je(),o=e.targetChange.targetIds||[],u=function(v,I){return v.dt?(wt(void 0===I||"string"==typeof I),gr.fromBase64String(I||"")):(wt(void 0===I||I instanceof Uint8Array),gr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(v){const I=void 0===v.code?le.UNKNOWN:sb(v.code);return new Se(I,v.message||"")}(l);t=new bh(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=So(n,r.document.name),u=Ir(r.document.updateTime),l=new Er({mapValue:{fields:r.document.fields}}),m=wn.newFoundDocument(o,u,l);t=new Dm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=So(n,r.document),u=r.readTime?Ir(r.readTime):Dt.min(),l=wn.newNoDocument(o,u);t=new Dm([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=So(n,r.document);t=new Dm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Je();{const r=e.filter,u=new ib(r.count||0);t=new gv(r.targetId,u)}}var v;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return Dt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Dt.min():u.readTime?Ir(u.readTime):Dt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=cp(this.wt),t.addTarget=function(o,u){let l;const m=u.target;return l=Kf(m)?{documents:pb(o,m)}:{query:gb(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=Al(o,u.resumeToken):u.snapshotVersion.compareTo(Dt.min())>0&&(l.readTime=ap(o,u.snapshotVersion.toTimestamp())),l}(this.wt,e);const r=function RD(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=cp(this.wt),t.removeTarget=e,this.Oo(t)}}class _S extends dT{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function fb(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,o){let u=Ir(r.updateTime?r.updateTime:o);return u.isEqual(Dt.min())&&(u=Ir(o)),new XC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.Jo(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=cp(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Sl(this.wt,r))};this.Oo(t)}}class vS extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(le.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.bo.ao(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(le.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class wS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?($n(t),this.su=!1):Oe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class CS{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(m=>{r.enqueueAndForget((0,me.Z)(function*(){var v;vu(l)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,me.Z)(function*(I){const S=Ge(I);S.lu.add(4),yield jl(S),S._u.set("Unknown"),S.lu.delete(4),yield hc(S)}),function(I){return v.apply(this,arguments)})(l))}))}),this._u=new wS(r,o)}}function hc(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,me.Z)(function*(n){if(vu(n))for(const e of n.fu)yield e(!0)}),Yb.apply(this,arguments)}function jl(n){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,me.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Ph.apply(this,arguments)}function Cp(n,e){const t=Ge(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),o0(t)?Wm(t):$l(t).Co()&&Qb(t,e))}function Rh(n,e){const t=Ge(n),r=$l(t);t.hu.delete(e),r.Co()&&zm(t,e),0===t.hu.size&&(r.Co()?r.ko():vu(t)&&t._u.set("Unknown"))}function Qb(n,e){n.wu.Nt(e.targetId),$l(n).Qo(e)}function zm(n,e){n.wu.Nt(e),$l(n).jo(e)}function Wm(n){n.wu=new AD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),$l(n).start(),n._u.iu()}function o0(n){return vu(n)&&!$l(n).Do()&&n.hu.size>0}function vu(n){return 0===Ge(n).lu.size}function hT(n){n.wu=void 0}function bS(n){return a0.apply(this,arguments)}function a0(){return a0=(0,me.Z)(function*(n){n.hu.forEach((e,t)=>{Qb(n,e)})}),a0.apply(this,arguments)}function fT(n,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,me.Z)(function*(n,e){hT(n),o0(n)?(n._u.uu(e),Wm(n)):n._u.set("Unknown")}),Nh.apply(this,arguments)}function pT(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,me.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof bh&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield u0(n,r)}else if(e instanceof Dm?n.wu.Ut(e):e instanceof gv?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Dt.min()))try{const r=yield jm(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.wu.Yt(u);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const I=o.hu.get(v);I&&o.hu.set(v,I.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach(m=>{const v=o.hu.get(m);if(!v)return;o.hu.set(m,v.withResumeToken(gr.EMPTY_BYTE_STRING,v.snapshotVersion)),zm(o,m);const I=new xl(v.target,m,1,v.sequenceNumber);Qb(o,I)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield u0(n,r)}var r}),Jb.apply(this,arguments)}function u0(n,e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,me.Z)(function*(n,e,t){if(!lu(e))throw e;n.lu.add(1),yield jl(n),n._u.set("Offline"),t||(t=()=>jm(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield hc(n)}))}),Xb.apply(this,arguments)}function eE(n,e){return e().catch(t=>u0(n,t,e))}function kh(n){return c0.apply(this,arguments)}function c0(){return c0=(0,me.Z)(function*(n){const e=Ge(n),t=fc(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;ES(e);)try{const o=yield sT(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,gT(e,o)}catch(o){yield u0(e,o)}l0(e)&&d0(e)}),c0.apply(this,arguments)}function ES(n){return vu(n)&&n.au.length<10}function gT(n,e){n.au.push(e);const t=fc(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function l0(n){return vu(n)&&!fc(n).Do()&&n.au.length>0}function d0(n){fc(n).start()}function IS(n){return ps.apply(this,arguments)}function ps(){return ps=(0,me.Z)(function*(n){fc(n).Xo()}),ps.apply(this,arguments)}function mT(n){return bp.apply(this,arguments)}function bp(){return bp=(0,me.Z)(function*(n){const e=fc(n);for(const t of n.au)e.Ho(t.mutations)}),bp.apply(this,arguments)}function yT(n,e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,me.Z)(function*(n,e,t){const r=n.au.shift(),o=xv.from(r,e,t);yield eE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield kh(n)}),Ei.apply(this,arguments)}function _T(n,e){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,me.Z)(function*(n,e){var t;e&&fc(n).zo&&(yield(t=(0,me.Z)(function*(r,o){if(wh(u=o.code)&&u!==le.ABORTED){const l=r.au.shift();fc(r).No(),yield eE(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield kh(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),l0(n)&&d0(n)}),Ep.apply(this,arguments)}function tE(n,e){return h0.apply(this,arguments)}function h0(){return h0=(0,me.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=vu(t);t.lu.add(3),yield jl(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield hc(t)}),h0.apply(this,arguments)}function Ip(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,me.Z)(function*(n,e){const t=Ge(n);e?(t.lu.delete(2),yield hc(t)):e||(t.lu.add(2),yield jl(t),t._u.set("Unknown"))}),Zm.apply(this,arguments)}function $l(n){return n.mu||(n.mu=function(e,t,r){const o=Ge(e);return o.tu(),new yS(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:bS.bind(null,n),Jr:fT.bind(null,n),Go:pT.bind(null,n)}),n.fu.push(function(){var e=(0,me.Z)(function*(t){t?(n.mu.No(),o0(n)?Wm(n):n._u.set("Unknown")):(yield n.mu.stop(),hT(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function fc(n){return n.gu||(n.gu=function(e,t,r){const o=Ge(e);return o.tu(),new _S(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:IS.bind(null,n),Jr:_T.bind(null,n),Yo:mT.bind(null,n),Jo:yT.bind(null,n)}),n.fu.push(function(){var e=(0,me.Z)(function*(t){t?(n.gu.No(),yield kh(n)):(yield n.gu.stop(),n.au.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Km{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new Km(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hl(n,e){if($n("AsyncQueue",`${e}: ${n}`),lu(n))return new Se(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Fh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Gn(this.comparator)}static emptySet(e){return new Fh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class f0{constructor(){this.yu=new Gn(qe.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Je():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lh{constructor(e,t,r,o,u,l,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new Lh(e,t,Fh.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class p0{constructor(){this.Iu=void 0,this.listeners=[]}}class pc{constructor(){this.queries=new oc(e=>hv(e),yh),this.onlineState="Unknown",this.Tu=new Set}}function Ym(n,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,me.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new p0),o)try{u.Iu=yield t.onListen(r)}catch(l){const m=Hl(l,`Initialization of query '${Cm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&m0(t)}),Dp.apply(this,arguments)}function xo(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,me.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),g0.apply(this,arguments)}function DS(n,e){const t=Ge(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.Au(o)&&(r=!0);l.Iu=o}}r&&m0(t)}function vT(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function m0(n){n.Tu.forEach(e=>{e.next()})}class y0{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Lh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Lh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class wT{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class _0{constructor(e){this.wt=e}Wi(e){return So(this.wt,e)}zi(e){return e.metadata.exists?hb(this.wt,e.document,!1):wn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Ir(e)}}class TS{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v0(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Xt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new _0(this.wt);for(const o of e)if(o.metadata.queries){const u=r.Wi(o.metadata.name);for(const l of o.metadata.queries){const m=(t.get(l)||Ht()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function mS(n,e,t,r){return Yv.apply(this,arguments)}(e.localStore,new _0(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield aT(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function v0(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nE{constructor(e){this.key=e}}class w0{constructor(e){this.key=e}}class CT{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Ht(),this.mutatedKeys=Ht(),this.Lu=ZC(e),this.Uu=new Fh(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new f0,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,I="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,O)=>{const V=o.get(S),J=pu(this.query,O)?O:null,ne=!!V&&this.mutatedKeys.has(V.key),Me=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Pe=!1;V&&J?V.data.isEqual(J.data)?ne!==Me&&(r.track({type:3,doc:J}),Pe=!0):this.Qu(V,J)||(r.track({type:2,doc:J}),Pe=!0,(v&&this.Lu(J,v)>0||I&&this.Lu(J,I)<0)&&(m=!0)):!V&&J?(r.track({type:0,doc:J}),Pe=!0):V&&!J&&(r.track({type:1,doc:V}),Pe=!0,(v||I)&&(m=!0)),Pe&&(J?(l=l.add(J),u=Me?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Uu:l,Gu:r,Mi:m,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Gu.pu();u.sort((I,S)=>function(O,V){const J=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return J(O)-J(V)}(I.type,S.type)||this.Lu(I.doc,S.doc)),this.ju(r);const l=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==u.length||v?{snapshot:new Lh(this.query,e.Uu,o,u,e.mutatedKeys,0===m,v,!1),zu:l}:{zu:l}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new f0,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ht(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new w0(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new nE(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Ht();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Lh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class C0{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rE{constructor(e){this.key=e,this.Xu=!1}}class iE{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.Zu={},this.tc=new oc(m=>hv(m),yh),this.ec=new Map,this.nc=new Set,this.sc=new Gn(qe.comparator),this.ic=new Map,this.rc=new Lm,this.oc={},this.uc=new Map,this.cc=_u.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function bT(n,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,me.Z)(function*(n,e){const t=O0(n);let r,o;const u=t.tc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const l=yield Bl(t.localStore,vi(e));t.isPrimaryClient&&Cp(t.remoteStore,l);const m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield Jm(t,e,r,"current"===m)}return o}),Qm.apply(this,arguments)}function Jm(n,e,t,r){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,me.Z)(function*(n,e,t,r){n.hc=(S,O,V)=>{return(J=(0,me.Z)(function*(ne,Me,Pe,gt){let bt=Me.view.Ku(Pe);bt.Mi&&(bt=yield _p(ne.localStore,Me.query,!1).then(({documents:St})=>Me.view.Ku(St,bt)));const mt=gt&&gt.targetChanges.get(Me.targetId),ot=Me.view.applyChanges(bt,ne.isPrimaryClient,mt);return Uh(ne,Me.targetId,ot.zu),ot.snapshot}),function(ne,Me,Pe,gt){return J.apply(this,arguments)})(n,S,O,V);var J};const o=yield _p(n.localStore,e,!0),u=new CT(e,o.ji),l=u.Ku(o.documents),m=op.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(l,n.isPrimaryClient,m);Uh(n,t,v.zu);const I=new C0(e,t,u);return n.tc.set(e,I),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),Vh.apply(this,arguments)}function Xm(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,me.Z)(function*(n,e){const t=Ge(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(u=>!yh(u,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mo(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rh(t.remoteStore,r.targetId),Tp(t,r.targetId)}).catch(cu))):(Tp(t,r.targetId),yield Mo(t.localStore,r.targetId,!0))}),ey.apply(this,arguments)}function ty(){return ty=(0,me.Z)(function*(n,e,t){const r=P0(n);try{const o=yield function(u,l){const m=Ge(u),v=kn.now(),I=l.reduce((V,J)=>V.add(J.key),Ht());let S,O;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let J=wi(),ne=Ht();return m.Ui.getEntries(V,I).next(Me=>{J=Me,J.forEach((Pe,gt)=>{gt.isValidDocument()||(ne=ne.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,J)).next(Me=>{S=Me;const Pe=[];for(const gt of l){const bt=DD(gt,S.get(gt.key).overlayedDocument);null!=bt&&Pe.push(new mu(gt.key,bt,ym(bt.value.mapValue),zn.exists(!0)))}return m.mutationQueue.addMutationBatch(V,v,Pe,l)}).next(Me=>{O=Me;const Pe=Me.applyToLocalDocumentSet(S,ne);return m.documentOverlayCache.saveOverlays(V,Me.batchId,Pe)})}).then(()=>({batchId:O.batchId,changes:ob(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let v=u.oc[u.currentUser.toKey()];v||(v=new Gn(kt)),v=v.insert(l,m),u.oc[u.currentUser.toKey()]=v}(r,o.batchId,t),yield pa(r,o.changes),yield kh(r.remoteStore)}catch(o){const u=Hl(o,"Failed to persist write");t.reject(u)}}),ty.apply(this,arguments)}function b0(n,e){return E0.apply(this,arguments)}function E0(){return E0=(0,me.Z)(function*(n,e){const t=Ge(n);try{const r=yield gS(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.ic.get(u);l&&(wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Xu=!0:o.modifiedDocuments.size>0?wt(l.Xu):o.removedDocuments.size>0&&(wt(l.Xu),l.Xu=!1))}),yield pa(t,r,e)}catch(r){yield cu(r)}}),E0.apply(this,arguments)}function sE(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((u,l)=>{const m=l.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=Ge(u);m.onlineState=l;let v=!1;m.queries.forEach((I,S)=>{for(const O of S.listeners)O.Eu(l)&&(v=!0)}),v&&m0(m)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AS(n,e,t){return oE.apply(this,arguments)}function oE(){return oE=(0,me.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),u=o&&o.key;if(u){let l=new Gn(qe.comparator);l=l.insert(u,wn.newNoDocument(u,Dt.min()));const m=Ht().add(u),v=new ac(Dt.min(),new Map,new dn(kt),l,m);yield b0(r,v),r.sc=r.sc.remove(u),r.ic.delete(e),T0(r)}else yield Mo(r.localStore,e,!1).then(()=>Tp(r,e,t)).catch(cu)}),oE.apply(this,arguments)}function aE(n,e){return I0.apply(this,arguments)}function I0(){return I0=(0,me.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=yield Bm(t.localStore,e);lE(t,r,null),cE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pa(t,o)}catch(o){yield cu(o)}}),I0.apply(this,arguments)}function IT(n,e,t){return D0.apply(this,arguments)}function D0(){return D0=(0,me.Z)(function*(n,e,t){const r=Ge(n);try{const o=yield function(u,l){const m=Ge(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return m.mutationQueue.lookupMutationBatch(v,l).next(S=>(wt(null!==S),I=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,I,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>m.localDocuments.getDocuments(v,I))})}(r.localStore,e);lE(r,e,t),cE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pa(r,o)}catch(o){yield cu(o)}}),D0.apply(this,arguments)}function uE(){return uE=(0,me.Z)(function*(n,e){const t=Ge(n);vu(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Ge(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=Hl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),uE.apply(this,arguments)}function cE(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function lE(n,e,t){const r=Ge(n);let o=r.oc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function Tp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||dE(n,r)})}function dE(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Rh(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),T0(n))}function Uh(n,e,t){for(const r of t)r instanceof nE?(n.rc.addReference(r.key,e),DT(n,r)):r instanceof w0?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||dE(n,r.key)):Je()}function DT(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.nc.add(r),T0(n))}function T0(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new qe(Xt.fromString(e)),r=n.cc.next();n.ic.set(r,new rE(t)),n.sc=n.sc.insert(t,r),Cp(n.remoteStore,new xl(vi(El(t.path)),r,2,_i.ot))}}function pa(n,e,t){return wu.apply(this,arguments)}function wu(){return wu=(0,me.Z)(function*(n,e,t){const r=Ge(n),o=[],u=[],l=[];var m;r.tc.isEmpty()||(r.tc.forEach((m,v)=>{l.push(r.hc(v,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I.fromCache?"not-current":"current"),o.push(I);const S=zv.Vi(v.targetId,I);u.push(S)}}))}),yield Promise.all(l),r.Zu.Go(o),yield(m=(0,me.Z)(function*(v,I){const S=Ge(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>ae.forEach(I,V=>ae.forEach(V.Pi,J=>S.persistence.referenceDelegate.addReference(O,V.targetId,J)).next(()=>ae.forEach(V.vi,J=>S.persistence.referenceDelegate.removeReference(O,V.targetId,J)))))}catch(O){if(!lu(O))throw O;Oe("LocalStore","Failed to update sequence numbers: "+O)}for(const O of I){const V=O.targetId;if(!O.fromCache){const J=S.$i.get(V),Me=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);S.$i=S.$i.insert(V,Me)}}}),function(v,I){return m.apply(this,arguments)})(r.localStore,u))}),wu.apply(this,arguments)}function hE(n,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,me.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield Wv(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(l=>{l.forEach(m=>{m.reject(new Se(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pa(t,r.Ki)}var o}),Ap.apply(this,arguments)}function A0(n,e){const t=Ge(n),r=t.ic.get(e);if(r&&r.Xu)return Ht().add(r.key);{let o=Ht();const u=t.ec.get(e);if(!u)return o;for(const l of u){const m=t.tc.get(l);o=o.unionWith(m.view.qu)}return o}}function TT(n,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,me.Z)(function*(n,e){const t=Ge(n),r=yield _p(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&Uh(t,e.targetId,o.zu),o}),Sp.apply(this,arguments)}function S0(n,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,me.Z)(function*(n,e){const t=Ge(n);return oT(t.localStore,e).then(r=>pa(t,r))}),Bh.apply(this,arguments)}function MS(n,e,t,r){return fE.apply(this,arguments)}function fE(){return fE=(0,me.Z)(function*(n,e,t,r){const o=Ge(n),u=yield function(l,m){const v=Ge(l),I=Ge(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.yn(S,m).next(O=>O?v.localDocuments.getDocuments(S,O):ae.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield kh(o.remoteStore):"acknowledged"===t||"rejected"===t?(lE(o,e,r||null),cE(o,e),m=e,Ge(Ge(o.localStore).mutationQueue).In(m)):Je(),yield pa(o,u)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),fE.apply(this,arguments)}function pE(){return pE=(0,me.Z)(function*(n,e){const t=Ge(n);if(O0(t),P0(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield M0(t,r.toArray());t.ac=!0,yield Ip(t.remoteStore,!0);for(const u of o)Cp(t.remoteStore,u)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(Tp(t,l),Mo(t.localStore,l,!0))),Rh(t.remoteStore,l)}),yield o,yield M0(t,r),function(u){const l=Ge(u);l.ic.forEach((m,v)=>{Rh(l.remoteStore,v)}),l.rc.cs(),l.ic=new Map,l.sc=new Gn(qe.comparator)}(t),t.ac=!1,yield Ip(t.remoteStore,!1)}}),pE.apply(this,arguments)}function M0(n,e,t){return x0.apply(this,arguments)}function x0(){return x0=(0,me.Z)(function*(n,e,t){const r=Ge(n),o=[],u=[];for(const l of e){let m;const v=r.ec.get(l);if(v&&0!==v.length){m=yield Bl(r.localStore,vi(v[0]));for(const I of v){const S=r.tc.get(I),O=yield TT(r,S);O.snapshot&&u.push(O.snapshot)}}else{const I=yield $m(r.localStore,l);m=yield Bl(r.localStore,I),yield Jm(r,gE(I),l,!1)}o.push(m)}return r.Zu.Go(u),o}),x0.apply(this,arguments)}function gE(n){return zC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AT(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Ri()}function ST(n,e,t,r){return ny.apply(this,arguments)}function ny(){return ny=(0,me.Z)(function*(n,e,t,r){const o=Ge(n);if(o.ac)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ec.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield oT(o.localStore,WC(u[0])),m=ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pa(o,l,m);break}case"rejected":yield Mo(o.localStore,e,!0),Tp(o,e,r);break;default:Je()}}),ny.apply(this,arguments)}function mE(n,e,t){return ry.apply(this,arguments)}function ry(){return ry=(0,me.Z)(function*(n,e,t){const r=O0(n);if(r.ac){for(const o of e){if(r.ec.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const u=yield $m(r.localStore,o),l=yield Bl(r.localStore,u);yield Jm(r,gE(u),l.targetId,!1),Cp(r.remoteStore,l)}for(const o of t)r.ec.has(o)&&(yield Mo(r.localStore,o,!1).then(()=>{Rh(r.remoteStore,o),Tp(r,o)}).catch(cu))}}),ry.apply(this,arguments)}function O0(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AS.bind(null,e),e.Zu.Go=DS.bind(null,e.eventManager),e.Zu.lc=vT.bind(null,e.eventManager),e}function P0(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IT.bind(null,e),e}class iy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.wt=qm(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Vm(this.persistence,new Ul,e.initialUser,this.wt)}_c(e){return new rT(pp.Os,this.wt)}dc(e){return new r0}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MT extends iy{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield P0(r.yc.syncEngine),yield kh(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Vm(this.persistence,new Ul,e.initialUser,this.wt)}mc(e,t){return new Bb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new OC(t,this.persistence);return new xC(e.asyncQueue,r)}_c(e){const t=qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new gp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lT(),wp(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new r0}}class _E extends MT{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof n0&&(r.sharedClientState.syncEngine={kr:MS.bind(null,o),Mr:ST.bind(null,o),Or:mE.bind(null,o),Ri:AT.bind(null,o),Nr:S0.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var u=(0,me.Z)(function*(l){yield function xS(n,e){return pE.apply(this,arguments)}(r.yc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}dc(e){const t=lT();if(!n0.V(t))throw new Se(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new n0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mp{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>sE(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=hE.bind(null,r.syncEngine),yield Ip(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pc}createDatastore(e){const t=qm(e.databaseInfo.databaseId),r=new cT(e.databaseInfo);return new vS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>sE(this.syncEngine,m,0),l=s0.V()?new s0:new Wb,new CS(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,v,I){const S=new iE(r,o,u,l,m,v);return I&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=Ge(t);Oe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield jl(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vE(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class OS{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Hn,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,me.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const u=yield e.vc(o);return new wT(JSON.parse(u),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,me.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class PS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,me.Z)(function*(u,l){const m=Ge(u),v=cp(m.wt)+"/documents",I={documents:l.map(J=>up(m.wt,J))},S=yield m.ao("BatchGetDocuments",v,I,l.length),O=new Map;S.forEach(J=>{const ne=function OD(n,e){return"found"in e?function(t,r){wt(!!r.found);const o=So(t,r.found.name),u=Ir(r.found.updateTime),l=new Er({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(o,u,l)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const o=So(t,r.missing),u=Ir(r.readTime);return wn.newNoDocument(o,u)}(n,e):Je()}(m.wt,J);O.set(ne.key.toString(),ne)});const V=[];return l.forEach(J=>{const ne=O.get(J.toString());wt(!!ne),V.push(ne)}),V}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=qe.fromPath(o);e.mutations.push(new Im(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(o,u){const l=Ge(o),m=cp(l.wt)+"/documents",v={writes:u.map(I=>Sl(l.wt,I))};yield l.ro("Commit",m,v)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zn.updateTime(t):zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Se(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zn.updateTime(t)}return zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xT{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Dc=r.maxAttempts,this.So=new Kb(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,me.Z)(function*(){const t=new PS(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Nc(u)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Cl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wh(t)}return!1}}class OT{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=DC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,me.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Oe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Hl(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function wE(n,e){return CE.apply(this,arguments)}function CE(){return CE=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,me.Z)(function*(u){r.isEqual(u)||(yield Wv(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),CE.apply(this,arguments)}function PT(n,e){return bE.apply(this,arguments)}function bE(){return bE=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield EE(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>tE(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>tE(e.remoteStore,u)),n.onlineComponents=e}),bE.apply(this,arguments)}function EE(n){return IE.apply(this,arguments)}function IE(){return IE=(0,me.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield wE(n,new iy)),n.offlineComponents}),IE.apply(this,arguments)}function oy(n){return DE.apply(this,arguments)}function DE(){return DE=(0,me.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield PT(n,new Mp)),n.onlineComponents}),DE.apply(this,arguments)}function RT(n){return EE(n).then(e=>e.persistence)}function R0(n){return EE(n).then(e=>e.localStore)}function NT(n){return oy(n).then(e=>e.remoteStore)}function TE(n){return oy(n).then(e=>e.syncEngine)}function xp(n){return i.apply(this,arguments)}function i(){return i=(0,me.Z)(function*(n){const e=yield oy(n),t=e.eventManager;return t.onListen=bT.bind(null,e.syncEngine),t.onUnlisten=Xm.bind(null,e.syncEngine),t}),i.apply(this,arguments)}function d(n,e,t={}){const r=new Hn;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,l,m,v){const I=new sy({next:O=>{u.enqueueAndForget(()=>xo(o,S));const V=O.docs.has(l);!V&&O.fromCache?v.reject(new Se(le.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&m&&"server"===m.source?v.reject(new Se(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),S=new y0(El(l.path),I,{includeMetadataChanges:!0,Du:!0});return Ym(o,S)}(yield xp(n),n.asyncQueue,e,t,r)})),r.promise}function _(n,e,t={}){const r=new Hn;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,l,m,v){const I=new sy({next:O=>{u.enqueueAndForget(()=>xo(o,S)),O.fromCache&&"server"===m.source?v.reject(new Se(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),S=new y0(l,I,{includeMetadataChanges:!0,Du:!0});return Ym(o,S)}(yield xp(n),n.asyncQueue,e,t,r)})),r.promise}const N=new Map;function q(n,e,t){if(!t)throw new Se(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ee(n,e,t,r){if(!0===e&&!0===r)throw new Se(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ce(n){if(!qe.isDocumentKey(n))throw new Se(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ke(n){if(qe.isDocumentKey(n))throw new Se(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ze(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function Ne(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ze(n);throw new Se(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function It(n,e){if(e<=0)throw new Se(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Re{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lt{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Re({}),this._settingsFrozen=!1,e instanceof ha?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Se(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(o.options.projectId)}(e))}get app(){if(!this._app)throw new Se(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Re(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vC;switch(t.type){case"gapi":const r=t.client;return wt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=N.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),N.delete(e),t.terminate())}(this),Promise.resolve()}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}}class nr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class Qs extends nr{constructor(e,t,r){super(e,t,El(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new qe(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function ay(n,e,...t){if(n=(0,Ft.m9)(n),q("collection","path",e),n instanceof lt){const r=Xt.fromString(e,...t);return ke(r),new Qs(n,null,r)}{if(!(n instanceof xt||n instanceof Qs))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return ke(r),new Qs(n.firestore,null,r)}}function jh(n,e,...t){if(n=(0,Ft.m9)(n),1===arguments.length&&(e=DC.I()),q("doc","path",e),n instanceof lt){const r=Xt.fromString(e,...t);return Ce(r),new xt(n,null,new qe(r))}{if(!(n instanceof xt||n instanceof Qs))throw new Se(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xt.fromString(e,...t));return Ce(r),new xt(n.firestore,n instanceof Qs?n.converter:null,new qe(r))}}function uy(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),(n instanceof xt||n instanceof Qs)&&(e instanceof xt||e instanceof Qs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cy(n,e){return n=(0,Ft.m9)(n),e=(0,Ft.m9)(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&yh(n._query,e._query)&&n.converter===e.converter}class k0{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Kb(this,"async_queue_retry"),this.Kc=()=>{const t=wp();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Hn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,me.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!lu(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,$n("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=Km.createAndSchedule(this,e,t,r,u=>this.Wc(u));return this.$c.push(o),o}Gc(){this.Bc&&Je()}verifyOperationInProgress(){}zc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Op(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class F0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rr extends lt{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new k0,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||RS(this),this._firestoreClient.terminate()}}function jr(n){return n._firestoreClient||RS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uS(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new OT(n._authCredentials,n._appCheckCredentials,n._queue,r)}function NS(n,e,t){const r=new Hn;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield wE(n,t),yield PT(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(l=u).name?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw u;Zs("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var l})).then(()=>r.promise)}function kS(n){if(n._initialized||n._terminated)throw new Se(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(gr.fromBase64String(e))}catch(t){throw new Se(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gc(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class AE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const KO=/^__.*__$/;class YO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new fa(e,this.data,t,this.fieldTransforms)}}class FS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class SE{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new SE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return OE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(LS(this.Zc)&&KO.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class QO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||qm(e)}aa(e,t,r,o=!1){return new SE({Zc:e,methodName:t,ca:r,path:Sn.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=qm(n._databaseId);return new QO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ME(n,e,t,r,o,u={}){const l=n.aa(u.merge||u.mergeFields?2:0,e,t,o);VT("Data must be an object, but it was:",l,r);const m=BS(r,l);let v,I;if(u.merge)v=new Hi(l.fieldMask),I=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const V=UT(e,O,t);if(!l.contains(V))throw new Se(le.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);$S(S,V)||S.push(V)}v=new Hi(S),I=l.fieldTransforms.filter(O=>v.covers(O.field))}else v=null,I=l.fieldTransforms;return new YO(new Er(m),v,I)}class L0 extends Pp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof L0}}function VS(n,e,t){return new SE({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class kT extends Pp{_toFieldTransform(e){return new Em(e.path,new vh)}isEqual(e){return e instanceof kT}}class JO extends Pp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=VS(this,e,!0),r=this.ha.map(u=>Np(u,t)),o=new Dl(r);return new Em(e.path,o)}isEqual(e){return this===e}}class XO extends Pp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=VS(this,e,!0),r=this.ha.map(u=>Np(u,t)),o=new Ks(r);return new Em(e.path,o)}isEqual(e){return this===e}}class eP extends Pp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new gu(e.wt,ID(e.wt,this.la));return new Em(e.path,t)}isEqual(e){return this===e}}function FT(n,e,t,r){const o=n.aa(1,e,t);VT("Data must be an object, but it was:",o,r);const u=[],l=Er.empty();vl(r,(v,I)=>{const S=xE(e,v,t);I=(0,Ft.m9)(I);const O=o.ia(S);if(I instanceof L0)u.push(S);else{const V=Np(I,O);null!=V&&(u.push(S),l.set(S,V))}});const m=new Hi(u);return new FS(l,m,o.fieldTransforms)}function LT(n,e,t,r,o,u){const l=n.aa(1,e,t),m=[UT(e,r,t)],v=[o];if(u.length%2!=0)throw new Se(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push(UT(e,u[V])),v.push(u[V+1]);const I=[],S=Er.empty();for(let V=m.length-1;V>=0;--V)if(!$S(I,m[V])){const J=m[V];let ne=v[V];ne=(0,Ft.m9)(ne);const Me=l.ia(J);if(ne instanceof L0)I.push(J);else{const Pe=Np(ne,Me);null!=Pe&&(I.push(J),S.set(J,Pe))}}const O=new Hi(I);return new FS(S,O,l.fieldTransforms)}function US(n,e,t,r=!1){return Np(t,n.aa(r?4:3,e))}function Np(n,e){if(jS(n=(0,Ft.m9)(n)))return VT("Unsupported field value:",e,n),BS(n,e);if(n instanceof Pp)return function(t,r){if(!LS(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=Np(l,r.ra(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ft.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ID(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=kn.fromDate(t);return{timestampValue:ap(r.wt,o)}}if(t instanceof kn){const o=new kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ap(r.wt,o)}}if(t instanceof AE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gc)return{bytesValue:Al(r.wt,t._byteString)};if(t instanceof xt){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${ze(t)}`)}(n,e)}function BS(n,e){const t={};return PC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(n,(r,o)=>{const u=Np(o,e.ea(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function jS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kn||n instanceof AE||n instanceof gc||n instanceof xt||n instanceof Pp)}function VT(n,e,t){if(!jS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ze(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function UT(n,e,t){if((e=(0,Ft.m9)(e))instanceof Gl)return e._internalPath;if("string"==typeof e)return xE(n,e);throw OE("Field path arguments must be of type string or ",n,!1,void 0,t)}const tP=new RegExp("[~\\*/\\[\\]]");function xE(n,e,t){if(e.search(tP)>=0)throw OE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gl(...e.split("."))._internalPath}catch{throw OE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function OE(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${o}`),v+=")"),new Se(le.INVALID_ARGUMENT,m+n+v)}function $S(n,e){return n.some(t=>t.isEqual(e))}class V0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(PE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nP extends V0{data(){return super.data()}}function PE(n,e){return"string"==typeof e?xE(n,e):e instanceof Gl?e._internalPath:e._delegate._internalPath}class kp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends V0{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(PE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class U0 extends ql{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new U0(this._firestore,this._userDataWriter,r.key,r,new kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new kp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new kp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),I=u.indexOf(l.doc.key)),{type:rP(l.type),doc:m,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function HS(n,e){return n instanceof ql&&e instanceof ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&cy(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function GS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B0{}function Hh(n,...e){for(const t of e)n=t._apply(n);return n}class iP extends B0{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(o,u,l,m,v,I,S){let O;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){YS(S,I);const J=[];for(const ne of S)J.push(KS(m,o,ne));O={arrayValue:{values:J}}}else O=KS(m,o,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||YS(S,I),O=US(l,"where",S,"in"===I||"not-in"===I);const V=Jr.create(v,I,O);return function(J,ne){if(ne.ht()){const Pe=vm(J);if(null!==Pe&&!Pe.isEqual(ne.field))throw new Se(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${ne.field.toString()}'`);const gt=_m(J);null!==gt&&QS(0,ne.field,gt)}const Me=function(Pe,gt){for(const bt of Pe.filters)if(gt.indexOf(bt.op)>=0)return bt.op;return null}(J,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==Me)throw new Se(le.INVALID_ARGUMENT,Me===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${Me.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new nr(e.firestore,e.converter,function(o,u){const l=o.filters.concat([u]);return new fu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),l,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class oP extends B0{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new mh(o,u);return function(m,v){if(null===_m(m)){const I=vm(m);null!==I&&QS(0,I,v.field)}}(r,l),l}(e._query,this.fa,this.wa);return new nr(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new fu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qS extends B0{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new nr(e.firestore,e.converter,Qf(e._query,this.ma,this.ga))}}class zS extends B0{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=ZS(e,this.type,this.ya,this.pa);return new nr(e.firestore,e.converter,(o=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class WS extends B0{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=ZS(e,this.type,this.ya,this.pa);return new nr(e.firestore,e.converter,(o=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function ZS(n,e,t,r){if(t[0]=(0,Ft.m9)(t[0]),t[0]instanceof V0)return function(o,u,l,m,v){if(!m)throw new Se(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const I=[];for(const S of Il(o))if(S.field.isKeyField())I.push(bl(u,m.key));else{const O=m.data.field(S.field);if(pm(O))throw new Se(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=S.field.canonicalString();throw new Se(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}I.push(O)}return new sc(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Rp(n.firestore);return function(u,l,m,v,I,S){const O=u.explicitOrderBy;if(I.length>O.length)throw new Se(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let J=0;J<I.length;J++){const ne=I[J];if(O[J].field.isKeyField()){if("string"!=typeof ne)throw new Se(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ne}`);if(!wm(u)&&-1!==ne.indexOf("/"))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ne}' contains a slash.`);const Me=u.path.child(Xt.fromString(ne));if(!qe.isDocumentKey(Me))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Pe=new qe(Me);V.push(bl(l,Pe))}else{const Me=US(m,v,ne);V.push(Me)}}return new sc(V,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function KS(n,e,t){if("string"==typeof(t=(0,Ft.m9)(t))){if(""===t)throw new Se(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wm(e)&&-1!==t.indexOf("/"))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xt.fromString(t));if(!qe.isDocumentKey(r))throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bl(n,new qe(r))}if(t instanceof xt)return bl(n,t._key);throw new Se(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ze(t)}.`)}function YS(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function QS(n,e,t){if(!t.isEqual(e))throw new Se(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const pP={maxAttempts:5};class BT{convertValue(e,t="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return vl(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new AE(tr(e.latitude),tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kC(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}convertTimestamp(e){const t=hs(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xt.fromString(e);wt(bv(r));const o=new ha(r.get(1),r.get(3)),u=new qe(r.popFirst(5));return o.isEqual(t)||$n(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function RE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class gP extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}class JS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const o=Gh(e,this._firestore),u=RE(o.converter,t,r),l=ME(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,zn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Gh(e,this._firestore);let l;return l="string"==typeof(t=(0,Ft.m9)(t))||t instanceof Gl?LT(this._dataReader,"WriteBatch.update",u._key,t,r,o):FT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Tl(t._key,zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,e){if((n=(0,Ft.m9)(n)).firestore!==e)throw new Se(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fp extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function XS(n,e,t){n=Ne(n,xt);const r=Ne(n.firestore,rr),o=RE(n.converter,e,t);return ly(r,[ME(Rp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,zn.none())])}function eM(n,e,t,...r){n=Ne(n,xt);const o=Ne(n.firestore,rr),u=Rp(o);let l;return l="string"==typeof(e=(0,Ft.m9)(e))||e instanceof Gl?LT(u,"updateDoc",n._key,e,t,r):FT(u,"updateDoc",n._key,e),ly(o,[l.toMutation(n._key,zn.exists(!0))])}function tM(n,...e){var t,r,o;n=(0,Ft.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Op(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(Op(e[l])){const O=e[l];e[l]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[l+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[l+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let v,I,S;if(n instanceof xt)I=Ne(n.firestore,rr),S=El(n._key.path),v={next:O=>{e[l]&&e[l](jT(I,n,O))},error:e[l+1],complete:e[l+2]};else{const O=Ne(n,nr);I=Ne(O.firestore,rr),S=O._query;const V=new Fp(I);v={next:J=>{e[l]&&e[l](new $h(I,V,O,J))},error:e[l+1],complete:e[l+2]},GS(n._query)}return function(O,V,J,ne){const Me=new sy(ne),Pe=new y0(V,Me,J);return O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Ym(yield xp(O),Pe)})),()=>{Me.Tc(),O.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return xo(yield xp(O),Pe)}))}}(jr(I),S,m,v)}function ly(n,e){return function(t,r){const o=new Hn;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function ET(n,e,t){return ty.apply(this,arguments)}(yield TE(t),r,o)})),o.promise}(jr(n),e)}function jT(n,e,t){const r=t.docs.get(e._key),o=new Fp(n);return new ql(n,o,e._key,r,new kp(t.hasPendingWrites,t.fromCache),e.converter)}class DP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=Gh(e,this._firestore),r=new gP(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Je();const u=o[0];if(u.isFoundDocument())return new V0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new V0(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const o=Gh(e,this._firestore),u=RE(o.converter,t,r),l=ME(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Gh(e,this._firestore);let l;return l="string"==typeof(t=(0,Ft.m9)(t))||t instanceof Gl?LT(this._dataReader,"Transaction.update",u._key,t,r,o):FT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),r=new Fp(this._firestore);return super.get(e).then(o=>new ql(this._firestore,r,t._key,o._document,new kp(!1,!1),t.converter))}}function $T(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function rM(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function iM(){if(!function fD(){return typeof atob<"u"}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){da=Cr.SDK_VERSION,(0,Cr._registerComponent)(new $d.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new rr(o,new CC(t.getProvider("auth-internal")),new IC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Cr.registerVersion)(_C,"3.4.14",n),(0,Cr.registerVersion)(_C,"3.4.14","esm2017")}();class j0{constructor(e){this._delegate=e}static fromBase64String(e){return iM(),new j0(gc.fromBase64String(e))}static fromUint8Array(e){return rM(),new j0(gc.fromUint8Array(e))}toBase64(){return iM(),this._delegate.toBase64()}toUint8Array(){return rM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HT(n){return function NP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class kP{enableIndexedDbPersistence(e,t){return function jO(n,e){kS(n=Ne(n,rr));const t=jr(n),r=n._freezeSettings(),o=new Mp;return NS(t,o,new MT(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $O(n){kS(n=Ne(n,rr));const e=jr(n),t=n._freezeSettings(),r=new Mp;return NS(e,r,new _E(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function HO(n){if(n._initialized&&!n._terminated)throw new Se(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!To.V())return Promise.resolve();const o=r+"main";yield To.delete(o)}),function(r){return t.apply(this,arguments)})(qv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class sM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Wt(n,e,t,r={}){var o;const u=(n=Ne(n,lt))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Zs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=vn.MOCK_USER;else{l=(0,Ft.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new vn(v)}n._authCredentials=new wC(new Y_(l,m))}}(this._delegate,e,t,r)}enableNetwork(){return function qO(n){return function s(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield RT(n),t=yield NT(n);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.lu.delete(0),hc(o)}(t)}))}(jr(n=Ne(n,rr)))}(this._delegate)}disableNetwork(){return function zO(n){return function a(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield RT(n),t=yield NT(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(o){const u=Ge(o);u.lu.add(0),yield jl(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(jr(n=Ne(n,rr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ee("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GO(n){return function(e){const t=new Hn;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function SS(n,e){return uE.apply(this,arguments)}(yield TE(e),t)})),t.promise}(jr(n=Ne(n,rr)))}(this._delegate)}onSnapshotsInSync(e){return function IP(n,e){return function C(n,e){const t=new sy(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield xp(n),o=t,Ge(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield xp(n),o=t,void Ge(r).Tu.delete(o);var r,o}))}}(jr(n=Ne(n,rr)),Op(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dy(this,ay(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ga(this,jh(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ms(this,function N0(n,e){if(n=Ne(n,lt),q("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,(t=e,new fu(Xt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function TP(n,e,t){n=Ne(n,rr);const r=Object.assign(Object.assign({},pP),t);return function(o){if(o.maxAttempts<1)throw new Se(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function b(n,e,t){const r=new Hn;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const o=yield(u=n,oy(u).then(l=>l.datastore));var u;new xT(n.asyncQueue,o,t,e,r).run()})),r.promise}(jr(n),o=>e(new DP(n,o)),r)}(this._delegate,t=>e(new oM(this,t)))}batch(){return jr(this._delegate),new aM(new JS(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return function WO(n,e){const t=jr(n=Ne(n,rr)),r=new F0;return function T(n,e,t,r){const o=function(u,l){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return vE(v,I);if(v instanceof ArrayBuffer)return vE(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new OS(v,l);var v}(t,qm(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function yE(n,e,t){const r=Ge(n);var o;(o=(0,me.Z)(function*(u,l,m){try{const v=yield l.getMetadata();if(yield function(V,J){const ne=Ge(V),Me=Ir(J.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",Pe=>ne.Ds.getBundleMetadata(Pe,J.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(Me)>=0)}(u.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(V=v).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);m._updateProgress(v0(v));const I=new TS(v,u.localStore,l.wt);let S=yield l.fc();for(;S;){const V=yield I.Nu(S);V&&m._updateProgress(V),S=yield l.fc()}const O=yield I.complete();return yield pa(u,O.Ou,void 0),yield function(V,J){const ne=Ge(V);return ne.persistence.runTransaction("Save bundle","readwrite",Me=>ne.Ds.saveBundleMetadata(Me,J))}(u.localStore,v),m._completeWith(O.progress),Promise.resolve(O.Mu)}catch(v){return Zs("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var V}),function(u,l,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield TE(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ZO(n,e){return function x(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const o=Ge(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ds.getNamedQuery(u,r))}(yield R0(n),e)}))}(jr(n=Ne(n,rr)),e).then(t=>t?new nr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ms(this,t):null)}}class NE extends BT{constructor(e){super(),this.firestore=e}convertBytes(e){return new j0(new gc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ga.forKey(t,this.firestore,null)}}class oM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}get(e){const t=Vp(e);return this._delegate.get(t).then(r=>new $0(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Vp(e);return r?($T("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}}class aM{constructor(e){this._delegate=e}set(e,t,r){const o=Vp(e);return r?($T("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new H0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Lp(e,new NE(e),t),o.set(t,u)),u}}Lp.INSTANCES=new WeakMap;class ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ga(t,new xt(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new ga(t,new xt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new dy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dy(this.firestore,ay(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ft.m9)(e))instanceof xt&&uy(this._delegate,e)}set(e,t){t=$T("DocumentReference.set",t);try{return t?XS(this._delegate,e,t):XS(this._delegate,e)}catch(r){throw gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?eM(this._delegate,e):eM(this._delegate,e,t,...r)}catch(o){throw gs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function bP(n){return ly(Ne(n.firestore,rr),[new Tl(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=uM(e),r=cM(e,o=>new $0(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return tM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function yP(n){n=Ne(n,xt);const e=Ne(n.firestore,rr),t=jr(e),r=new Fp(e);return function c(n,e){const t=new Hn;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,l){try{const m=yield function(v,I){const S=Ge(v);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,I))}(o,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Se(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Hl(m,`Failed to get document '${u} from cache`);l.reject(v)}}),function(o,u,l){return r.apply(this,arguments)})(yield R0(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ql(e,r,n._key,o,new kp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function _P(n){n=Ne(n,xt);const e=Ne(n.firestore,rr);return d(jr(e),n._key,{source:"server"}).then(t=>jT(e,n,t))}(this._delegate):function mP(n){n=Ne(n,xt);const e=Ne(n.firestore,rr);return d(jr(e),n._key).then(t=>jT(e,n,t))}(this._delegate),t.then(r=>new $0(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ga(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function uM(n){for(const e of n)if("object"==typeof e&&!HT(e))return e;return{}}function cM(n,e){var t,r;let o;return o=HT(n[0])?n[0]:HT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class $0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return HS(this._delegate,e._delegate)}}class H0 extends $0{data(e){const t=this._delegate.data(e);return function uh(n,e){n||Je()}(void 0!==t),t}}class ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NE(e)}where(e,t,r){try{return new ms(this.firestore,Hh(this._delegate,function sP(n,e,t){const r=e,o=PE("where",n);return new iP(o,r,t)}(e,t,r)))}catch(o){throw gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ms(this.firestore,Hh(this._delegate,function aP(n,e="asc"){const t=e,r=PE("orderBy",n);return new oP(r,t)}(e,t)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ms(this.firestore,Hh(this._delegate,function uP(n){return It("limit",n),new qS("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ms(this.firestore,Hh(this._delegate,function cP(n){return It("limitToLast",n),new qS("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ms(this.firestore,Hh(this._delegate,function lP(...n){return new zS("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ms(this.firestore,Hh(this._delegate,function dP(...n){return new zS("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ms(this.firestore,Hh(this._delegate,function hP(...n){return new WS("endBefore",n,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ms(this.firestore,Hh(this._delegate,function fP(...n){return new WS("endAt",n,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return cy(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wP(n){n=Ne(n,nr);const e=Ne(n.firestore,rr),t=jr(e),r=new Fp(e);return function p(n,e){const t=new Hn;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,l){try{const m=yield _p(o,u,!0),v=new CT(u,m.ji),I=v.Ku(m.documents),S=v.applyChanges(I,!1);l.resolve(S.snapshot)}catch(m){const v=Hl(m,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(o,u,l){return r.apply(this,arguments)})(yield R0(n),e,t);var r})),t.promise}(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate):"server"===e?.source?function CP(n){n=Ne(n,nr);const e=Ne(n.firestore,rr),t=jr(e),r=new Fp(e);return _(t,n._query,{source:"server"}).then(o=>new $h(e,r,n,o))}(this._delegate):function vP(n){n=Ne(n,nr);const e=Ne(n.firestore,rr),t=jr(e),r=new Fp(e);return GS(n._query),_(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate),t.then(r=>new GT(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uM(e),r=cM(e,o=>new GT(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return tM(this._delegate,t,r)}withConverter(e){return new ms(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}class LP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new H0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new H0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new LP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new H0(this._firestore,r))})}isEqual(e){return HS(this._delegate,e._delegate)}}class dy extends ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ga(this.firestore,e):null}doc(e){try{return new ga(this.firestore,void 0===e?jh(this._delegate):jh(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function EP(n,e){const t=Ne(n.firestore,rr),r=jh(n),o=RE(n.converter,e);return ly(t,[ME(Rp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ga(this.firestore,t))}isEqual(e){return uy(this._delegate,e._delegate)}withConverter(e){return new dy(this.firestore,this._delegate.withConverter(e?Lp.getInstance(this.firestore,e):null))}}function Vp(n){return Ne(n,xt)}class qT{constructor(...e){this._delegate=new Gl(...e)}static documentId(){return new qT(Sn.keyField().canonicalString())}isEqual(e){return(e=(0,Ft.m9)(e))instanceof Gl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._delegate=e}static serverTimestamp(){const e=function SP(){return new kT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Up(e)}static delete(){const e=function AP(){return new L0("deleteField")}();return e._methodName="FieldValue.delete",new Up(e)}static arrayUnion(...e){const t=function MP(...n){return new JO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Up(t)}static arrayRemove(...e){const t=function xP(...n){return new XO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Up(t)}static increment(e){const t=function OP(n){return new eP("increment",n)}(e);return t._methodName="FieldValue.increment",new Up(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const VP={Firestore:sM,GeoPoint:AE,Timestamp:kn,Blob:j0,Transaction:oM,WriteBatch:aM,DocumentReference:ga,DocumentSnapshot:$0,Query:ms,QueryDocumentSnapshot:H0,QuerySnapshot:GT,CollectionReference:dy,FieldPath:qT,FieldValue:Up,setLogLevel:function FP(n){!function om(n){jn.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function BP(n){(function UP(n,e){n.INTERNAL.registerComponent(new $d.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},VP)))})(n,(e,t)=>new sM(e,t,new kP)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(xw.Z);var jP=k(6451),kE=k(5363),$P=k(6063);class HP extends sn.x{constructor(e=1/0,t=1/0,r=$P.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)m=v;m&&r.splice(0,m+1)}}}var GP=k(3099);function lM(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,GP.B)({connector:()=>new HP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function dM(n,e){return(0,Jo.m)(e)?cr(()=>n,e):cr(()=>n)}var zT=k(9468);k(5867);const fM=new Map,KP={activated:!1,tokenObservers:[]},YP={initialized:!1,enabled:!1};function ai(n){return fM.get(n)||KP}function Cu(n,e){fM.set(n,e)}function LE(){return YP}class t1{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new Ft.BH,yield function n1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ft.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ys=new Ft.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gM(n){if(!ai(n).activated)throw ys.create("use-before-activation",{appName:n.name})}function YT(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,me.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const J=yield l.getHeartbeatsHeader();J&&(u["X-Firebase-Client"]=J)}const m={method:"POST",body:JSON.stringify(e),headers:u};let v,I;try{v=yield fetch(n,m)}catch(J){throw ys.create("fetch-network-error",{originalErrorMessage:null===(r=J)||void 0===r?void 0:r.message})}if(200!==v.status)throw ys.create("fetch-status-error",{httpStatus:v.status});try{I=yield v.json()}catch(J){throw ys.create("fetch-parse-error",{originalErrorMessage:null===(o=J)||void 0===o?void 0:o.message})}const S=I.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const O=1e3*Number(S[1]),V=Date.now();return{token:I.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}}),QT.apply(this,arguments)}function o1(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const G0="firebase-app-check-store";let BE=null;function yM(){return BE||(BE=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(ys.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(G0,{keyPath:"compositeKey"})}}catch(r){e(ys.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),BE)}function JT(){return JT=(0,me.Z)(function*(n,e){const r=(yield yM()).transaction(G0,"readwrite"),u=r.objectStore(G0).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var I;m(ys.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})}),JT.apply(this,arguments)}const q0=new nu.Yd("@firebase/app-check");function CM(n,e){return(0,Ft.hl)()?function l1(n,e){return function _M(n,e){return JT.apply(this,arguments)}(function wM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{q0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bM(){return LE().enabled}function EM(){return nA.apply(this,arguments)}function nA(){return nA=(0,me.Z)(function*(){const n=LE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nA.apply(this,arguments)}const m1={error:"UNKNOWN_ERROR"};function y1(n){return Ft.US.encodeString(JSON.stringify(n),!1)}function jE(n){return rA.apply(this,arguments)}function rA(){return rA=(0,me.Z)(function*(n,e=!1){const t=n.app;gM(t);const r=ai(t);let u,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&$E(v)&&(o=v)}if(!e&&o&&$E(o))return{token:o.token};let m,l=!1;if(bM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=YT(o1(t,yield EM()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),l=!0);const v=yield r.exchangeTokenPromise;return yield CM(t,v),Cu(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),l=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?q0.warn(v.message):q0.error(v),u=v}return o?(m={token:o.token},Cu(t,Object.assign(Object.assign({},r),{token:o})),yield CM(t,o)):m=v1(u),l&&DM(t,m),m}),rA.apply(this,arguments)}function sA(n,e){const t=ai(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Cu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function IM(n){const{app:e}=n,t=ai(e);let r=t.tokenRefresher;r||(r=function _1(n){const{app:e}=n;return new t1((0,me.Z)(function*(){let r;if(r=ai(e).token?yield jE(n,!0):yield jE(n),r.error)throw r.error}),()=>!0,()=>{const t=ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Cu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function DM(n,e){const t=ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $E(n){return n.expireTimeMillis-Date.now()>0}function v1(n){return{token:y1(m1),error:n}}class w1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ai(this.app);for(const t of e)sA(this.app,t.next);return Promise.resolve()}}const RM="app-check-internal";!function N1(){(0,Cr._registerComponent)(new $d.wA("app-check",n=>function C1(n,e){return new w1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RM).initialize()})),(0,Cr._registerComponent)(new $d.wA(RM,n=>function b1(n){return{getToken:e=>jE(n,e),addTokenListener:e=>function iA(n,e,t,r){const{app:o}=n,u=ai(o),l={next:t,error:r,type:e};if(Cu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,l]})),u.token&&$E(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),IM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>IM(n))}(n,"INTERNAL",e),removeTokenListener:e=>sA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cr.registerVersion)("@firebase/app-check","0.5.12")}();class cA{constructor(){return(0,Fr.vb)("app-check")}}typeof window<"u"&&window,k(127);const kM=new f.OlP("angularfire2.auth.use-emulator"),FM=new f.OlP("angularfire2.auth.settings"),LM=new f.OlP("angularfire2.auth.tenant-id"),VM=new f.OlP("angularfire2.auth.langugage-code"),UM=new f.OlP("angularfire2.auth.use-device-language"),BM=new f.OlP("angularfire.auth.persistence"),jM=(n,e,t,r,o,u,l,m)=>(0,Eo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,u&&v.useDeviceLanguage(),l)for(const[I,S]of Object.entries(l))v.settings[I]=S;return m&&v.setPersistence(m),v},[t,r,o,u,l,m]);let $M=(()=>{class n{constructor(t,r,o,u,l,m,v,I,S,O,V,J){const ne=new sn.x,Me=Ye(void 0).pipe((0,kE.Q)(l.outsideAngular),cr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1451)))),(0,ht.U)(()=>(0,Eo.on)(t,u,r)),(0,ht.U)(Pe=>jM(Pe,u,m,I,S,O,v,V)),lM({bufferSize:1,refCount:!1}));if(Hr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{Me.pipe(on()).subscribe();const gt=Me.pipe(cr(ot=>ot.getRedirectResult().then(St=>St,()=>null)),Fr.iC,lM({bufferSize:1,refCount:!1})),bt=Me.pipe(cr(ot=>new xr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ot.onAuthStateChanged(jt=>St.next(jt),jt=>St.error(jt),()=>St.complete()))})))),mt=Me.pipe(cr(ot=>new xr.y(St=>({unsubscribe:u.runOutsideAngular(()=>ot.onIdTokenChanged(jt=>St.next(jt),jt=>St.error(jt),()=>St.complete()))}))));this.authState=gt.pipe(dM(bt),(0,zT.R)(l.outsideAngular),(0,kE.Q)(l.insideAngular)),this.user=gt.pipe(dM(mt),(0,zT.R)(l.outsideAngular),(0,kE.Q)(l.insideAngular)),this.idToken=this.user.pipe(cr(ot=>ot?(0,cn.D)(ot.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(cr(ot=>ot?(0,cn.D)(ot.getIdTokenResult()):Ye(null))),this.credential=(0,jP.T)(gt,ne,this.authState.pipe(Ni(ot=>!ot))).pipe((0,ht.U)(ot=>ot?.user?ot:null),(0,zT.R)(l.outsideAngular),(0,kE.Q)(l.insideAngular))}return(0,Eo.pX)(this,Me,u,{spy:{apply:(Pe,gt,bt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&bt.then(mt=>ne.next(mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Eo.Dh),f.LFG(Eo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Fr.HU),f.LFG(kM,8),f.LFG(FM,8),f.LFG(LM,8),f.LFG(VM,8),f.LFG(UM,8),f.LFG(BM,8),f.LFG(cA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HM(n,e){return function B1(n,e=Mw.z){return new xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function dA(n,e){return HM(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function GE(n,e){return dA(n,e).pipe(Uu(void 0),_g(),(0,ht.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const v=o.find(S=>S.doc.ref.isEqual(l.ref)),I=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function GM(n,e,t){return GE(n,t).pipe(Qn((r,o)=>function $1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function H1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return hA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return hA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function r_(n,e=hi.y){return n=n??MI,(0,vt.e)((t,r)=>{let o,u=!0;t.subscribe((0,yn.x)(r,l=>{const m=e(l);(u||!n(o,m))&&(u=!1,o=m,r.next(l))}))})}(),(0,ht.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function hA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function qM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=GE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Uu(void 0),_g(),Ni(([r,o])=>o.length>0||!r),(0,ht.U)(([r,o])=>o),Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qM(e);return GM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return dA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Fr.iC)}add(e){return this.ref.add(e)}doc(e){return new WM(this.ref.doc(e),this.afs)}}class WM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=ZM(r,t);return new zM(o,u,this.afs)}snapshotChanges(){return function j1(n,e){return HM(n,e).pipe(Uu(void 0),_g(),(0,ht.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(Fr.iC)}}class G1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?GE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ni(t=>t.length>0),Fr.iC):GE(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qM(e);return GM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return dA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Fr.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(Fr.iC)}}const q1=new f.OlP("angularfire2.enableFirestorePersistence"),z1=new f.OlP("angularfire2.firestore.persistenceSettings"),W1=new f.OlP("angularfire2.firestore.settings"),Z1=new f.OlP("angularfire2.firestore.use-emulator");function ZM(n,e=(t=>t)){return{query:e(n),ref:n}}let fA=(()=>{class n{constructor(t,r,o,u,l,m,v,I,S,O,V,J,ne,Me,Pe,gt,bt){this.schedulers=v;const mt=(0,Eo.on)(t,m,r),ot=S;O&&jM(mt,m,V,ne,Me,Pe,J,gt),[this.firestore,this.persistenceEnabled$]=(0,Eo.cc)(`${mt.name}.firestore`,"AngularFirestore",mt.name,()=>{const St=m.runOutsideAngular(()=>mt.firestore());if(u&&St.settings(u),ot&&St.useEmulator(...ot),o&&!Hr(l)){const jt=()=>{try{return(0,cn.D)(St.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(lr){return typeof console<"u"&&console.warn(lr),Ye(!1)}};return[St,m.runOutsideAngular(jt)]}return[St,Ye(!1)]},[u,ot,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=ZM(o,r),m=this.schedulers.ngZone.run(()=>u);return new zM(m,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new G1(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new WM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Eo.Dh),f.LFG(Eo.xv,8),f.LFG(q1,8),f.LFG(W1,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Fr.HU),f.LFG(z1,8),f.LFG(Z1,8),f.LFG($M,8),f.LFG(kM,8),f.LFG(FM,8),f.LFG(LM,8),f.LFG(VM,8),f.LFG(UM,8),f.LFG(BM,8),f.LFG(cA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qE=(()=>{class n{constructor(t){this.db=t,this.collectionMenu=t.collection("menu")}getMenu(){return this.collectionMenu.snapshotChanges().pipe((0,ht.U)(t=>t.map(r=>r.payload.doc.data())))}createMenu(t,r){var o=this;return new Promise(function(){var u=(0,me.Z)(function*(l,m){try{const v=o.db.createId();t.idMenu=v,t.img=r,l(yield o.collectionMenu.doc(v).set(t))}catch(v){m(v)}});return function(l,m){return u.apply(this,arguments)}}())}editarMenu(t,r){return this.collectionMenu.doc(t).update(r)}deleteMenu(t){return new Promise((r,o)=>{try{r(this.collectionMenu.doc(t).delete())}catch(u){o(u)}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Bp=(()=>{class n extends KM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const mc=new f.OlP("NgValueAccessor"),Q1={provide:mc,useExisting:(0,f.Gpc)(()=>z0),multi:!0},X1=new f.OlP("CompositionEventMode");let z0=(()=>{class n extends KM{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J1(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(X1,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([Q1]),f.qOj]}),n})();function qh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QM(n){return null!=n&&"number"==typeof n.length}const Wi=new f.OlP("NgValidators"),zh=new f.OlP("NgAsyncValidators"),tR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yc{static min(e){return function JM(n){return e=>{if(qh(e.value)||qh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function XM(n){return e=>{if(qh(e.value)||qh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function ex(n){return qh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tx(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nx(n){return qh(n.value)||tR.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rx(n){return e=>qh(e.value)||!QM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ix(n){return e=>QM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sx(n){if(!n)return zE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(qh(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return dx(e)}static composeAsync(e){return hx(e)}}function zE(n){return null}function ox(n){return null!=n}function ax(n){return(0,f.QGY)(n)?(0,cn.D)(n):n}function ux(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cx(n,e){return e.map(t=>t(n))}function lx(n){return n.map(e=>function nR(n){return!n.validate}(e)?e:t=>e.validate(t))}function dx(n){if(!n)return null;const e=n.filter(ox);return 0==e.length?null:function(t){return ux(cx(t,e))}}function pA(n){return null!=n?dx(lx(n)):null}function hx(n){if(!n)return null;const e=n.filter(ox);return 0==e.length?null:function(t){return function K1(...n){const e=(0,Pi.jO)(n),{args:t,keys:r}=Ns(n),o=new xr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let v=l,I=l;for(let S=0;S<l;S++){let O=!1;(0,ss.Xf)(t[S]).subscribe((0,yn.x)(u,V=>{O||(O=!0,I--),m[S]=V},()=>v--,void 0,()=>{(!v||!O)&&(I||u.next(r?Ba(r,m):m),u.complete())}))}});return e?o.pipe(Qo(e)):o}(cx(t,e).map(ax)).pipe((0,ht.U)(ux))}}function gA(n){return null!=n?hx(lx(n)):null}function fx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function px(n){return n._rawValidators}function gx(n){return n._rawAsyncValidators}function mA(n){return n?Array.isArray(n)?n:[n]:[]}function WE(n,e){return Array.isArray(n)?n.includes(e):n===e}function mx(n,e){const t=mA(e);return mA(n).forEach(o=>{WE(t,o)||t.push(o)}),t}function yx(n,e){return mA(e).filter(t=>!WE(n,t))}class _x{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _s extends _x{get formDirective(){return null}get path(){return null}}class Wh extends _x{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vx{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yA=(()=>{class n extends vx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wh,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),_A=(()=>{class n extends vx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(_s,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const W0="VALID",KE="INVALID",hy="PENDING",Z0="DISABLED";function bA(n){return(YE(n)?n.validators:n)||null}function Cx(n){return Array.isArray(n)?pA(n):n||null}function EA(n,e){return(YE(e)?e.asyncValidators:n)||null}function bx(n){return Array.isArray(n)?gA(n):n||null}function YE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ex(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")}function Ix(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new f.vHH(1002,"")})}class QE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cx(this._rawValidators),this._composedAsyncValidatorFn=bx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===W0}get invalid(){return this.status===KE}get pending(){return this.status==hy}get disabled(){return this.status===Z0}get enabled(){return this.status!==Z0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bx(e)}addValidators(e){this.setValidators(mx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yx(e,this._rawAsyncValidators))}hasValidator(e){return WE(this._rawValidators,e)}hasAsyncValidator(e){return WE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Z0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=W0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===W0||this.status===hy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z0:W0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hy,this._hasOwnPendingAsyncValidator=!0;const t=ax(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Z0:this.errors?KE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hy)?hy:this._anyControlsHaveStatus(KE)?KE:W0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){YE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class jp extends QE{constructor(e,t,r){super(bA(t),EA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ix(this,0,e),Object.keys(e).forEach(r=>{Ex(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function K0(n,e){IA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function dR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dx(n,e)})}(n,e),function fR(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function XE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IA(n,e){const t=px(n);null!==e.validator?n.setValidators(fx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=gx(n);null!==e.asyncValidator?n.setAsyncValidators(fx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();eI(e._rawValidators,o),eI(e._rawAsyncValidators,o)}function tI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=px(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=gx(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return eI(e._rawValidators,r),eI(e._rawAsyncValidators,r),t}function Dx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Mx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xx(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vs=class extends QE{constructor(e=null,t,r){super(bA(t),EA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),YE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xx(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let SA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const MA=new f.OlP("NgModelWithFormControlWarning"),AR={provide:_s,useExisting:(0,f.Gpc)(()=>Q0)};let Q0=(()=>{class n extends _s{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return K0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XE(t.control||null,t,!1),function yR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Sx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(XE(r||null,t),(n=>n instanceof vs)(o)&&(K0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Tx(n,e){IA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function pR(n,e){return tI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IA(this.form,this),this._oldForm&&tI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wi,10),f.Y36(zh,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([AR]),f.qOj,f.TTD]}),n})();const xR={provide:Wh,useExisting:(0,f.Gpc)(()=>nI)};let nI=(()=>{class n extends Wh{constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function TA(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===z0?t=u:function mR(n){return Object.getPrototypeOf(n.constructor)===Bp}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function DA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function JE(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(_s,13),f.Y36(Wi,10),f.Y36(zh,10),f.Y36(mc,10),f.Y36(MA,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([xR]),f.qOj,f.TTD]}),n})();const OR={provide:mc,useExisting:(0,f.Gpc)(()=>PA),multi:!0};function jx(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let PA=(()=>{class n extends Bp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=jx(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function PR(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&f.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([OR]),f.qOj]}),n})(),$x=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(PA,9))},n.\u0275dir=f.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const RR={provide:mc,useExisting:(0,f.Gpc)(()=>RA),multi:!0};function Hx(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let RA=(()=>{class n extends Bp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let m=0;m<l.length;m++){const I=this._getOptionValue(l[m].value);o.push(I)}}else{const l=r.options;for(let m=0;m<l.length;m++){const v=l[m];if(v.selected){const I=this._getOptionValue(v.value);o.push(I)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function NR(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([RR]),f.qOj]}),n})(),Gx=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Hx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Hx(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(RA,9))},n.\u0275dir=f.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Fx]}),n})(),kA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:MA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[HR]}),n})();class eO extends QE{constructor(e,t,r){super(bA(t),EA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ix(this,0,e),e.forEach((r,o)=>{Ex(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function tO(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let GR=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return tO(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new jp(o,u)}control(t,r,o){let u={};return this.useNonNullable?(tO(r)?u=r:(u.validators=r,u.asyncValidators=o),new vs(t,{...u,nonNullable:!0})):new vs(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new eO(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof vs||t instanceof QE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:kA}),n})();const nO="firebasestorage.googleapis.com",rO="storageBucket";class _r extends Ft.ZR{constructor(e,t){super(FA(e),`Firebase Storage: ${t} (${FA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}_codeEquals(e){return FA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function FA(n){return"storage/"+n}function LA(){return new _r("unknown","An unknown error occurred, please check the error payload for server response.")}function VA(n){return new _r("invalid-argument",n)}function oO(){return new _r("app-deleted","The Firebase app was deleted.")}function J0(n,e){return new _r("invalid-format","String does not match format '"+n+"': "+e)}function X0(n){throw new _r("internal-error","Internal error: "+n)}class ws{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ws.makeFromUrl(e,t)}catch{return new ws(e,"")}if(""===r.path)return r;throw function eN(n){return new _r("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function I(ot){ot.path_=decodeURIComponent(ot.path)}const O=t.replace(/[.]/g,"\\."),mt=[{regex:m,indices:{bucket:1,path:3},postModify:function u(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===nO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let ot=0;ot<mt.length;ot++){const St=mt[ot],jt=St.regex.exec(e);if(jt){let Iu=jt[St.indices.path];Iu||(Iu=""),r=new ws(jt[St.indices.bucket],Iu),St.postModify(r);break}}if(null==r)throw function XR(n){return new _r("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class sN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rI(n){return"string"==typeof n||n instanceof String}function aO(n){return UA()&&n instanceof Blob}function UA(){return typeof Blob<"u"}function BA(n,e,t,r){if(r<e)throw VA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw VA(`Invalid value for '${n}'. Expected ${t} or less.`)}function zl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function uO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Zh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Zh||(Zh={})),Zh))();class dN{constructor(e,t,r,o,u,l,m,v,I,S,O){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=m,this.errorCallback_=v,this.timeout_=I,this.progressCallback_=S,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,J)=>{this.resolve_=V,this.reject_=J,this.start_()})}start_(){const t=(r,o)=>{const u=this.resolve_,l=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function uN(n){return void 0!==n}(v)?u():u(v)}catch(v){l(v)}else if(null!==m){const v=LA();v.serverResponse=m.getErrorText(),l(this.errorCallback_?this.errorCallback_(m,v):v)}else l(o.canceled?this.appDelete_?oO():function iO(){return new _r("canceled","User canceled the upload/download.")}():function JR(){return new _r("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new iI(!1,null,!0)):this.backoffId_=function oN(n,e,t){let r=1,o=null,u=null,l=!1,m=0;function v(){return 2===m}let I=!1;function S(...Pe){I||(I=!0,e.apply(null,Pe))}function O(Pe){o=setTimeout(()=>{o=null,n(J,v())},Pe)}function V(){u&&clearTimeout(u)}function J(Pe,...gt){if(I)return void V();if(Pe)return V(),void S.call(null,Pe,...gt);if(v()||l)return V(),void S.call(null,Pe,...gt);let mt;r<64&&(r*=2),1===m?(m=2,mt=0):mt=1e3*(r+Math.random()),O(mt)}let ne=!1;function Me(Pe){ne||(ne=!0,V(),!I&&(null!==o?(Pe||(m=2),clearTimeout(o),O(0)):Pe||(m=1)))}return O(0),u=setTimeout(()=>{l=!0,Me(!0)},t),Me}((r,o)=>{if(o)return void r(!1,new iI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const m=u.getErrorCode()===Zh.NO_ERROR,v=u.getStatus();if(!m||this.isRetryStatusCode_(v)){const S=u.getErrorCode()===Zh.ABORT;return void r(!1,new iI(!1,null,S))}const I=-1!==this.successCodes_.indexOf(v);r(!0,new iI(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function aN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||u}}class iI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _N(...n){const e=function yN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(UA())return new Blob(n);throw new _r("unsupported-environment","This browser doesn't seem to support creating Blobs")}class jA{constructor(e,t){this.data=e,this.contentType=t||null}}function cO(n,e){switch(n){case"raw":return new jA(lO(e));case"base64":case"base64url":return new jA(dO(n,e));case"data_url":return new jA(function bN(n){const e=new hO(n);return e.base64?dO("base64",e.rest):function CN(n){let e;try{e=decodeURIComponent(n)}catch{throw J0("data_url","Malformed data URL.")}return lO(e)}(e.rest)}(e),function EN(n){return new hO(n).contentType}(e))}throw LA()}function lO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function dO(n,e){switch(n){case"base64":{const o=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(o||u)throw J0(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const o=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(o||u)throw J0(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function wN(n){return atob(n)}(e)}catch{throw J0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class hO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw J0("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function IN(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Wl{constructor(e,t){let r=0,o="";aO(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(aO(this.data_)){const o=function vN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Wl(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Wl(r,!0)}}static getBlob(...e){if(UA()){const t=e.map(r=>r instanceof Wl?r.data_:r);return new Wl(_N.apply(null,t))}{const t=e.map(l=>rI(l)?cO("raw",l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let m=0;m<l.length;m++)o[u++]=l[m]}),new Wl(o,!0)}}uploadData(){return this.data_}}function $A(n){let e;try{e=JSON.parse(n)}catch{return null}return function lN(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function fO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function AN(n,e){return e}class Cs{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||AN}}let sI=null;function ew(){if(sI)return sI;const n=[];n.push(new Cs("bucket")),n.push(new Cs("generation")),n.push(new Cs("metageneration")),n.push(new Cs("name","fullPath",!0));const t=new Cs("name");t.xform=function e(u,l){return function SN(n){return!rI(n)||n.length<2?n:fO(n)}(l)},n.push(t);const o=new Cs("size");return o.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(o),n.push(new Cs("timeCreated")),n.push(new Cs("updated")),n.push(new Cs("md5Hash",null,!0)),n.push(new Cs("cacheControl",null,!0)),n.push(new Cs("contentDisposition",null,!0)),n.push(new Cs("contentEncoding",null,!0)),n.push(new Cs("contentLanguage",null,!0)),n.push(new Cs("contentType",null,!0)),n.push(new Cs("metadata","customMetadata",!0)),sI=n,sI}function pO(n,e,t){const r=$A(e);return null===r?null:function xN(n,e,t){const r={type:"file"},o=t.length;for(let u=0;u<o;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function MN(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new ws(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}class _c{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vc(n){if(!n)throw LA()}function fy(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function YR(){return new _r("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function KR(){return new _r("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ZR(n){return new _r("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function QR(n){return new _r("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function tw(n){const e=fy(n);return function t(r,o){let u=e(r,o);return 404===r.getStatus()&&(u=function WR(n){return new _r("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=o.serverResponse,u}}function wO(n,e,t,r,o){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let mt="";for(let ot=0;ot<2;ot++)mt+=Math.random().toString().slice(2);return mt}();l["Content-Type"]="multipart/related; boundary="+v;const I=function vO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function BN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,o),S=function HA(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}(I,t),J=Wl.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===J)throw function sO(){return new _r("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}();const ne={name:I.fullPath},Me=zl(u,n.host,n._protocol),gt=n.maxUploadRetryTime,bt=new _c(Me,"POST",function oI(n,e){return function t(r,o){const u=pO(n,o,e);return vc(null!==u),u}}(n,t),gt);return bt.urlParams=ne,bt.headers=l,bt.body=J.uploadData(),bt.errorHandler=fy(e),bt}class zN extends class qN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw X0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw X0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw X0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw X0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw X0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Eu(){return new zN}class Hp{constructor(e,t){this._service=e,this._location=t instanceof ws?t:ws.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hp(e,t)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fO(this._location.path)}get storage(){return this._service}get parent(){const e=function DN(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ws(this._location.bucket,e);return new Hp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function iN(n){return new _r("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sk(n){n._throwIfRoot("getDownloadURL");const e=function LN(n,e,t){const o=zl(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new _c(o,"GET",function kN(n,e){return function t(r,o){const u=pO(n,o,e);return vc(null!==u),function ON(n,e,t,r){const o=$A(e);if(null===o||!rI(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(I=>{const O=n.fullPath;return zl("/b/"+l(n.bucket)+"/o/"+l(O),t,r)+uO({alt:"media",token:I})})[0]}(u,o,n.host,n._protocol)}}(n,t),l);return m.errorHandler=tw(e),m}(n.storage,n._location,ew());return n.storage.makeRequestWithTokens(e,Eu).then(t=>{if(null===t)throw function rN(){return new _r("no-download-url","The given file does not have any download URLs.")}();return t})}function AO(n,e){if(n instanceof WA){const t=n;if(null==t._bucket)throw function tN(){return new _r("no-default-bucket","No default bucket found. Did you set the '"+rO+"' property when initializing the app?")}();const r=new Hp(t,t._bucket);return null!=e?AO(r,e):r}return void 0!==e?function TO(n,e){const t=function TN(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ws(n._location.bucket,t);return new Hp(n.storage,r)}(n,e):n}function SO(n,e){const t=e?.[rO];return null==t?null:ws.makeFromBucketSpec(t,n)}class WA{constructor(e,t,r,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=nO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?ws.makeFromBucketSpec(o,this._host):SO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,e):SO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hp(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new sN(oO());{const u=function mN(n,e,t,r,o,u){const l=uO(n.urlParams),m=n.url+l,v=Object.assign({},n.headers);return function pN(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function hN(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function fN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,u),function gN(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new dN(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,me.Z)(function*(){const[o,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,u).getPromise()})()}}const MO="@firebase/storage",OO="storage";function dk(n,e,t,r){return function tk(n,e,t="raw",r){n._throwIfRoot("uploadString");const o=cO(t,e),u=Object.assign({},r);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),function EO(n,e,t){n._throwIfRoot("uploadBytes");const r=wO(n.storage,n._location,ew(),new Wl(e,!0),t);return n.storage.makeRequestWithTokens(r,Eu).then(o=>({metadata:o,ref:n}))}(n,o.data,u)}(n=(0,Ft.m9)(n),e,t,r)}function PO(n,e){return function ck(n,e){if(e&&function ak(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof WA)return function uk(n,e){return new Hp(n,e)}(n,e);throw VA("To use ref(service, url), the first argument must be a Storage instance.")}return AO(n,e)}(n=(0,Ft.m9)(n),e)}function gk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new WA(t,r,o,e,Cr.SDK_VERSION)}!function mk(){(0,Cr._registerComponent)(new $d.wA(OO,gk,"PUBLIC").setMultipleInstances(!0)),(0,Cr.registerVersion)(MO,"0.9.9",""),(0,Cr.registerVersion)(MO,"0.9.9","esm2017")}();let yk=(()=>{class n{constructor(){this.storage=function pk(n=(0,Cr.getApp)(),e){return n=(0,Ft.m9)(n),(0,Cr._getProvider)(n,OO).getImmediate({identifier:e})}()}subirImagen(t,r){var o=this;return(0,me.Z)(function*(){try{let u=PO(o.storage,"menus/"+t);return o.respuesta=yield dk(u,r,"data_url").then(l=>l),o.respuesta}catch(u){return console.log(u),o.respuesta}})()}obtenerUrlImagen(t){return function hk(n){return sk(n=(0,Ft.m9)(n))}(t.ref)}eliminarImagen(t){(function fk(n){return function ok(n){n._throwIfRoot("deleteObject");const e=function UN(n,e){const r=zl(e.fullServerUrl(),n.host,n._protocol),m=new _c(r,"DELETE",function l(v,I){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=tw(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Eu)}(n=(0,Ft.m9)(n))})(PO(this.storage,t)).then(o=>{alert("La imagen fue eliminada con \xe9xito")}).catch(o=>{alert("No se pudo eliminar la imagen. Error: "+o)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_k=(()=>{class n{constructor(t,r){this.servicioMenus=t,this.servicioStorage=r,this.modalVisible=!1,this.eliminarVisible=!0,this.nuevoMenu=new jp({comida:new vs("",yc.required),img:new vs("",yc.required),descripcion:new vs("",yc.required)})}ngOnInit(){this.servicioMenus.getMenu().subscribe(t=>{this.menus=t})}agregarMenu(){var t=this;return(0,me.Z)(function*(){if(t.nuevoMenu.valid){let r={comida:t.nuevoMenu.value.comida,descripcion:t.nuevoMenu.value.descripcion,img:"",idMenu:""};t.servicioStorage.subirImagen(t.nombreImagen,t.imagen).then(function(){var o=(0,me.Z)(function*(u){t.servicioStorage.obtenerUrlImagen(u).then(function(){var l=(0,me.Z)(function*(m){yield t.servicioMenus.createMenu(r,m).then(v=>{alert("Menu agregado con exito")}).catch(v=>{alert("Ocurri\xf3 un error\nError: "+v)})});return function(m){return l.apply(this,arguments)}}())});return function(u){return o.apply(this,arguments)}}())}else alert("Hay campos vac\xedos")})()}actualizarMenu(){this.servicioMenus.editarMenu(this.menuSeleccionado.idMenu,{comida:this.nuevoMenu.value.comida,descripcion:this.nuevoMenu.value.descripcion,img:"",idMenu:this.menuSeleccionado.idMenu}).then(r=>{alert("Menu actualizado con \xe9xito")}).catch(r=>{alert("No se pudo actualizar el menu\nError: "+r)})}mostrarEliminar(t){this.eliminarVisible=!1,this.menuSeleccionado=t}eliminarMenu(){this.servicioMenus.deleteMenu(this.menuSeleccionado.idMenu).then(t=>{this.servicioStorage.eliminarImagen(this.menuSeleccionado.img),alert("El menu fue elimnado con \xe9xito")}).catch(t=>{alert("No se pudo eliminar el menu\nError: "+t)}),this.eliminarVisible=!1}mostrarEditar(t){this.menuSeleccionado=t,this.imagen=this.menuSeleccionado.img,this.nuevoMenu.setValue({comida:t.comida,descripcion:t.descripcion,img:t.descripcion}),this.textoBoton="Editar Producto",this.modalVisible=!0}mostrarDialogo(){this.imagen="",this.textoBoton="Agregar Menu",this.modalVisible=!0}cargarMenu(){"Agregar Menu"===this.textoBoton?this.agregarMenu():"Editar Menu"===this.textoBoton&&this.actualizarMenu(),this.nuevoMenu.reset(),this.modalVisible=!1}cargarImagen(t){let r=t.target.files[0],o=new FileReader;null!=r&&(o.readAsDataURL(r),o.onloadend=()=>{let u=o.result;null!=u&&(this.nombreImagen=r.name,this.imagen=u.toString())})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(qE),f.Y36(yk))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-menu"]],inputs:{entrada:"entrada"},decls:2,vars:0,template:function(t,r){1&t&&(f.TgZ(0,"p"),f._uU(1,"menu works!"),f.qZA())},styles:[".card-body[_ngcontent-%COMP%]{background-color:#000}.card-text[_ngcontent-%COMP%]{color:#fff}.card-title[_ngcontent-%COMP%]{color:#fff;font-family:Koulen,cursive;text-align:center;font-size:30px}img[_ngcontent-%COMP%]{border-radius:0%}.btn-primary[_ngcontent-%COMP%]{--bs-btn-color: #fff;--bs-btn-bg: #0d6efd;--bs-btn-border-color: #000000;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #0b5ed7;--bs-btn-hover-border-color: #0a58ca;--bs-btn-focus-shadow-rgb: 49,132,253;--bs-btn-active-color: #fff;--bs-btn-active-bg: #0a58ca;--bs-btn-active-border-color: #0a53be;--bs-btn-active-shadow: inset 0 3px 5pxrgba(0, 0, 0, .125);--bs-btn-disabled-color: #fff;--bs-btn-disabled-bg: #0d6efd;--bs-btn-disabled-border-color: #0d6efd}"]}),n})(),RO=(()=>{class n{constructor(){window.addEventListener("next",function(){const o=$(".sec-1-input").filter(":checked").next(".sec-1-input");o.length?o.prop("checked",!0):$(".sec-1-input").first().prop("checked",!0)});var t=setInterval(NO,5e3);$("nav .controls label").click(function(){clearInterval(t),t=setInterval(NO,5e3)})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp2"]],decls:79,vars:0,consts:[["id","section-1"],[1,"content-slider"],["type","radio","id","banner1","name","banner","checked","",1,"sec-1-input"],["type","radio","id","banner2","name","banner",1,"sec-1-input"],["type","radio","id","banner3","name","banner",1,"sec-1-input"],["type","radio","id","banner4","name","banner",1,"sec-1-input"],[1,"slider"],["id","top-banner-1",1,"banner"],[1,"banner-inner-wrapper"],[1,"line"],[1,"learn-more-button"],["href","#section-2"],["id","top-banner-2",1,"banner"],["href","#section-4"],["id","top-banner-3",1,"banner"],["href","#section-6"],["id","top-banner-4",1,"banner"],["href","#main-footer"],[1,"controls"],["for","banner1"],[1,"progressbar"],[1,"progressbar-fill"],["for","banner2"],["for","banner3"],["for","banner4"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1),f._UZ(2,"input",2)(3,"input",3)(4,"input",4)(5,"input",5),f.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"h2"),f._uU(10,"Kuruf"),f.qZA(),f.TgZ(11,"h1"),f._uU(12,"Las mejores birras"),f._UZ(13,"br"),f._uU(14,"de la patagonia"),f.qZA(),f._UZ(15,"div",9),f.TgZ(16,"div",10)(17,"a",11),f._uU(18,"Ver Mas"),f.qZA()()()(),f.TgZ(19,"div",12)(20,"div",8)(21,"h2"),f._uU(22,"Que hacemos"),f.qZA(),f.TgZ(23,"h1"),f._uU(24,"trayendo espiritu de vida"),f.qZA(),f._UZ(25,"div",9),f.TgZ(26,"div",10)(27,"a",13),f._uU(28,"Ver Mas"),f.qZA()()()(),f.TgZ(29,"div",14)(30,"div",8)(31,"h2"),f._uU(32,"Como lo hacemos"),f.qZA(),f.TgZ(33,"h1"),f._uU(34,"Momentos alegres "),f._UZ(35,"br"),f._uU(36,"con cada sorbo que tomas"),f.qZA(),f._UZ(37,"div",9),f.TgZ(38,"div",10)(39,"a",15),f._uU(40,"Ver Mas"),f.qZA()()()(),f.TgZ(41,"div",16)(42,"div",8)(43,"h2"),f._uU(44,"Nuestro Contato"),f.qZA(),f.TgZ(45,"h1"),f._uU(46,"Es tu camino, "),f._UZ(47,"br"),f._uU(48,"se tu mismo"),f.qZA(),f._UZ(49,"div",9),f.TgZ(50,"div",10)(51,"a",17),f._uU(52,"Ver Mas"),f.qZA()()()()(),f.TgZ(53,"nav")(54,"div",18)(55,"label",19)(56,"span",20),f._UZ(57,"span",21),f.qZA(),f.TgZ(58,"span"),f._uU(59,"01"),f.qZA(),f._uU(60," Intro"),f.qZA(),f.TgZ(61,"label",22)(62,"span",20),f._UZ(63,"span",21),f.qZA(),f.TgZ(64,"span"),f._uU(65,"02"),f.qZA(),f._uU(66," Trabajo"),f.qZA(),f.TgZ(67,"label",23)(68,"span",20),f._UZ(69,"span",21),f.qZA(),f.TgZ(70,"span"),f._uU(71,"03"),f.qZA(),f._uU(72," Acerca"),f.qZA(),f.TgZ(73,"label",24)(74,"span",20),f._UZ(75,"span",21),f.qZA(),f.TgZ(76,"span"),f._uU(77,"04"),f.qZA(),f._uU(78," Contactos"),f.qZA()()()()())},styles:["body[_ngcontent-%COMP%]{margin:0 auto;padding:0;font-size:16px;background:#fff}body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:block}body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0;padding:0}body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:700;text-transform:uppercase}body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1.875em;font-weight:700;text-transform:uppercase}body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Kaushan Script,cursive;font-size:1.5em;font-weight:400}body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:.875em;font-weight:400;text-transform:uppercase}body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:150%;font-family:Roboto,sans-serif;font-size:.9375em;color:#999}body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.bg-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-image:linear-gradient(rgba(255,255,255,.8),rgba(255,255,255,.8))}.section-header[_ngcontent-%COMP%]{padding-top:5.625em;text-align:center}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5em}.section-header[_ngcontent-%COMP%]   .line-red[_ngcontent-%COMP%]{margin:2.5em auto 2.9375em}.line-red[_ngcontent-%COMP%]{display:block;width:4em;height:.1875em;margin:0 auto;background:#f38181}.main-header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;z-index:1000;font-family:Montserrat,sans-serif;color:#fff;background:transparent}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{display:block;width:70%;margin:0 auto;padding-top:1em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{float:left;font-weight:700;font-size:1.875em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]{float:right;text-align:center}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:.75em 1.875em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-bottom:.75em;text-transform:uppercase;color:#fff;font-size:.875em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fce38a;border-bottom:.1875em solid #fce38a;transition:1s}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding:.75em 0}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6)   a[_ngcontent-%COMP%]:hover, .main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]:hover{border:none}#section-1[_ngcontent-%COMP%]{height:38em;color:#fff;background-color:#222}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:relative;width:inherit;height:inherit;overflow:hidden}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;z-index:0;width:inherit;height:inherit;text-align:center;background-repeat:no-repeat;background-position:50% 50%;transition:all .5s ease}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{height:100%;padding-top:6em;background-image:linear-gradient(rgba(53,55,55,.3),rgba(234,232,227,.3));box-sizing:border-box}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-bottom:.3em;font-family:LemonJelly;font-weight:400;font-size:4.5em;text-transform:none}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:6em;line-height:95%;font-family:Koulen,cursive;color:#fff}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block;width:4em;height:.1875em;margin:2.5em auto;background:#fff}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .learn-more-button[_ngcontent-%COMP%]{padding-bottom:5em;z-index:15!important}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .learn-more-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5em 2em;text-align:center;font-family:Montserrat,sans-serif;font-size:.875em;color:#fff;text-transform:uppercase;border:.1875em solid #fff}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .learn-more-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e88382;border-color:#e88382;transition:3s}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   #top-banner-1[_ngcontent-%COMP%]{background:url(https://gurmeteando.info/download/multimedia.grande.be95dc08a20439bf.6b7572756620315f6772616e64652e4a5047.JPG) no-repeat center center;background-size:cover}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   #top-banner-2[_ngcontent-%COMP%]{background:url(https://viajoconvos.com.ar/wp-content/uploads/2019/09/50984092_2281622328788787_3036204671799656448_n-01.jpeg) no-repeat center center;background-size:cover}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   #top-banner-3[_ngcontent-%COMP%]{background:url(https://gurmeteando.info/download/multimedia.normal.9b6e9d4e9b5153e9.6b7572756620345f6e6f726d616c2e4a5047.JPG) no-repeat center center;background-size:cover}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   #top-banner-4[_ngcontent-%COMP%]{background:url(https://checkboxes-demo.webdevs.co.ua/images/mogo/banner-4.png) no-repeat center center;background-size:cover}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{position:absolute;bottom:.5em;width:100%;z-index:10;text-align:center}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:block;width:70%;margin:0 auto;font-family:Montserrat,sans-serif;color:#fff}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;display:inline-block;width:20%;height:3.1em;overflow:hidden;margin:0 1em;padding-top:1em;text-align:left;text-transform:uppercase;font-family:Montserrat,sans-serif;font-size:1em;color:#fff;font-weight:400;cursor:pointer;transition:all 3s}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .progressbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:3px;width:100%;background:white;z-index:100}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .progressbar[_ngcontent-%COMP%]   .progressbar-fill[_ngcontent-%COMP%]{position:inherit;width:inherit;height:inherit;margin-left:-100%;background:black}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:#e88382}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner1[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]   #top-banner-1[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner2[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]   #top-banner-2[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner3[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]   #top-banner-3[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner4[_ngcontent-%COMP%]:checked ~ .slider[_ngcontent-%COMP%]   #top-banner-4[_ngcontent-%COMP%]{opacity:1;z-index:1}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner1[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(1), #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner2[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(2), #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner3[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(3), #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner4[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(4){cursor:default;color:#fff;transition:all 5s}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner1[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(1)   .progressbar[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner2[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(2)   .progressbar[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner3[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(3)   .progressbar[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner4[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(4)   .progressbar[_ngcontent-%COMP%]{background:#fff}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner1[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(1)   .progressbar-fill[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner2[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(2)   .progressbar-fill[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner3[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(3)   .progressbar-fill[_ngcontent-%COMP%], #section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   #banner4[_ngcontent-%COMP%]:checked ~ nav[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:nth-of-type(4)   .progressbar-fill[_ngcontent-%COMP%]{animation:progressBarFill 5s linear}@keyframes progressBarFill{0%{margin-left:-100%}to{margin-left:0}}@media only screen and (min-width: 1920px){body[_ngcontent-%COMP%]{font-size:22px}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:57%}#section-1[_ngcontent-%COMP%]{height:46em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{padding-top:12em}}@media only screen and (max-width: 1919px){body[_ngcontent-%COMP%]{font-size:20px}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:60%}#section-1[_ngcontent-%COMP%]{height:43em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{padding-top:11em}}@media only screen and (max-width: 1680px){body[_ngcontent-%COMP%]{font-size:18px}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:65%}#section-1[_ngcontent-%COMP%]{height:40em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{padding-top:9em}}@media only screen and (max-width: 1366px){body[_ngcontent-%COMP%]{font-size:16px}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:70%}}@media only screen and (max-width: 1120px){.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em 1.4em}#section-1[_ngcontent-%COMP%]{height:35em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{bottom:-.2em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{padding-top:7em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:2em auto}}@media only screen and (max-width: 1024px){body[_ngcontent-%COMP%]{font-size:14px}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em 1.3em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{bottom:0}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{width:80%}}@media only screen and (max-width: 860px){.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em .9em}#section-1[_ngcontent-%COMP%]{height:29em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{bottom:-1em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{width:90%}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.5em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]{padding-top:5em}}@media only screen and (max-width: 768px){.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75em .5em}#section-1[_ngcontent-%COMP%]{height:27em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{width:100%}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:19%;font-size:.8em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1.7em auto}}@media only screen and (max-width: 650px){.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:95%}}@media only screen and (max-width: 480px){.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{width:97%}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-logo[_ngcontent-%COMP%]{display:none}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.2em .3em}.main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .main-header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){padding:.2em .7em}#section-1[_ngcontent-%COMP%]{height:26em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{bottom:-.5em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40%;font-size:.7em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em}#section-1[_ngcontent-%COMP%]   .content-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .banner-inner-wrapper[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:1.7em auto}}"]}),n})();function NO(n,e){throw new Error("Function not implemented.")}let vk=(()=>{class n{constructor(t){this.db=t,this.collectionMensajes=t.collection("mensajes")}getMensajes(){return this.collectionMensajes.snapshotChanges().pipe((0,ht.U)(t=>t.map(r=>r.payload.doc.data())))}createMensaje(t){var r=this;return new Promise(function(){var o=(0,me.Z)(function*(u,l){try{const m=r.db.createId();t.idMensaje=m,u(yield r.collectionMensajes.doc().set(t))}catch(m){l(m)}});return function(u,l){return o.apply(this,arguments)}}())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kO=(()=>{class n{constructor(t){this.servicioMensajes=t,this.nuevoMensaje=new jp({nombre:new vs("",yc.required),apellido:new vs("",yc.required),mensaje:new vs("",yc.required),email:new vs("",yc.required),telefono:new vs("",yc.required)})}agregarMensaje(){this.nuevoMensaje.valid&&this.servicioMensajes.createMensaje({nombre:this.nuevoMensaje.value.nombre,apellido:this.nuevoMensaje.value.apellido,email:this.nuevoMensaje.value.email,mensaje:this.nuevoMensaje.value.mensaje,telefono:this.nuevoMensaje.value.telefono,idMensaje:""}).then(r=>{alert("Mensaje enviado con exito")}).catch(r=>{alert("Ocurrio un error\nError: "+r)})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vk))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp4"]],decls:41,vars:1,consts:[[1,"pt-5","pb-5",2,"font-family","'Koulen', cursive","text-align","center","font-size","90px"],[1,"container"],[3,"formGroup"],[1,"row"],[1,"col"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com","formControlName","nombre",1,"form-control",2,"border-radius","0"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com","formControlName","apellido",1,"form-control",2,"border-radius","0"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com","formControlName","email",1,"form-control",2,"border-radius","0"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com","formControlName","telefono",1,"form-control",2,"border-radius","0"],["for","Select",1,"form-label"],["id","Select",1,"form-select",2,"border-radius","0"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3","formControlName","mensaje",1,"form-control",2,"border-radius","0"],[1,"btn-holder"],["type","button","cclass","btn btn-5 hover-border-11",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"h1",0),f._uU(1,"SOLICITA MAS INFORMACION"),f.qZA(),f.TgZ(2,"div",1)(3,"div")(4,"form",2)(5,"div",3)(6,"div",4)(7,"label",5),f._uU(8,"Nombre"),f.qZA(),f._UZ(9,"input",6),f.qZA(),f.TgZ(10,"div",4)(11,"label",5),f._uU(12,"Apellido"),f.qZA(),f._UZ(13,"input",7),f.qZA()(),f.TgZ(14,"div",3)(15,"div",4)(16,"label",5),f._uU(17,"Email"),f.qZA(),f._UZ(18,"input",8),f.qZA(),f.TgZ(19,"div",4)(20,"label",5),f._uU(21,"Telefono"),f.qZA(),f._UZ(22,"input",9),f.qZA()(),f.TgZ(23,"div",3)(24,"label",10),f._uU(25,"Disabled select menu"),f.qZA(),f.TgZ(26,"select",11)(27,"option"),f._uU(28,"Foodtruck"),f.qZA(),f.TgZ(29,"option"),f._uU(30,"Evento"),f.qZA(),f.TgZ(31,"option"),f._uU(32,"Otro"),f.qZA()()(),f.TgZ(33,"div",3)(34,"label",12),f._uU(35,"mensaje"),f.qZA(),f._UZ(36,"textarea",13),f.qZA()(),f.TgZ(37,"div",14)(38,"button",15),f.NdJ("click",function(){return r.agregarMensaje()}),f.TgZ(39,"span"),f._uU(40,"Enviar"),f.qZA()()()()()),2&t&&(f.xp6(4),f.Q6J("formGroup",r.nuevoMensaje))},dependencies:[SA,$x,Gx,z0,yA,_A,Q0,nI],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{outline:none;display:block;background:rgba(0,0,0,.1);width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;color:gray;font-family:inherit;font-size:inherit;font-weight:semibold;line-height:inherit;transition:.3s ease}button[_ngcontent-%COMP%]{outline:none;display:block;color:#fff;background-color:#000;width:100%;border:0;border-radius:4px;box-sizing:border-box;padding:12px 20px;margin-top:30px;margin-bottom:30px;font-family:inherit;font-size:inherit;font-weight:semibold;line-height:inherit;transition:.3s ease}"]}),n})(),FO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp5"]],decls:14,vars:0,consts:[[1,"banner-image-first","w-100","vh-100","d-flex","justify-content-center","align-items-center"],[1,"content"],[1,"myfont","text-white",2,"font-size","100px"],[1,"text-white"],[1,"learn-more-button"],["href","#main-footer"],[1,"banner-image","w-100","vh-100","d-flex","justify-content-center","align-items-center"],[1,"content","text-center"]],template:function(t,r){1&t&&(f.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h1",2),f._uU(4,"EVENTOS Y FESTEJOS"),f.qZA(),f.TgZ(5,"p",3),f._uU(6,"Conoc\xe9 nuestra propuesta para eventos, adaptados a sus necesidades y requerimientos en los espacios de PIBA RECOVA. \xa1Lo cerramos completo para tu festejo!"),f.qZA(),f.TgZ(7,"div",4)(8,"a",5),f._uU(9,"Ver Mas"),f.qZA()()()(),f.TgZ(10,"div",6)(11,"div",7)(12,"h1",2),f._uU(13,"FRANQUICIAS"),f.qZA()()()())},styles:[".banner-image[_ngcontent-%COMP%]{background-image:url(https://gurmeteando.info/download/multimedia.grande.9d659305b4240e5f.6b7572756620355f6772616e64652e4a5047.JPG)}.banner-image-first[_ngcontent-%COMP%]{background-image:url(https://gurmeteando.info/download/multimedia.grande.8aeeaab65bf18473.6b7572756620325f6772616e64652e6a7067.jpg)}.learn-more-button[_ngcontent-%COMP%]{padding-bottom:5em;z-index:15!important}.learn-more-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5em 2em;text-align:center;font-family:Montserrat,sans-serif;font-size:.875em;color:#fff;text-transform:uppercase;border:.1875em solid #fff}.learn-more-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e88382;border-color:#e88382;transition:3s}"]}),n})(),LO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp6"]],decls:11,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[2,"font-family","'Koulen', cursive","text-align","center","font-size","90px"],[1,"col","pb-5"],["width","800","height","600","src","https://www.youtube.com/embed/RJGY4k9vIH4","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen",""]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),f._uU(4,"FOODTRUCK"),f._UZ(5,"br"),f._uU(6," & CATERING"),f.qZA(),f.TgZ(7,"p"),f._uU(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel, quasi voluptatem cupiditate velit sunt eveniet dolor possimus atque autem reprehenderit cumque repellat illum adipisci, alias dolore culpa similique. At, adipisci."),f.qZA()(),f.TgZ(9,"div",4),f._UZ(10,"iframe",5),f.qZA()()())},styles:[".banner-image[_ngcontent-%COMP%]{background-image:url(50984092_2281622328788787_3036204671799656448_n-01.e0b1ad0aa13647e5.jpeg)}"]}),n})(),VO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp7"]],decls:20,vars:0,consts:[[1,"pagepadding",2,"background-color","BLACK"],[1,"container","my-5","d-grid","gap-5"],[1,"mt-5",2,"font-family","'Koulen', cursive","text-align","center","font-size","90px","color","white"],[2,"background-color","BLACK"],[1,"row","text-white","mb-3"],[1,"col"],[1,"col","mb-3"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),f._uU(3,"NOSOTROS"),f.qZA(),f.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"p"),f._uU(8,"K\xfcr\xfcf inici\xf3 hace apenas tres a\xf1os y medio. El grupo de trabajo est\xe1 compuesto por ocho personas, que se distribuyen la tarea de fabricaci\xf3n, administraci\xf3n y venta. \u201cBuscamos construir el concepto de cervecer\xeda local. Generar una imagen, cuidar los detalles. Para eso es necesario conseguir que al equipo de trabajo se sume gente rom\xe1ntica como uno. Y eso es lo que hemos logrado\u201d, se enorgullece Vrlica."),f.qZA(),f.TgZ(9,"p"),f._uU(10,"Pese al aire alem\xe1n que ostenta el nombre y la est\xe9tica con que se presenta, \u201ck\xfcr\xfcf\u201d es una palabra mapuche que significa \u201cviento del sur\u201d."),f.qZA(),f.TgZ(11,"p"),f._uU(12,"La marca tiene inserci\xf3n en todas las capas sociales de la ciudad. \u201cLlegan clientes en camioneta 4\xd74 y detr\xe1s entran otros que vienen en bicicleta\u201d explican quienes atienden al p\xfablico."),f.qZA()(),f.TgZ(13,"div",6)(14,"p"),f._uU(15,"K\xfcr\xfcf inici\xf3 hace apenas tres a\xf1os y medio. El grupo de trabajo est\xe1 compuesto por ocho personas, que se distribuyen la tarea de fabricaci\xf3n, administraci\xf3n y venta. \u201cBuscamos construir el concepto de cervecer\xeda local. Generar una imagen, cuidar los detalles. Para eso es necesario conseguir que al equipo de trabajo se sume gente rom\xe1ntica como uno. Y eso es lo que hemos logrado\u201d, se enorgullece Vrlica."),f.qZA(),f.TgZ(16,"p"),f._uU(17,"Pese al aire alem\xe1n que ostenta el nombre y la est\xe9tica con que se presenta, \u201ck\xfcr\xfcf\u201d es una palabra mapuche que significa \u201cviento del sur\u201d."),f.qZA(),f.TgZ(18,"p"),f._uU(19,"La marca tiene inserci\xf3n en todas las capas sociales de la ciudad. \u201cLlegan clientes en camioneta 4\xd74 y detr\xe1s entran otros que vienen en bicicleta\u201d explican quienes atienden al p\xfablico."),f.qZA()()()()()())}}),n})(),wk=(()=>{class n{constructor(t){this.servicioMenus=t,this.menus=[]}ngOnInit(){this.servicioMenus.getMenu().subscribe(t=>{this.menus=t})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(qE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-admin"]],decls:7,vars:1,consts:[[3,"entrada"],["id","nosotros"],["id","catering"],["id","contacto"]],template:function(t,r){1&t&&(f.TgZ(0,"body"),f._UZ(1,"app-comp2")(2,"app-menu",0)(3,"app-comp7",1)(4,"app-comp6",2)(5,"app-comp5")(6,"app-comp4",3),f.qZA()),2&t&&(f.xp6(2),f.Q6J("entrada",r.menus))},dependencies:[_k,RO,kO,FO,LO,VO]}),n})();function Ck(n,e){if(1&n&&(f.TgZ(0,"div",4)(1,"div",5),f._UZ(2,"img",6),f.TgZ(3,"div",7)(4,"h5",8),f._uU(5),f.qZA(),f.TgZ(6,"p",9),f._uU(7),f.qZA()()()()),2&n){const t=e.$implicit;f.xp6(2),f.Q6J("src",t.img,f.LSH),f.xp6(3),f.Oqu(t.comida),f.xp6(2),f.Oqu(t.descripcion)}}let bk=(()=>{class n{constructor(t){this.servicioMenus=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(qE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comp3"]],inputs:{entrada:"entrada"},decls:6,vars:1,consts:[["id","menu",2,"font-family","'Koulen', cursive","text-align","center","font-size","90px"],["id","menu",1,"pt-5","pb-5",2,"font-family","'Koulen', cursive","text-align","center","font-size","90px"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card",2,"width","18rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text","text-center"]],template:function(t,r){1&t&&(f.TgZ(0,"h1",0),f._uU(1,"MENU"),f.qZA(),f.TgZ(2,"h1",1),f._uU(3,"MENU"),f.qZA(),f.TgZ(4,"div",2),f.YNc(5,Ck,8,3,"div",3),f.qZA()),2&t&&(f.xp6(5),f.Q6J("ngForOf",r.entrada))},dependencies:[Qi],styles:[".card-body[_ngcontent-%COMP%]{background-color:#000}.card-text[_ngcontent-%COMP%]{color:#fff}.card-title[_ngcontent-%COMP%]{color:#fff;font-family:Koulen,cursive;text-align:center;font-size:30px}img[_ngcontent-%COMP%]{border-radius:0%}"]}),n})(),Ek=(()=>{class n{constructor(t){this.servicioMenus=t,this.menus=[]}ngOnInit(){this.servicioMenus.getMenu().subscribe(t=>{this.menus=t})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(qE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:1,consts:[[3,"entrada"],["id","nosotros"],["id","catering"],["id","contacto"]],template:function(t,r){1&t&&(f.TgZ(0,"body"),f._UZ(1,"app-comp2")(2,"app-comp3",0)(3,"app-comp7",1)(4,"app-comp6",2)(5,"app-comp5")(6,"app-comp4",3),f.qZA()),2&t&&(f.xp6(2),f.Q6J("entrada",r.menus))},dependencies:[RO,bk,kO,FO,LO,VO],styles:[".banner-image[_ngcontent-%COMP%]{background-image:url(50984092_2281622328788787_3036204671799656448_n-01.e0b1ad0aa13647e5.jpeg)}"]}),n})(),Ik=(()=>{class n{constructor(t,r){this.fb=t,this.router=r,this.form=new jp({username:new vs("",yc.required),password:new vs("",yc.required)}),this.loading=!1}ngOnInit(){}ingresar(){console.log(this.form),"gmartina"==this.form.value.username&&"admin123"==this.form.value.password?(alert("Usuario o contrase\xf1a ingresado son validos"),this.fakeLoading()):(this.error(),this.form.reset())}error(){alert("Usuario o contrase\xf1a ingresado son invalidos")}fakeLoading(){this.loading=!0,setTimeout(()=>{this.router.navigateByUrl("admin")},1500)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(GR),f.Y36(Kr))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"body",2,"background-color","grey"],[1,"login"],[1,"margin"],[3,"formGroup","ngSubmit"],[1,"myfont",2,"text-align","center"],[1,"input-group","mb-3"],["formControlName","username","type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["formControlName","password","type","password","placeholder","Password","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"boton"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),f.NdJ("ngSubmit",function(){return r.ingresar()}),f.TgZ(4,"h1",4),f._uU(5,"Login"),f.qZA(),f.TgZ(6,"div",5),f._UZ(7,"input",6),f.qZA(),f.TgZ(8,"div",5),f._UZ(9,"input",7),f.qZA(),f._UZ(10,"br"),f.TgZ(11,"div",8)(12,"button",9),f.NdJ("click",function(){return r.ingresar()}),f._uU(13,"Primary"),f.qZA()()()()()()),2&t&&(f.xp6(3),f.Q6J("formGroup",r.form))},dependencies:[SA,z0,yA,_A,Q0,nI],styles:[".margin[_ngcontent-%COMP%]{margin:50px 30px;width:400px}.login[_ngcontent-%COMP%]{display:flex;justify-content:center}h1[_ngcontent-%COMP%]{font-size:50px}.boton[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#000}.body[_ngcontent-%COMP%]{height:100%;background-color:#f5f5f5;overflow-y:hidden;display:flex;justify-content:center;align-items:center;background:hsl(218deg,50%,91%);height:100vh}.login[_ngcontent-%COMP%]{width:100%;max-width:330px;text-align:center}.ancho[_ngcontent-%COMP%]{width:80%}.btn-primary[_ngcontent-%COMP%]{color:#000}"]}),n})(),Dk=(()=>{class n{constructor(t){this.db=t,this.isLoged=!1,this.coleccionUsuarios=this.db.collection("usuarios")}getUsuarios(){return this.coleccionUsuarios.snapshotChanges().pipe((0,ht.U)(t=>t.map(r=>r.payload.doc.data())))}login(t,r){let o="No Inici\xf3";t.valid&&(r.forEach(u=>{t.value.username===u.username&&t.value.password===u.password&&(this.isLoged=!0,o="Inici\xf3 Sesi\xf3n")}),alert(o))}estaLogueado(){return this.isLoged}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tk=[{path:"",component:Ek},{path:"login",component:Ik},{path:"admin",component:wk,canActivate:[(()=>{class n{constructor(t,r){this.servicioLogin=t,this.router=r}canActivate(t,r){return!!this.servicioLogin.estaLogueado()||(this.router.navigateByUrl("login"),!1)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Dk),f.LFG(Kr))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[jd.forRoot(Tk),jd]}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[jo,kA]}),n})(),Mk=(()=>{class n{constructor(){window.addEventListener("scroll",function(){document.querySelector("header")?.classList.toggle("abajo",window.scrollY>0)})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-navbar"]],decls:21,vars:0,consts:[["href","#",1,"logo"],["href","#nosotros"],["href","#menu"],["href","#catering"],["href","#contacto"],["routerLink","login"]],template:function(t,r){1&t&&(f.TgZ(0,"body")(1,"header")(2,"a",0),f._uU(3,"KURUF"),f.qZA(),f.TgZ(4,"nav")(5,"ul")(6,"li")(7,"a",1),f._uU(8,"Nosotros"),f.qZA()(),f.TgZ(9,"li")(10,"a",2),f._uU(11,"Menu"),f.qZA()(),f.TgZ(12,"li")(13,"a",3),f._uU(14,"Catering"),f.qZA()(),f.TgZ(15,"li")(16,"a",4),f._uU(17,"Contacto"),f.qZA()(),f.TgZ(18,"li")(19,"a",5),f._uU(20,"Ingresa"),f.qZA()()()()()())},dependencies:[gg],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;display:flex;justify-content:space-around;transition:.7s;padding:30px 20px;z-index:10}header.abajo[_ngcontent-%COMP%]{background:#fff;padding:15px 20px}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:relative;color:#fff;font-weight:700;font-size:2em;letter-spacing:2px;transition:1.5s;text-decoration:none}nav[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;font-family:Koulen;margin:0 15px;text-decoration:none;color:#fff;letter-spacing:2px;font-weight:600;transition:.7s}.zona1[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh;background:url(https://mangatschool.com/wp-content/uploads/2021/03/curso-fundamentos-de-programacion-algoritmos.jpg);background-size:cover;background-position:center center}header.abajo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%], header.abajo[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}"]}),n})(),xk=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-footer"]],decls:44,vars:0,consts:[[1,"site-footer"],[1,"container",2,"background-color","black"],[1,"row"],[1,"col-sm-12","col-md-6"],[2,"font-family","'Koulen', cursive"],[1,"col-xs-6","col-md-3"],[1,"footer-links",2,"color","white"],["href","http://scanfcode.com/category/c-language/",2,"color","white"],["href","http://scanfcode.com/category/front-end-development/",2,"color","white"],["href","http://scanfcode.com/category/back-end-development/",2,"color","white"],["href","http://scanfcode.com/category/java-programming-language/",2,"color","white"],["href","http://scanfcode.com/category/android/",2,"color","white"],["href","http://scanfcode.com/category/templates/",2,"color","white"],[2,"font-family","'Koulen', cursive","color","WHITE"],[1,"footer-links"],[2,"color","white"],[1,"social-icons"],[1,"fa","fa-facebook"]],template:function(t,r){1&t&&(f.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),f._uU(5,"KURUF"),f.qZA()(),f.TgZ(6,"div",5)(7,"ul",6)(8,"li")(9,"a",7),f._uU(10,"NOSOTROS"),f.qZA()(),f.TgZ(11,"li")(12,"a",8),f._uU(13,"MENU"),f.qZA()(),f.TgZ(14,"li")(15,"a",9),f._uU(16,"CATERING"),f.qZA()(),f.TgZ(17,"li")(18,"a",10),f._uU(19,"FRANQUICIAS"),f.qZA()(),f.TgZ(20,"li")(21,"a",11),f._uU(22,"PEDIDOS YA"),f.qZA()(),f.TgZ(23,"li")(24,"a",12),f._uU(25,"RAPPI"),f.qZA()()()(),f.TgZ(26,"div",5)(27,"h1",13),f._uU(28,"CONTACTO"),f.qZA(),f.TgZ(29,"h6",4),f._uU(30,"CORREO"),f.qZA(),f.TgZ(31,"ul",14)(32,"li")(33,"p",15),f._uU(34,"kuruf@gmail.com"),f.qZA()()(),f.TgZ(35,"h6",4),f._uU(36,"REDES SOCIALES"),f.qZA(),f.TgZ(37,"ul",16)(38,"li")(39,"a"),f._UZ(40,"i",17),f.qZA()(),f.TgZ(41,"li")(42,"a"),f._UZ(43,"i",17),f.qZA()()()()()()())},styles:[".site-footer[_ngcontent-%COMP%]{background-color:#000;padding:45px 0 20px;font-size:15px;line-height:24px;color:#000}.site-footer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#bbb;opacity:.5}.site-footer[_ngcontent-%COMP%]   hr.small[_ngcontent-%COMP%]{margin:20px 0}.site-footer[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;font-size:16px;text-transform:uppercase;margin-top:5px;letter-spacing:2px}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36c;text-decoration:none}.footer-links[_ngcontent-%COMP%]{padding-left:0;list-style:none}.footer-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#737373}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36c;text-decoration:none}.footer-links.inline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.site-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{text-align:right}.site-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:40px;height:40px;line-height:40px;margin-left:6px;margin-right:0;border-radius:100%;background-color:#33353d}.copyright-text[_ngcontent-%COMP%]{margin:0}@media (max-width: 991px){.site-footer[_ngcontent-%COMP%]   [class^=col-][_ngcontent-%COMP%]{margin-bottom:30px}}@media (max-width: 767px){.site-footer[_ngcontent-%COMP%]{padding-bottom:0}.site-footer[_ngcontent-%COMP%]   .copyright-text[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{text-align:center}}.social-icons[_ngcontent-%COMP%]{padding-left:0;margin-bottom:0;list-style:none}.social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-bottom:4px}.social-icons[_ngcontent-%COMP%]   li.title[_ngcontent-%COMP%]{margin-right:15px;text-transform:uppercase;color:#96a2b2;font-weight:700;font-size:13px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#eceeef;color:#818a91;font-size:16px;display:inline-block;line-height:44px;width:44px;height:44px;text-align:center;margin-right:8px;border-radius:100%;transition:all .2s linear}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#29aafe}.social-icons.size-sm[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:34px;height:34px;width:34px;font-size:14px}.social-icons[_ngcontent-%COMP%]   a.facebook[_ngcontent-%COMP%]:hover{background-color:#3b5998}.social-icons[_ngcontent-%COMP%]   a.twitter[_ngcontent-%COMP%]:hover{background-color:#00aced}.social-icons[_ngcontent-%COMP%]   a.linkedin[_ngcontent-%COMP%]:hover{background-color:#007bb6}.social-icons[_ngcontent-%COMP%]   a.dribbble[_ngcontent-%COMP%]:hover{background-color:#ea4c89}@media (max-width: 767px){.social-icons[_ngcontent-%COMP%]   li.title[_ngcontent-%COMP%]{display:block;margin-right:0;font-weight:600}}"]}),n})(),Ok=(()=>{class n{constructor(){this.title="proyectofinal"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&f._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[Pd,Mk,xk]}),n})();const UO_firebaseConfig={apiKey:"AIzaSyBWHbXKcrauuea_EBuSZFeK5n4YLFPKphc",authDomain:"proyectofinal-22143.firebaseapp.com",projectId:"proyectofinal-22143",storageBucket:"proyectofinal-22143.appspot.com",messagingSenderId:"283621449489",appId:"1:283621449489:web:4d71402399f9c84177f6b0"};let Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[Ok]}),n.\u0275inj=f.cJS({imports:[Sk,En,Ak,kA,Eo.hO.initializeApp(UO_firebaseConfig)]}),n})();(0,f.G48)(),Jh().bootstrapModule(Pk).catch(n=>console.error(n))},5867:(at,Te,k)=>{k.d(Te,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=k(9681);(0,f.registerVersion)("firebase","9.9.3","app")},127:(at,Te,k)=>{k.d(Te,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(at,Te,k)=>{k.r(Te);var f=k(5861),te=k(3942),R=k(2090),ue=k(9681),se=k(655),he=k(1877),de=k(4859);const we=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new he.Yd("@firebase/auth");function it(y,...h){Qe.logLevel<=he.in.ERROR&&Qe.error(`Auth (${ue.SDK_VERSION}): ${y}`,...h)}function Ae(y,...h){throw He(y,...h)}function ve(y,...h){return He(y,...h)}function be(y,h,g){const w=Object.assign(Object.assign({},et()),{[h]:g});return new R.LL("auth","Firebase",w).create(h,{appName:y.name})}function je(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ae(y,"argument-error"),be(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...h){if("string"!=typeof y){const g=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return _e.create(y,...h)}function U(y,h,...g){if(!y)throw He(h,...g)}function ye(y){const h="INTERNAL ASSERTION FAILED: "+y;throw it(h),new Error(h)}function K(y,h){y||ye(h)}const X=new Map;function oe(y){K(y instanceof Function,"Expected a class definition");let h=X.get(y);return h?(K(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,X.set(y,h),h)}function Fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function dt(){return"http:"===zt()||"https:"===zt()}function zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class nn{constructor(h,g){this.shortDelay=h,this.longDelay=g,K(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function Gt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,h){K(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Kt{static initialize(h,g,w){this.fetchImpl=h,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dr=new nn(3e4,6e4);function Lt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function rn(y,h,g,w){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(y,h,g,w,A={}){return Xr(y,A,(0,f.Z)(function*(){let P={},W={};w&&("GET"===h?W=w:P={body:JSON.stringify(w)});const ce=(0,R.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Kt.fetch()(Zi(y,y.config.apiHost,g,ce),Object.assign({method:h,headers:Ve,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Xr(y,h,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(y,h,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Yt),h);try{const A=new ei(y),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const W=yield P.json();if("needConfirmation"in W)throw Di(y,"account-exists-with-different-credential",W);if(P.ok&&!("errorMessage"in W))return W;{const ce=P.ok?W.errorMessage:W.error.message,[Ve,Xe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Di(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ve)throw Di(y,"email-already-in-use",W);if("USER_DISABLED"===Ve)throw Di(y,"user-disabled",W);const yt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw be(y,yt,Xe);Ae(y,yt)}}catch(A){if(A instanceof R.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Tr(y,h,g,w){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(y,h,g,w,A={}){const P=yield rn(y,h,g,w,A);return"mfaPendingCredential"in P&&Ae(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Zi(y,h,g,w){const A=`${h}${g}?${w}`;return y.config.emulator?Mn(y.config,A):`${y.config.apiScheme}://${A}`}class ei{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),Dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(y,h,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=ve(y,h,w);return A.customData._tokenResponse=g,A}function ln(){return(ln=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ui(y,h){return xn.apply(this,arguments)}function xn(){return(xn=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ti(y,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function On(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function hn(){return(hn=(0,f.Z)(function*(y,h=!1){const g=(0,R.m9)(y),w=yield g.getIdToken(h),A=Ke(w);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,W=P?.sign_in_provider;return{claims:A,token:w,authTime:On(nt(A.auth_time)),issuedAtTime:On(nt(A.iat)),expirationTime:On(nt(A.exp)),signInProvider:W||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function nt(y){return 1e3*Number(y)}function Ke(y){var h;const[g,w,A]=y.split(".");if(void 0===g||void 0===w||void 0===A)return it("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,R.tV)(w);return P?JSON.parse(P):(it("Failed to decode base64 JWT payload"),null)}catch(P){return it("Caught error parsing JWT payload as JSON",null===(h=P)||void 0===h?void 0:h.toString()),null}}function ir(y,h){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(w){throw w instanceof R.ZR&&Vt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Vt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Fn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),w)}iteration(){var h=this;return(0,f.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(g=w)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class bs{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(y){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(y){var h;const g=y.auth,w=yield y.getIdToken(),A=yield ir(y,Ti(g,{idToken:w}));U(A?.users.length,g,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const W=null!==(h=P.providerUserInfo)&&void 0!==h&&h.length?L(P.providerUserInfo):[],ce=H(y.providerData,W),yt=!!y.isAnonymous&&!(y.email&&P.passwordHash||ce?.length),ct={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ce,metadata:new bs(P.createdAt,P.lastLoginAt),isAnonymous:yt};Object.assign(y,ct)})).apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(y){const h=(0,R.m9)(y);yield Qt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function H(y,h){return[...y.filter(w=>!h.some(A=>A.providerId===w.providerId)),...h]}function L(y){return y.map(h=>{var{providerId:g}=h,w=(0,se._T)(h,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function z(){return(z=(0,f.Z)(function*(y,h){const g=yield Xr(y,{},(0,f.Z)(function*(){const w=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,W=Zi(y,A,"/v1/token",`key=${P}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Kt.fetch()(W,{method:"POST",headers:ce,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){U(h.idToken,"internal-error"),U(typeof h.idToken<"u","internal-error"),U(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Po(y){const h=Ke(y);return U(h,"internal-error"),U(typeof h.exp<"u","internal-error"),U(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var w=this;return(0,f.Z)(function*(){return U(!w.accessToken||w.refreshToken,h,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var w=this;return(0,f.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:W}=yield function G(y,h){return z.apply(this,arguments)}(h,g);w.updateTokensAndExpiration(A,P,Number(W))})()}updateTokensAndExpiration(h,g,w){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,g){const{refreshToken:w,accessToken:A,expirationTime:P}=g,W=new Ie;return w&&(U("string"==typeof w,"internal-error",{appName:h}),W.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:h}),W.accessToken=A),P&&(U("number"==typeof P,"internal-error",{appName:h}),W.expirationTime=P),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Be(y,h){U("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class ut{constructor(h){var{uid:g,auth:w,stsTokenManager:A}=h,P=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new bs(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const w=yield ir(g,g.stsTokenManager.getToken(g.auth,h));return U(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(h){return function Xs(y){return hn.apply(this,arguments)}(this,h)}reload(){return function $t(y){return Z.apply(this,arguments)}(this)}_assign(h){this!==h&&(U(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new ut(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var w=this;return(0,f.Z)(function*(){let A=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),A=!0),g&&(yield Qt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield ir(h,function pt(y,h){return ln.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var w,A,P,W,ce,Ve,Xe,yt;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,er=null!==(A=g.email)&&void 0!==A?A:void 0,Bi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,aa=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Wu=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,Zu=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Ku=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,Sf=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Xc,emailVerified:By,isAnonymous:jy,providerData:el,stsTokenManager:$y}=g;U(Xc&&$y,h,"internal-error");const Mf=Ie.fromJSON(this.name,$y);U("string"==typeof Xc,h,"internal-error"),Be(ct,h.name),Be(er,h.name),U("boolean"==typeof By,h,"internal-error"),U("boolean"==typeof jy,h,"internal-error"),Be(Bi,h.name),Be(aa,h.name),Be(Wu,h.name),Be(Zu,h.name),Be(Ku,h.name),Be(Sf,h.name);const lg=new ut({uid:Xc,auth:h,email:er,emailVerified:By,displayName:ct,isAnonymous:jy,photoURL:aa,phoneNumber:Bi,tenantId:Wu,stsTokenManager:Mf,createdAt:Ku,lastLoginAt:Sf});return el&&Array.isArray(el)&&(lg.providerData=el.map(dw=>Object.assign({},dw))),Zu&&(lg._redirectEventId=Zu),lg}static _fromIdTokenResponse(h,g,w=!1){return(0,f.Z)(function*(){const A=new Ie;A.updateFromServerResponse(g);const P=new ut({uid:g.localId,auth:h,stsTokenManager:A,isAnonymous:w});return yield Qt(P),P})()}}const Jt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,f.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,f.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,f.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Wn(y,h,g){return`firebase:${y}:${h}:${g}`}class tt{constructor(h,g,w){this.persistence=h,this.auth=g,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=Wn(this.userKey,A.apiKey,P),this.fullPersistenceKey=Wn("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ut._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,w="authUser"){return(0,f.Z)(function*(){if(!g.length)return new tt(oe(Jt),h,w);const A=(yield Promise.all(g.map(function(){var Xe=(0,f.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let P=A[0]||oe(Jt);const W=Wn(w,h.config.apiKey,h.name);let ce=null;for(const Xe of g)try{const yt=yield Xe._get(W);if(yt){const ct=ut._fromJSON(h,yt);Xe!==P&&(ce=ct),P=Xe;break}}catch{}const Ve=A.filter(Xe=>Xe._shouldAllowMigration);return P._shouldAllowMigration&&Ve.length?(P=Ve[0],ce&&(yield P._set(W,ce.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,f.Z)(function*(yt){if(yt!==P)try{yield yt._remove(W)}catch{}});return function(yt){return Xe.apply(this,arguments)}}())),new tt(P,h,w)):new tt(P,h,w)})()}}function un(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ze(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(gn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(en(h))return"Blackberry";if(Pn(h))return"Webos";if(sr(h))return"Safari";if((h.includes("chrome/")||dr(h))&&!h.includes("edge/"))return"Chrome";if(_t(h))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function gn(y=(0,R.z$)()){return/firefox\//i.test(y)}function sr(y=(0,R.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function dr(y=(0,R.z$)()){return/crios\//i.test(y)}function Ze(y=(0,R.z$)()){return/iemobile/i.test(y)}function _t(y=(0,R.z$)()){return/android/i.test(y)}function en(y=(0,R.z$)()){return/blackberry/i.test(y)}function Pn(y=(0,R.z$)()){return/webos/i.test(y)}function ti(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ma(y=(0,R.z$)()){return ti(y)||_t(y)||Pn(y)||en(y)||/windows phone/i.test(y)||Ze(y)}function Ot(y,h=[]){let g;switch(y){case"Browser":g=un((0,R.z$)());break;case"Worker":g=`${un((0,R.z$)())}-${y}`;break;default:g=y}const w=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${w}`}class ya{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const w=P=>new Promise((W,ce)=>{try{W(h(P))}catch(Ve){ce(Ve)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,f.Z)(function*(){var w;if(g.auth.currentUser===h)return;const A=[];try{for(const P of g.queue)yield P(h),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const W of A)try{W()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=P)||void 0===w?void 0:w.message})}})()}}class Ro{constructor(h,g,w){this.app=h,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new ya(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(h,g){var w=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield tt.create(w,h),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let P=A,W=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ve=P?._redirectEventId,Xe=yield g.tryRedirectSignIn(h);(!ce||ce===Ve)&&Xe?.user&&(P=Xe.user,W=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(P)}catch(ce){P=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){var w;try{yield Qt(h)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const w=h?(0,R.m9)(h):null;return w&&U(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(h,g=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return h&&U(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,g,w){return this.registerStateListener(this.authStateSubscription,h,g,w)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,w){return this.registerStateListener(this.idTokenSubscription,h,g,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var w=this;return(0,f.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===h?A.removeCurrentUser():A.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const w=h&&oe(h)||g._popupRedirectResolver;U(w,g,"argument-error"),g.redirectPersistenceManager=yield tt.create(g,[oe(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===h?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,w,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return U(W,this,"internal-error"),W.then(()=>P(this.currentUser)),"function"==typeof g?h.addObserver(g,w,A):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ot(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var g;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const A=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function bn(y){return(0,R.m9)(y)}class Is{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ds(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Ar(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class eo{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(h){return ye("not implemented")}_linkToIdToken(h,g){return ye("not implemented")}_getReauthenticationResolver(h){return ye("not implemented")}}function Ut(y,h){return wc.apply(this,arguments)}function wc(){return(wc=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:resetPassword",Lt(y,h))})).apply(this,arguments)}function Zl(y,h){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _a(y,h){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:update",Lt(y,h))})).apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithPassword",Lt(y,h))})).apply(this,arguments)}function Rn(y,h){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:sendOobCode",Lt(y,h))})).apply(this,arguments)}function Sr(y,h){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(y,h){return Rn(y,h)})).apply(this,arguments)}function Fo(y,h){return to.apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(y,h){return Rn(y,h)})).apply(this,arguments)}function wa(y,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(y,h){return Rn(y,h)})).apply(this,arguments)}function Gp(y,h){return Du.apply(this,arguments)}function Du(){return(Du=(0,f.Z)(function*(y,h){return Rn(y,h)})).apply(this,arguments)}function Cc(){return(Cc=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,h))})).apply(this,arguments)}function Kl(){return(Kl=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,h))})).apply(this,arguments)}class bc extends eo{constructor(h,g,w,A=null){super("password",w),this._email=h,this._password=g,this._tenantId=A}static _fromEmailAndPassword(h,g){return new bc(h,g,"password")}static _fromEmailAndCode(h,g,w=null){return new bc(h,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function ko(y,h){return Qi.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Kh(y,h){return Cc.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ae(h,"internal-error")}})()}_linkToIdToken(h,g){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return Zl(h,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function qp(y,h){return Kl.apply(this,arguments)}(h,{idToken:g,email:w._email,oobCode:w._password});default:Ae(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Zn(y,h){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithIdp",Lt(y,h))})).apply(this,arguments)}class Ji extends eo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Ji(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:A}=g,P=(0,se._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const W=new Ji(w,A);return W.idToken=P.idToken||void 0,W.accessToken=P.accessToken||void 0,W.secret=P.secret,W.nonce=P.nonce,W.pendingToken=P.pendingToken||null,W}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,Zn(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Zn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,R.xO)(g)}return h}}function Wp(y,h){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:sendVerificationCode",Lt(y,h))})).apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,h))})).apply(this,arguments)}function Jl(){return(Jl=(0,f.Z)(function*(y,h){const g=yield Tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,h));if(g.temporaryProof)throw Di(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Kp={USER_NOT_FOUND:"user-not-found"};function Ca(){return(Ca=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Kp)})).apply(this,arguments)}class Lo extends eo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Lo({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Lo({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Ec(y,h){return Ss.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Zp(y,h){return Jl.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Xl(y,h){return Ca.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}=h;return w||g||A||P?new Lo({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class li{constructor(h){var g,w,A,P,W,ce;const Ve=(0,R.zd)((0,R.pd)(h)),Xe=null!==(g=Ve.apiKey)&&void 0!==g?g:null,yt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,ct=function gy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ve.mode)&&void 0!==A?A:null);U(Xe&&yt&&ct,"argument-error"),this.apiKey=Xe,this.operation=ct,this.code=yt,this.continueUrl=null!==(P=Ve.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(W=Ve.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ce=Ve.tenantId)&&void 0!==ce?ce:null}static parseLink(h){const g=function ed(y){const h=(0,R.zd)((0,R.pd)(y)).link,g=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,w=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(w?(0,R.zd)((0,R.pd)(w)).link:null)||w||g||h||y}(h);try{return new li(g)}catch{return null}}}let Vo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return bc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=li.parseLink(w);return U(A,"argument-error"),bc._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Si{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class no extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Uo extends no{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Ji._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return U(h.idToken||h.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Uo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Uo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:W,providerId:ce}=h;if(!w&&!A&&!g&&!P||!ce)return null;try{return new Uo(ce)._credential({idToken:g,accessToken:w,nonce:W,pendingToken:P})}catch{return null}}}let Bo=(()=>{class y extends no{constructor(){super("facebook.com")}static credential(g){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ba=(()=>{class y extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),nd=(()=>{class y extends no{constructor(){super("github.com")}static credential(g){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class jo extends eo{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,Zn(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Zn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:A,pendingToken:P}=g;return w&&A&&P&&w===A?new jo(w,P):null}static _create(h,g){return new jo(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends Si{constructor(h){U(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Mr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Mr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=jo.fromJSON(h);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:w}=h;if(!g||!w)return null;try{return jo._create(w,g)}catch{return null}}}let id=(()=>{class y extends no{constructor(){super("twitter.com")}static credential(g,w){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function $o(y,h){return sd.apply(this,arguments)}function sd(){return(sd=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signUp",Lt(y,h))})).apply(this,arguments)}class Hr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,w,A=!1){return(0,f.Z)(function*(){const P=yield ut._fromIdTokenResponse(h,w,A),W=Nn(w);return new Hr({user:P,providerId:W,_tokenResponse:w,operationType:g})})()}static _forOperation(h,g,w){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const A=Nn(w);return new Hr({user:h,providerId:A,_tokenResponse:w,operationType:g})})()}}function Nn(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yh(){return(Yh=(0,f.Z)(function*(y){var h;const g=bn(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Hr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield $o(g,{returnSecureToken:!0}),A=yield Hr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ro extends R.ZR{constructor(h,g,w,A){var P;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ro.prototype),this.customData={appName:h.name,tenantId:null!==(P=h.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,g,w,A){return new ro(h,g,w,A)}}function Gr(y,h,g,w){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ro._fromErrorAndOperation(y,P,h,w):P})}function Xi(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function es(){return(es=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);yield di(!0,g,h);const{providerUserInfo:w}=yield ui(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),A=Xi(w||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function fr(y,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(y,h,g=!1){const w=yield ir(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return Hr._forOperation(y,"link",w)})).apply(this,arguments)}function di(y,h,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(y,h,g){yield Qt(h);const A=!1===y?"provider-already-linked":"no-such-provider";U(Xi(h.providerData).has(g)===y,h.auth,A)})).apply(this,arguments)}function ns(y,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(y,h,g=!1){var w;const{auth:A}=y,P="reauthenticate";try{const W=yield ir(y,Gr(A,P,h,y),g);U(W.idToken,A,"internal-error");const ce=Ke(W.idToken);U(ce,A,"internal-error");const{sub:Ve}=ce;return U(y.uid===Ve,A,"user-mismatch"),Hr._forOperation(y,P,W)}catch(W){throw"auth/user-not-found"===(null===(w=W)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),W}})).apply(this,arguments)}function Go(y,h){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(y,h,g=!1){const w="signIn",A=yield Gr(y,w,h),P=yield Hr._fromIdTokenResponse(y,w,A);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function In(y,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,f.Z)(function*(y,h){return Go(bn(y),h)})).apply(this,arguments)}function Tu(y,h){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y);return yield di(!1,g,h.providerId),fr(g,h)})).apply(this,arguments)}function io(y,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(y,h){return ns((0,R.m9)(y),h)})).apply(this,arguments)}function Au(y,h){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(y,h){return Tr(y,"POST","/v1/accounts:signInWithCustomToken",Lt(y,h))})).apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(y,h){const g=bn(y),w=yield Au(g,{token:h,returnSecureToken:!0}),A=yield Hr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class so{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ia._fromServerResponse(h,g):Ae(h,"internal-error")}}class Ia extends so{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ia(g)}}function mn(y,h,g){var w;U((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function xs(){return(xs=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:h};g&&mn(w,A,g),yield Fo(w,A)})).apply(this,arguments)}function Ta(){return(Ta=(0,f.Z)(function*(y,h,g){yield Ut((0,R.m9)(y),{oobCode:h,newPassword:g})})).apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(y,h){yield _a((0,R.m9)(y),{oobCode:h})})).apply(this,arguments)}function Sa(y,h){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),w=yield Ut(g,{oobCode:h}),A=w.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,g,"internal-error");default:U(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=so._fromServerResponse(bn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(y,h){const{data:g}=yield Sa((0,R.m9)(y),h);return g.email})).apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(y,h,g){const w=bn(y),A=yield $o(w,{returnSecureToken:!0,email:h,password:g}),P=yield Hr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Dc(){return(Dc=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:h};U(g.handleCodeInApp,w,"argument-error"),g&&mn(w,A,g),yield wa(w,A)})).apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y),A=Vo.credentialWithLink(h,g||Fe());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),In(w,A)})).apply(this,arguments)}function Ac(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:createAuthUri",Lt(y,h))})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(y,h){const w={identifier:h,continueUri:dt()?Fe():"http://localhost"},{signinMethods:A}=yield Ac((0,R.m9)(y),w);return A||[]})).apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(y,h){const g=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&mn(g.auth,A,h);const{email:P}=yield Sr(g.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function xu(){return(xu=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&mn(w.auth,P,g);const{email:W}=yield Gp(w.auth,P);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ou(y,h){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,f.Z)(function*(y,h){return rn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const w=(0,R.m9)(y),P={idToken:yield w.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},W=yield ir(w,Ou(w.auth,P));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ce=w.providerData.find(({providerId:Ve})=>"password"===Ve);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function Yn(y,h,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(y,h,g){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(P.email=h),g&&(P.password=g);const W=yield ir(y,Zl(w,P));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Pa{constructor(h,g,w={}){this.isNewUser=h,this.providerId=g,this.profile=w}}class cd extends Pa{constructor(h,g,w,A){super(h,g,w),this.username=A}}class Xh extends Pa{constructor(h,g){super(h,"facebook.com",g)}}class Mc extends cd{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ld extends Pa{constructor(h,g){super(h,"google.com",g)}}class xc extends cd{constructor(h,g,w){super(h,"twitter.com",g,w)}}function ku(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function En(y){var h,g;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const W=null===(g=null===(h=Ke(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Pa(P,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new Xh(P,A);case"github.com":return new Mc(P,A);case"google.com":return new ld(P,A);case"twitter.com":return new xc(P,A,y.screenName||null);case"custom":case"anonymous":return new Pa(P,null);default:return new Pa(P,w,A)}}(g)}class Oi{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new Oi("enroll",h)}static _fromMfaPendingCredential(h){return new Oi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,w;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Oi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return Oi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Na{constructor(h,g,w){this.session=h,this.hints=g,this.signInResolver=w}static _fromError(h,g){const w=bn(h),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(ce=>so._fromServerResponse(w,ce));U(A.mfaPendingCredential,w,"internal-error");const W=Oi._fromMfaPendingCredential(A.mfaPendingCredential);return new Na(W,P,function(){var ce=(0,f.Z)(function*(Ve){const Xe=yield Ve._process(w,W);delete A.mfaInfo,delete A.mfaPendingCredential;const yt=Object.assign(Object.assign({},A),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const ct=yield Hr._fromIdTokenResponse(w,g.operationType,yt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return U(g.user,w,"internal-error"),Hr._forOperation(g.user,g.operationType,yt);default:Ae(w,"internal-error")}});return function(Ve){return ce.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function rf(y,h){return rn(y,"POST","/v2/accounts/mfaEnrollment:start",Lt(y,h))}class ka{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>so._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new ka(h)}getSession(){var h=this;return(0,f.Z)(function*(){return Oi._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var w=this;return(0,f.Z)(function*(){const A=h,P=yield w.getSession(),W=yield ir(w.user,A._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){var w;const A="string"==typeof h?h:h.uid,P=yield g.user.getIdToken(),W=yield ir(g.user,function _y(y,h){return rn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(y,h))}(g.user.auth,{idToken:P,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ce})=>ce!==A),yield g.user._updateTokensIfNecessary(W);try{yield g.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(w=ce)||void 0===w?void 0:w.code))throw ce}})()}}const Fa=new WeakMap,Ps="__sak";class fd{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ps,"1"),this.storage.removeItem(Ps),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Va=(()=>{class y extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sf(){const y=(0,R.z$)();return sr(y)||ti(y)}()&&function Es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ma(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&g(w,P,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ce,Ve,Xe)=>{this.notifyListeners(ce,Xe)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const P=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},W=this.storage.getItem(A);!function Cn(){return(0,R.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,P=this;return(0,f.Z)(function*(){yield A().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,f.Z)(function*(){const P=yield w().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,A=this;return(0,f.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),co=(()=>{class y extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let cn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,f.Z)(function*(){const A=g,{eventId:P,eventType:W,data:ce}=A.data,Ve=w.handlersMap[W];if(!Ve?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:W});const Xe=Array.from(Ve).map(function(){var ct=(0,f.Z)(function*(er){return er(A.origin,ce)});return function(er){return ct.apply(this,arguments)}}()),yt=yield function gd(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return h.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:P,eventType:W,response:yt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Pi(y="",h=10){let g="";for(let w=0;w<h;w++)g+=Math.floor(10*Math.random());return y+g}class Ye{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,w=50){var A=this;return(0,f.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let W,ce;return new Promise((Ve,Xe)=>{const yt=Pi("",20);P.port1.start();const ct=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);ce={messageChannel:P,onMessage(er){const Bi=er;if(Bi.data.eventId===yt)switch(Bi.data.status){case"ack":clearTimeout(ct),W=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ve(Bi.data.response);break;default:clearTimeout(ct),clearTimeout(W),Xe(new Error("invalid_response"))}}},A.handlers.add(ce),P.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:h,eventId:yt,data:g},[P.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function sn(){return window}function Yo(){return typeof sn().WorkerGlobalScope<"u"&&"function"==typeof sn().importScripts}function xr(){return(xr=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ua="firebaseLocalStorageDb",Ns="firebaseLocalStorage",Oc="fbase_key";class hi{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ht(y,h){return y.transaction([Ns],h?"readwrite":"readonly").objectStore(Ns)}function Pc(){const y=indexedDB.open(Ua,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ns,{keyPath:Oc})}catch(A){g(A)}}),y.addEventListener("success",(0,f.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ns)?h(w):(w.close(),yield function lo(){const y=indexedDB.deleteDatabase(Ua);return new hi(y).toPromise()}(),h(yield Pc()))}))})}function Qo(y,h,g){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,f.Z)(function*(y,h,g){const w=ht(y,!0).put({[Oc]:h,value:g});return new hi(w).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(y,h){const g=ht(y,!1).get(h),w=yield new hi(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function $a(y,h){const g=ht(y,!0).delete(h);return new hi(g).toPromise()}const ks=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield Pc()),g.db})()}_withRetries(g){var w=this;return(0,f.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return Yo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=cn._getInstance(function af(){return Yo()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function Rs(){return xr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ye(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Fu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Pc();return yield Qo(g,Ps,"1"),yield $a(g,Ps),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries(P=>Qo(P,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,f.Z)(function*(){const A=yield w._withRetries(P=>function yn(y,h){return ja.apply(this,arguments)}(P,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(A=>$a(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const w=yield g._withRetries(W=>{const ce=ht(W,!1).getAll();return new hi(ce).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:W,value:ce}of w)P.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ce)&&(g.notifyListeners(W,ce),A.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!P.has(W)&&(g.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ri(y,h){return rn(y,"POST","/v2/accounts/mfaSignIn:start",Lt(y,h))}function Ha(){return(Ha=(0,f.Z)(function*(y){return(yield rn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Or(y){return new Promise((h,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=h,w.onerror=A=>{const P=ve("internal-error");P.customData=A,g(P)},w.type="text/javascript",w.charset="UTF-8",function Jo(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(w)})}function Fs(y){return`__${y}${Math.floor(1e6*Math.random())}`}const fo=1e12;class Qp{constructor(h){this.auth=h,this.counter=fo,this._widgets=new Map}render(h,g){const w=this.counter;return this._widgets.set(w,new cr(h,this.auth.name,g||{})),this.counter++,w}reset(h){var g;const w=h||fo;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(h){var g;return(null===(g=this._widgets.get(h||fo))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var w;return null===(w=g._widgets.get(h||fo))||void 0===w||w.execute(),""})()}}class cr{constructor(h,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof h?document.getElementById(h):h;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vu(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uu=Fs("rcb"),Ni=new nn(3e4,6e4);class ki{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=sn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return U(function Jp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(sn().grecaptcha):new Promise((w,A)=>{const P=sn().setTimeout(()=>{A(ve(h,"network-request-failed"))},Ni.get());sn()[Uu]=()=>{sn().clearTimeout(P),delete sn()[Uu];const ce=sn().grecaptcha;if(!ce)return void A(ve(h,"internal-error"));const Ve=ce.render;ce.render=(Xe,yt)=>{const ct=Ve(Xe,yt);return this.counter++,ct},this.hostLanguage=g,w(ce)},Or(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Uu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=sn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vy{load(h){return(0,f.Z)(function*(){return new Qp(h)})()}clearedOneInstance(){}}const on="recaptcha",Ls={theme:"light",type:"image"};class Vn{constructor(h,g=Object.assign({},Ls),w){this.parameters=g,this.type=on,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vy:new ki,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const W=ce=>{!ce||(h.tokenChangeListeners.delete(W),P(ce))};h.tokenChangeListeners.add(W),h.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof h)h(g);else if("string"==typeof h){const w=sn()[h];"function"==typeof w&&w(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){U(dt()&&!Yo(),h.auth,"internal-error"),yield function po(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function wr(y){return Ha.apply(this,arguments)}(h.auth);U(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _d{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Lo._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Rr(){return(Rr=(0,f.Z)(function*(y,h,g){const w=bn(y),A=yield Pt(w,h,(0,R.m9)(g));return new _d(A,P=>In(w,P))})).apply(this,arguments)}function Xo(){return(Xo=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y);yield di(!1,w,"phone");const A=yield Pt(w.auth,h,(0,R.m9)(g));return new _d(A,P=>Tu(w,P))})).apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y),A=yield Pt(w.auth,h,(0,R.m9)(g));return new _d(A,P=>io(w,P))})).apply(this,arguments)}function Pt(y,h,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(y,h,g){var w;const A=yield g.verify();try{let P;if(U("string"==typeof A,y,"argument-error"),U(g.type===on,y,"argument-error"),P="string"==typeof h?{phoneNumber:h}:h,"session"in P){const W=P.session;if("phoneNumber"in P)return U("enroll"===W.type,y,"internal-error"),(yield rf(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===W.type,y,"internal-error");const ce=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return U(ce,y,"missing-multi-factor-info"),(yield Ri(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Wp(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return W}}finally{g._reset()}})).apply(this,arguments)}function vd(){return(vd=(0,f.Z)(function*(y,h){yield fr((0,R.m9)(y),h)})).apply(this,arguments)}let ta=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,w){return Pt(this.auth,g,(0,R.m9)(w))}static credential(g,w){return Lo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Lo._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function tn(y,h){return h?oe(h):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class na extends eo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Zn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Zn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Zn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function go(y){return Go(y.auth,new na(y),y.bypassAuthState)}function Fc(y){const{auth:h,user:g}=y;return U(g,h,"internal-error"),ns(g,new na(y),y.bypassAuthState)}function Lc(y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,f.Z)(function*(y){const{auth:h,user:g}=y;return U(g,h,"internal-error"),fr(g,new na(y),y.bypassAuthState)})).apply(this,arguments)}class si{constructor(h,g,w,A,P=!1){this.auth=h,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(w,A){h.pendingPromise={resolve:w,reject:A};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(P){h.reject(P)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:W,error:ce,type:Ve}=h;if(ce)return void g.reject(ce);const Xe={auth:g.auth,requestUri:w,sessionId:A,tenantId:W||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Xe))}catch(yt){g.reject(yt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return go;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return Fc;default:Ae(this.auth,"internal-error")}}resolve(h){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qa=new nn(2e3,1e4);function za(){return(za=(0,f.Z)(function*(y,h,g){const w=bn(y);je(y,h,Si);const A=tn(w,g);return new mo(w,"signInViaPopup",h,A).executeNotNull()})).apply(this,arguments)}function Wa(){return(Wa=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y);je(w.auth,h,Si);const A=tn(w.auth,g);return new mo(w.auth,"reauthViaPopup",h,A,w).executeNotNull()})).apply(this,arguments)}function Bc(){return(Bc=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y);je(w.auth,h,Si);const A=tn(w.auth,g);return new mo(w.auth,"linkViaPopup",h,A,w).executeNotNull()})).apply(this,arguments)}let mo=(()=>{class y extends si{constructor(g,w,A,P,W){super(g,w,P,W),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const w=yield g.execute();return U(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,f.Z)(function*(){K(1===g.filter.length,"Popup operations only handle one event");const w=Pi();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,qa.get())};g()}}return y.currentPopupAction=null,y})();const Fi=new Map;class ju extends si{constructor(h,g,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let w=Fi.get(g.auth._key());if(!w){try{const P=(yield function yo(y,h){return Tt.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Fi.set(g.auth._key(),w)}return g.bypassAuthState||Fi.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(w,h);if("unknown"!==h.type){if(h.eventId){const A=yield w.auth._redirectUserForId(h.eventId);if(A)return w.user=A,g().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Tt(){return(Tt=(0,f.Z)(function*(y,h){const g=Za(h),w=_n(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function Vs(y,h){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(y,h){return _n(y)._set(Za(h),"true")})).apply(this,arguments)}function wd(y,h){Fi.set(y._key(),h)}function _n(y){return oe(y._redirectPersistence)}function Za(y){return Wn("pendingRedirect",y.config.apiKey,y.name)}function E(){return(E=(0,f.Z)(function*(y,h,g){const w=bn(y);je(y,h,Si);const A=tn(w,g);return yield Vs(A,w),A._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y);je(w.auth,h,Si);const A=tn(w.auth,g);yield Vs(A,w.auth);const P=yield st(w);return A._openRedirect(w.auth,h,"reauthViaRedirect",P)})).apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(y,h,g){const w=(0,R.m9)(y);je(w.auth,h,Si);const A=tn(w.auth,g);yield di(!1,w,h.providerId),yield Vs(A,w.auth);const P=yield st(w);return A._openRedirect(w.auth,h,"linkViaRedirect",P)})).apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(y,h){return yield bn(y)._initializationPromise,At(y,h,!1)})).apply(this,arguments)}function At(y,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(y,h,g=!1){const w=bn(y),A=tn(w,h),W=yield new ju(w,A,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,h)),W})).apply(this,arguments)}function st(y){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(y){const h=Pi(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Ya{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(g=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function jc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gi(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var w;if(h.error&&!gi(h)){const A=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const w=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pi(h))}saveEventToCache(h){this.cachedEventUids.add(pi(h)),this.lastProcessedEventTime=Date.now()}}function pi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function gi({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ra(y){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(y,h={}){return rn(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_o=/^https?/;function lf(){return(lf=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ra(y);for(const g of h)try{if(wy(g))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function wy(y){const h=Fe(),{protocol:g,hostname:w}=new URL(h);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===w}if(!_o.test(g))return!1;if(Wr.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const bd=new nn(3e4,6e4);function Qa(){const y=sn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Bs=null;function Cy(y){return Bs=Bs||function $c(y){return new Promise((h,g)=>{var w,A,P;function W(){Qa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Qa(),g(ve(y,"network-request-failed"))},timeout:bd.get()})}if(null!==(A=null===(w=sn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)h(gapi.iframes.getContext());else{if(null===(P=sn().gapi)||void 0===P||!P.load){const ce=Fs("iframefcb");return sn()[ce]=()=>{gapi.load?W():g(ve(y,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Ve=>g(Ve))}W()}}).catch(h=>{throw Bs=null,h})}(y),Bs}const df=new nn(5e3,15e3),Ey={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hc(y){const h=y.config;U(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?Mn(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:y.name,v:ue.SDK_VERSION},A=Xp.get(y.config.apiHost);A&&(w.eid=A);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,R.xO)(w).slice(1)}`}function js(){return js=(0,f.Z)(function*(y){const h=yield Cy(y),g=sn().gapi;return U(g,y,"internal-error"),h.open({where:document.body,url:Hc(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ey,dontclear:!0},w=>new Promise(function(){var A=(0,f.Z)(function*(P,W){yield w.restyle({setHideOnLeave:!1});const ce=ve(y,"network-request-failed"),Ve=sn().setTimeout(()=>{W(ce)},df.get());function Xe(){sn().clearTimeout(Ve),P(w)}w.ping(Xe).then(Xe,()=>{W(ce)})});return function(P,W){return A.apply(this,arguments)}}()))}),js.apply(this,arguments)}const Gc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sd(y,h,g,w,A,P){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:A};if(h instanceof Si){h.setDefaultLanguage(y.languageCode),W.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(W.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ve,Xe]of Object.entries(P||{}))W[Ve]=Xe}if(h instanceof no){const Ve=h.getScopes().filter(Xe=>""!==Xe);Ve.length>0&&(W.scopes=Ve.join(","))}y.tenantId&&(W.tid=y.tenantId);const ce=W;for(const Ve of Object.keys(ce))void 0===ce[Ve]&&delete ce[Ve];return`${function Dy({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(ce).slice(1)}`}const ff="webStorageSupport";class pf extends class qc{constructor(h){this.factorId=h}_process(h,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,w);case"signin":return this._finalizeSignIn(h,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new pf(h)}_finalizeEnroll(h,g,w){return function yy(y,h){return rn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(y,h))}(h,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function ss(y,h){return rn(y,"POST","/v2/accounts/mfaSignIn:finalize",Lt(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nw=(()=>{class y{constructor(){}static assertion(g){return pf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Ay="@firebase/auth";class rw{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(w=>{var A;h((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oa(){return window}function Hs(){return(Hs=(0,f.Z)(function*(y,h,g){var w;const{BuildInfo:A}=oa();K(h.sessionId,"AuthEvent did not contain a session ID");const P=yield tg(h.sessionId),W={};return ti()?W.ibi=A.packageName:_t()?W.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(W.appDisplayName=A.displayName),W.sessionId=P,Sd(y,g,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,W)})).apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(y){const{BuildInfo:h}=oa(),g={};ti()?g.iosBundleId=h.packageName:_t()?g.androidPackageName=h.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield ra(y,g)})).apply(this,arguments)}function Li(){return(Li=(0,f.Z)(function*(y,h,g){const{cordova:w}=oa();let A=()=>{};try{yield new Promise((P,W)=>{let ce=null;function Ve(){var ct;P();const er=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof er&&er(),"function"==typeof g?.close&&g.close()}function Xe(){ce||(ce=window.setTimeout(()=>{W(ve(y,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&Xe()}h.addPassiveListener(Ve),document.addEventListener("resume",Xe,!1),_t()&&document.addEventListener("visibilitychange",yt,!1),A=()=>{h.removePassiveListener(Ve),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",yt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function tg(y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(y){const h=My(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function My(y){if(K(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function gf(y){(0,ue._registerComponent)(new de.wA("auth",(h,{options:g})=>{const w=h.getProvider("app").getImmediate(),A=h.getProvider("heartbeat"),{apiKey:P,authDomain:W}=w.options;return((ce,Ve)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:ce.name}),U(!W?.includes(":"),"argument-error",{appName:ce.name});const Xe={apiKey:P,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ot(y)},yt=new Ro(ce,Ve,Xe);return function Le(y,h){const g=h?.persistence||[],w=(Array.isArray(g)?g:[g]).map(oe);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(w,h?.popupRedirectResolver)}(yt,g),yt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,w)=>{h.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new de.wA("auth-internal",h=>{const g=bn(h.getProvider("auth").getImmediate());return new rw(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Ay,"0.20.5",function iw(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(Ay,"0.20.5","esm2017")}("Browser");class xy extends Ya{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Md(y){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(y){const h=yield Zc()._get(xd(y));return h&&(yield Zc()._remove(xd(y))),h})).apply(this,arguments)}function rg(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*h.length);y.push(h.charAt(w))}return y.join("")}function Zc(){return oe(Va)}function xd(y){return Wn("authEvent",y.config.apiKey,y.name)}function Gu(y){if(!y?.includes("?"))return{};const[h,...g]=y.split("?");return(0,R.zd)(g.join("?"))}function Pd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Yc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Py(y=(0,R.z$)()){return!("file:"!==Yc()&&"ionic:"!==Yc()&&"capacitor:"!==Yc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ny(){try{const y=self.localStorage,h=Pi();if(y)return y.setItem(h,"1"),y.removeItem(h),!function cw(y=(0,R.z$)()){return function wf(){return(0,R.w1)()&&11===document?.documentMode}()||function Ry(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return wo()&&(0,R.hl)()}return!1}function wo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nr(){return(function aw(){return"http:"===Yc()||"https:"===Yc()}()||(0,R.ru)()||Py())&&!function uw(){return(0,R.b$)()||(0,R.UG)()}()&&Ny()&&!wo()}function Nd(){return Py()&&typeof document<"u"}function kd(){return(kd=(0,f.Z)(function*(){return!!Nd()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},Co=U,Fd="persistence";function zu(y){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(y){yield y._initializationPromise;const h=bf(),g=Wn(Fd,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function bf(){var y;try{return(null===(y=function ky(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const as=U;class Vi{constructor(){this.browserResolver=oe(class Ty{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=co,this._completeRedirectFn=At,this._overrideRedirectResult=wd}_openPopup(h,g,w,A){var P=this;return(0,f.Z)(function*(){var W;K(null===(W=P.eventManagers[h._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ce=Sd(h,g,w,Fe(),A);return function $s(y,h,g,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Ve=Object.assign(Object.assign({},Gc),{width:w.toString(),height:A.toString(),top:P,left:W}),Xe=(0,R.z$)().toLowerCase();g&&(ce=dr(Xe)?"_blank":g),gn(Xe)&&(h=h||"http://localhost",Ve.scrollbars="yes");const yt=Object.entries(Ve).reduce((er,[Bi,aa])=>`${er}${Bi}=${aa},`,"");if(function ci(y=(0,R.z$)()){var h;return ti(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Xe)&&"_self"!==ce)return function Td(y,h){const g=document.createElement("a");g.href=y,g.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(h||"",ce),new Dd(null);const ct=window.open(h||"",ce,yt);U(ct,y,"popup-blocked");try{ct.focus()}catch{}return new Dd(ct)}(h,ce,Pi())})()}_openRedirect(h,g,w,A){var P=this;return(0,f.Z)(function*(){return yield P._originValidation(h),function ur(y){sn().location.href=y}(Sd(h,g,w,Fe(),A)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(K(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(h);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const w=yield function hf(y){return js.apply(this,arguments)}(h),A=new Ya(h);return w.register("authEvent",P=>(U(P?.authEvent,h,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:A},g.iframes[h._key()]=w,A})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ff,{type:ff},A=>{var P;const W=null===(P=A?.[0])||void 0===P?void 0:P[ff];void 0!==W&&g(!!W),Ae(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function cf(y){return lf.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ma()||sr()||ti()}}),this.cordovaResolver=oe(class Kc{constructor(){this._redirectPersistence=co,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=At,this._overrideRedirectResult=wd}_initialize(h){var g=this;return(0,f.Z)(function*(){const w=h._key();let A=g.eventManagers.get(w);return A||(A=new xy(h),g.eventManagers.set(w,A),g.attachCallbackListeners(h,A)),A})()}_openPopup(h){Ae(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,w,A){var P=this;return(0,f.Z)(function*(){!function vf(y){var h,g,w,A,P,W,ce,Ve,Xe,yt;const ct=oa();U("function"==typeof(null===(h=ct?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=ct?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(A=null===(w=ct?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Ve=null===(ce=null===(W=ct?.cordova)||void 0===W?void 0:W.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(yt=null===(Xe=ct?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===yt?void 0:yt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const W=yield P._initialize(h);yield W.initialized(),W.resetRedirect(),function fi(){Fi.clear()}(),yield P._originValidation(h);const ce=function zc(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:rg(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(h,w,A);yield function Wc(y,h){return Zc()._set(xd(y),h)}(h,ce);const Ve=yield function yf(y,h,g){return Hs.apply(this,arguments)}(h,ce,g),Xe=yield function _f(y){const{cordova:h}=oa();return new Promise(g=>{h.plugins.browsertab.isAvailable(w=>{let A=null;w?h.plugins.browsertab.openUrl(y):A=h.InAppBrowser.open(y,function or(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ve);return function Gs(y,h,g){return Li.apply(this,arguments)}(h,W,Xe)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $u(y){return Ja.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:P}=oa(),W=setTimeout((0,f.Z)(function*(){yield Md(h),g.onEvent(Pd())}),500),ce=function(){var yt=(0,f.Z)(function*(ct){clearTimeout(W);const er=yield Md(h);let Bi=null;er&&ct?.url&&(Bi=function ow(y,h){var g,w;const A=function sg(y){const h=Gu(y),g=h.link?decodeURIComponent(h.link):void 0,w=Gu(g).link,A=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Gu(A).link||A||w||g||y}(h);if(A.includes("/__/auth/callback")){const P=Gu(A),W=P.firebaseError?function ig(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ce=null===(w=null===(g=W?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ve=ce?ve(ce):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(er,ct.url)),g.onEvent(Bi||Pd())});return function(er){return yt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Ve=A,Xe=`${P.packageName.toLowerCase()}://`;oa().handleOpenURL=function(){var yt=(0,f.Z)(function*(ct){if(ct.toLowerCase().startsWith(Xe)&&ce({url:ct}),"function"==typeof Ve)try{Ve(ct)}catch(er){console.error(er)}});return function(ct){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=co,this._completeRedirectFn=At,this._overrideRedirectResult=wd}_initialize(h){var g=this;return(0,f.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,w,A){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(h,g,w,A)})()}_openRedirect(h,g,w,A){var P=this;return(0,f.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(h,g,w,A)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Nd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return as(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Cf(){return kd.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function Ld(y){return y.unwrap()}function Fy(y){return Qc(y)}function Qc(y){const{_tokenResponse:h}=y instanceof R.ZR?y.customData:y;if(!h)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ta.credentialFromResult(y);const g=h.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=ba;break;case"facebook.com":w=Bo;break;case"github.com":w=nd;break;case"twitter.com":w=id;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:W,pendingToken:ce,nonce:Ve}=h;return P||W||A||ce?ce?g.startsWith("saml.")?jo._create(g,ce):Ji._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:A,accessToken:P}):new Uo(g).credential({idToken:A,accessToken:P,rawNonce:Ve}):null}return y instanceof R.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Xn(y,h){return h.catch(g=>{throw g instanceof R.ZR&&function Ef(y,h){var g,w;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=h)||void 0===w?void 0:w.code))h.resolver=new Df(y,function ar(y,h){var g;const w=(0,R.m9)(y),A=h;return U(h.customData.operationType,w,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Na._fromError(w,A)}(y,h));else if(A){const P=Qc(h),W=h;P&&(W.credential=P,W.tenantId=A.tenantId||void 0,W.email=A.email||void 0,W.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Fy(g),additionalUserInfo:ku(g),user:Ui.getOrCreate(A)}})}function If(y,h){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:w=>Xn(y,g.confirm(w))}})).apply(this,arguments)}class Df{constructor(h,g){this.resolver=g,this.auth=function Vd(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Xn(Ld(this.auth),this.resolver.resolveSignIn(h))}}class Ui{constructor(h){this._delegate=h,this.multiFactor=function hd(y){const h=(0,R.m9)(y);return Fa.has(h)||Fa.set(h,ka._fromUser(h)),Fa.get(h)}(h)}static getOrCreate(h){return Ui.USER_MAP.has(h)||Ui.USER_MAP.set(h,new Ui(h)),Ui.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,f.Z)(function*(){return Xn(g.auth,Tu(g._delegate,h))})()}linkWithPhoneNumber(h,g){var w=this;return(0,f.Z)(function*(){return If(w.auth,function Nc(y,h,g){return Xo.apply(this,arguments)}(w._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,f.Z)(function*(){return Xn(g.auth,function Uc(y,h,g){return Bc.apply(this,arguments)}(g._delegate,h,Vi))})()}linkWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield zu(bn(g.auth)),function Y(y,h,g){return function ie(y,h,g){return De.apply(this,arguments)}(y,h,g)}(g._delegate,h,Vi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,f.Z)(function*(){return Xn(g.auth,io(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return If(this.auth,function Ga(y,h,g){return ea.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Xn(this.auth,function uf(y,h,g){return Wa.apply(this,arguments)}(this._delegate,h,Vi))}reauthenticateWithRedirect(h){var g=this;return(0,f.Z)(function*(){return yield zu(bn(g.auth)),function D(y,h,g){return function M(y,h,g){return F.apply(this,arguments)}(y,h,g)}(g._delegate,h,Vi)})()}sendEmailVerification(h){return function Sc(y,h){return Wo.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,f.Z)(function*(){return yield function Ea(y,h){return es.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Jh(y,h){return Yn((0,R.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Nu(y,h){return Yn((0,R.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Bu(y,h){return vd.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ru(y,h){return Zo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Mu(y,h,g){return xu.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ui.USER_MAP=new WeakMap;const us=U;let eu=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;us(A,"invalid-api-key",{appName:g.name}),us(A,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?Vi:void 0;this._delegate=w.initialize({options:{persistence:Ly(A,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function hr(y,h,g){const w=bn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,P=Ds(h),{host:W,port:ce}=function Yi(y){const h=Ds(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:Ar(w.substr(P.length+1))}}{const[P,W]=w.split(":");return{host:P,port:Ar(W)}}}(h);w.config.emulator={url:`${P}//${W}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ce,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ts(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Aa(y,h){return zo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Sa(this._delegate,g)}confirmPasswordReset(g,w){return function ri(y,h,g){return Ta.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,f.Z)(function*(){return Xn(A._delegate,function Mi(y,h,g){return Ma.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Su(y,h){return Oa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Tc(y,h){return"EMAIL_SIGNIN"===li.parseLink(h)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,f.Z)(function*(){us(Nr(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function $e(y,h){return ft.apply(this,arguments)}(g._delegate,Vi);return w?Xn(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Jn(y,h){bn(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:P,error:W,complete:ce}=ug(g,w,A);return this._delegate.onAuthStateChanged(P,W,ce)}onIdTokenChanged(g,w,A){const{next:P,error:W,complete:ce}=ug(g,w,A);return this._delegate.onIdTokenChanged(P,W,ce)}sendSignInLinkToEmail(g,w){return function is(y,h,g){return Dc.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Da(y,h,g){return xs.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,f.Z)(function*(){let A;switch(function lw(y,h){Co(Object.values(Zr).includes(h),y,"invalid-persistence-type"),(0,R.b$)()?Co(h!==Zr.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Co(h===Zr.NONE,y,"unsupported-persistence-type"):wo()?Co(h===Zr.NONE||h===Zr.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Co(h===Zr.NONE||Ny(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Zr.SESSION:A=co;break;case Zr.LOCAL:A=(yield oe(ks)._isAvailable())?ks:Va;break;case Zr.NONE:A=Jt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xn(this._delegate,function od(y){return Yh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xn(this._delegate,In(this._delegate,g))}signInWithCustomToken(g){return Xn(this._delegate,function Ee(y,h){return Bt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Xn(this._delegate,function oo(y,h,g){return In((0,R.m9)(y),Vo.credential(h,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Xn(this._delegate,function ud(y,h,g){return xa.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return If(this._delegate,function Qn(y,h,g){return Rr.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,f.Z)(function*(){return us(Nr(),w._delegate,"operation-not-supported-in-this-environment"),Xn(w._delegate,function Vc(y,h,g){return za.apply(this,arguments)}(w._delegate,g,Vi))})()}signInWithRedirect(g){var w=this;return(0,f.Z)(function*(){return us(Nr(),w._delegate,"operation-not-supported-in-this-environment"),yield zu(w._delegate),function Cd(y,h,g){return function Ka(y,h,g){return E.apply(this,arguments)}(y,h,g)}(w._delegate,g,Vi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Os(y,h){return Ln.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zr,y})();function ug(y,h,g){let w=y;"function"!=typeof y&&({next:w,error:h,complete:g}=y);const A=w;return{next:W=>A(W&&Ui.getOrCreate(W)),error:h,complete:g}}function Ly(y,h){const g=function ag(y,h){const g=bf();if(!g)return[];const w=Wn(Fd,y,h);switch(g.getItem(w)){case Zr.NONE:return[Jt];case Zr.LOCAL:return[ks,co];case Zr.SESSION:return[co];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(ks)&&g.push(ks),typeof window<"u")for(const w of[Va,co])g.includes(w)||g.push(w);return g.includes(Jt)||g.push(Jt),g}class Tf{constructor(){this.providerId="phone",this._delegate=new ta(Ld(te.Z.auth()))}static credential(h,g){return ta.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Tf.PHONE_SIGN_IN_METHOD=ta.PHONE_SIGN_IN_METHOD,Tf.PROVIDER_ID=ta.PROVIDER_ID;const Vy=U;class Af{constructor(h,g,w=te.Z.app()){var A;Vy(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Vn(h,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cg(y){y.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new eu(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vo,FacebookAuthProvider:Bo,GithubAuthProvider:nd,GoogleAuthProvider:ba,OAuthProvider:Uo,SAMLAuthProvider:Mr,PhoneAuthProvider:Tf,PhoneMultiFactorGenerator:nw,RecaptchaVerifier:Af,TwitterAuthProvider:id,Auth:eu,AuthCredential:eo,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},9751:(at,Te,k)=>{k.d(Te,{y:()=>fe});var f=k(2961),te=k(727),R=k(8822),ue=k(9635),se=k(2416),he=k(576),de=k(2806);let fe=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const we=new Q;return we.source=this,we.operator=xe,we}subscribe(xe,we,et){const _e=function j(Q){return Q&&Q instanceof f.Lv||function B(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,te.Nn)(Q)}(xe)?xe:new f.Hp(xe,we,et);return(0,de.x)(()=>{const{operator:pe,source:Qe}=this;_e.add(pe?pe.call(_e,Qe):Qe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(xe){try{return this._subscribe(xe)}catch(we){xe.error(we)}}forEach(xe,we){return new(we=ge(we))((et,_e)=>{const pe=new f.Hp({next:Qe=>{try{xe(Qe)}catch(it){_e(it),pe.unsubscribe()}},error:_e,complete:et});this.subscribe(pe)})}_subscribe(xe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(xe)}[R.L](){return this}pipe(...xe){return(0,ue.U)(xe)(this)}toPromise(xe){return new(xe=ge(xe))((we,et)=>{let _e;this.subscribe(pe=>_e=pe,pe=>et(pe),()=>we(_e))})}}return Q.create=Ue=>new Q(Ue),Q})();function ge(Q){var Ue;return null!==(Ue=Q??se.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(at,Te,k)=>{k.d(Te,{x:()=>de});var f=k(9751),te=k(727);const ue=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(8737),he=k(2806);let de=(()=>{class ge extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new fe(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new ue}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Ue,observers:xe}=this;return Q||Ue?te.Lc:(this.currentObservers=null,xe.push(j),new te.w0(()=>{this.currentObservers=null,(0,se.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Ue,isStopped:xe}=this;Q?j.error(Ue):xe&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return ge.create=(B,j)=>new fe(B,j),ge})();class fe extends de{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,B)}error(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Q?Q:te.Lc}}},2961:(at,Te,k)=>{k.d(Te,{Hp:()=>et,Lv:()=>Q});var f=k(576),te=k(727),R=k(2416),ue=k(7849);function se(){}const he=ge("C",void 0,void 0);function ge(Ae,ve,be){return{kind:Ae,value:ve,error:be}}var B=k(3410),j=k(2806);class Q extends te.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,te.Nn)(ve)&&ve.add(this)):this.destination=it}static create(ve,be,je){return new et(ve,be,je)}next(ve){this.isStopped?Qe(function fe(Ae){return ge("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Qe(function de(Ae){return ge("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Qe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function xe(Ae,ve){return Ue.call(Ae,ve)}class we{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:be}=this;if(be.next)try{be.next(ve)}catch(je){_e(je)}}error(ve){const{partialObserver:be}=this;if(be.error)try{be.error(ve)}catch(je){_e(je)}else _e(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(be){_e(be)}}}class et extends Q{constructor(ve,be,je){let He;if(super(),(0,f.m)(ve)||!ve)He={next:ve??void 0,error:be??void 0,complete:je??void 0};else{let U;this&&R.v.useDeprecatedNextContext?(U=Object.create(ve),U.unsubscribe=()=>this.unsubscribe(),He={next:ve.next&&xe(ve.next,U),error:ve.error&&xe(ve.error,U),complete:ve.complete&&xe(ve.complete,U)}):He=ve}this.destination=new we(He)}}function _e(Ae){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ae):(0,ue.h)(Ae)}function Qe(Ae,ve){const{onStoppedNotification:be}=R.v;be&&B.z.setTimeout(()=>be(Ae,ve))}const it={closed:!0,next:se,error:function pe(Ae){throw Ae},complete:se}},727:(at,Te,k)=>{k.d(Te,{Lc:()=>he,w0:()=>se,Nn:()=>de});var f=k(576);const R=(0,k(3888).d)(ge=>function(j){ge(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Ue)=>`${Ue+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ue=k(8737);class se{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,f.m)(Q))try{Q()}catch(xe){B=xe instanceof R?xe.errors:[xe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const xe of Ue)try{fe(xe)}catch(we){B=B??[],we instanceof R?B=[...B,...we.errors]:B.push(we)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)fe(B);else{if(B instanceof se){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,ue.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,ue.P)(j,B),B instanceof se&&B._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const he=se.EMPTY;function de(ge){return ge instanceof se||ge&&"closed"in ge&&(0,f.m)(ge.remove)&&(0,f.m)(ge.add)&&(0,f.m)(ge.unsubscribe)}function fe(ge){(0,f.m)(ge)?ge():ge.unsubscribe()}},2416:(at,Te,k)=>{k.d(Te,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Te,k)=>{k.d(Te,{E:()=>te});const te=new(k(9751).y)(se=>se.complete())},8996:(at,Te,k)=>{k.d(Te,{D:()=>ve});var f=k(8421),te=k(5363),R=k(9468),he=k(9751),fe=k(2202),ge=k(576),B=k(9672);function Q(be,je){if(!be)throw new Error("Iterable cannot be null");return new he.y(He=>{(0,B.f)(He,je,()=>{const U=be[Symbol.asyncIterator]();(0,B.f)(He,je,()=>{U.next().then(ye=>{ye.done?He.complete():He.next(ye.value)})},0,!0)})})}var Ue=k(3670),xe=k(8239),we=k(1144),et=k(6495),_e=k(2206),pe=k(4532),Qe=k(3260);function ve(be,je){return je?function Ae(be,je){if(null!=be){if((0,Ue.c)(be))return function ue(be,je){return(0,f.Xf)(be).pipe((0,R.R)(je),(0,te.Q)(je))}(be,je);if((0,we.z)(be))return function de(be,je){return new he.y(He=>{let U=0;return je.schedule(function(){U===be.length?He.complete():(He.next(be[U++]),He.closed||this.schedule())})})}(be,je);if((0,xe.t)(be))return function se(be,je){return(0,f.Xf)(be).pipe((0,R.R)(je),(0,te.Q)(je))}(be,je);if((0,_e.D)(be))return Q(be,je);if((0,et.T)(be))return function j(be,je){return new he.y(He=>{let U;return(0,B.f)(He,je,()=>{U=be[fe.h](),(0,B.f)(He,je,()=>{let ye,K;try{({value:ye,done:K}=U.next())}catch(X){return void He.error(X)}K?He.complete():He.next(ye)},0,!0)}),()=>(0,ge.m)(U?.return)&&U.return()})}(be,je);if((0,Qe.L)(be))return function it(be,je){return Q((0,Qe.Q)(be),je)}(be,je)}throw(0,pe.z)(be)}(be,je):(0,f.Xf)(be)}},8421:(at,Te,k)=>{k.d(Te,{Xf:()=>Ue});var f=k(655),te=k(1144),R=k(8239),ue=k(9751),se=k(3670),he=k(2206),de=k(4532),fe=k(6495),ge=k(3260),B=k(576),j=k(7849),Q=k(8822);function Ue(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function xe(Ae){return new ue.y(ve=>{const be=Ae[Q.L]();if((0,B.m)(be.subscribe))return be.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,te.z)(Ae))return function we(Ae){return new ue.y(ve=>{for(let be=0;be<Ae.length&&!ve.closed;be++)ve.next(Ae[be]);ve.complete()})}(Ae);if((0,R.t)(Ae))return function et(Ae){return new ue.y(ve=>{Ae.then(be=>{ve.closed||(ve.next(be),ve.complete())},be=>ve.error(be)).then(null,j.h)})}(Ae);if((0,he.D)(Ae))return pe(Ae);if((0,fe.T)(Ae))return function _e(Ae){return new ue.y(ve=>{for(const be of Ae)if(ve.next(be),ve.closed)return;ve.complete()})}(Ae);if((0,ge.L)(Ae))return function Qe(Ae){return pe((0,ge.Q)(Ae))}(Ae)}throw(0,de.z)(Ae)}function pe(Ae){return new ue.y(ve=>{(function it(Ae,ve){var be,je,He,U;return(0,f.mG)(this,void 0,void 0,function*(){try{for(be=(0,f.KL)(Ae);!(je=yield be.next()).done;)if(ve.next(je.value),ve.closed)return}catch(ye){He={error:ye}}finally{try{je&&!je.done&&(U=be.return)&&(yield U.call(be))}finally{if(He)throw He.error}}ve.complete()})})(Ae,ve).catch(be=>ve.error(be))})}},6451:(at,Te,k)=>{k.d(Te,{T:()=>he});var f=k(8189),te=k(8421),R=k(515),ue=k(7669),se=k(8996);function he(...de){const fe=(0,ue.yG)(de),ge=(0,ue._6)(de,1/0),B=de;return B.length?1===B.length?(0,te.Xf)(B[0]):(0,f.J)(ge)((0,se.D)(B,fe)):R.E}},5403:(at,Te,k)=>{k.d(Te,{x:()=>te});var f=k(2961);function te(ue,se,he,de,fe){return new R(ue,se,he,de,fe)}class R extends f.Lv{constructor(se,he,de,fe,ge,B){super(se),this.onFinalize=ge,this.shouldUnsubscribe=B,this._next=he?function(j){try{he(j)}catch(Q){se.error(Q)}}:super._next,this._error=fe?function(j){try{fe(j)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(j){se.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(at,Te,k)=>{k.d(Te,{U:()=>R});var f=k(4482),te=k(5403);function R(ue,se){return(0,f.e)((he,de)=>{let fe=0;he.subscribe((0,te.x)(de,ge=>{de.next(ue.call(se,ge,fe++))}))})}},8189:(at,Te,k)=>{k.d(Te,{J:()=>R});var f=k(5577),te=k(4671);function R(ue=1/0){return(0,f.z)(te.y,ue)}},5577:(at,Te,k)=>{k.d(Te,{z:()=>fe});var f=k(4004),te=k(8421),R=k(4482),ue=k(9672),se=k(5403),de=k(576);function fe(ge,B,j=1/0){return(0,de.m)(B)?fe((Q,Ue)=>(0,f.U)((xe,we)=>B(Q,xe,Ue,we))((0,te.Xf)(ge(Q,Ue))),j):("number"==typeof B&&(j=B),(0,R.e)((Q,Ue)=>function he(ge,B,j,Q,Ue,xe,we,et){const _e=[];let pe=0,Qe=0,it=!1;const Ae=()=>{it&&!_e.length&&!pe&&B.complete()},ve=je=>pe<Q?be(je):_e.push(je),be=je=>{xe&&B.next(je),pe++;let He=!1;(0,te.Xf)(j(je,Qe++)).subscribe((0,se.x)(B,U=>{Ue?.(U),xe?ve(U):B.next(U)},()=>{He=!0},void 0,()=>{if(He)try{for(pe--;_e.length&&pe<Q;){const U=_e.shift();we?(0,ue.f)(B,we,()=>be(U)):be(U)}Ae()}catch(U){B.error(U)}}))};return ge.subscribe((0,se.x)(B,ve,()=>{it=!0,Ae()})),()=>{et?.()}}(Q,Ue,ge,j)))}},5363:(at,Te,k)=>{k.d(Te,{Q:()=>ue});var f=k(9672),te=k(4482),R=k(5403);function ue(se,he=0){return(0,te.e)((de,fe)=>{de.subscribe((0,R.x)(fe,ge=>(0,f.f)(fe,se,()=>fe.next(ge),he),()=>(0,f.f)(fe,se,()=>fe.complete(),he),ge=>(0,f.f)(fe,se,()=>fe.error(ge),he)))})}},3099:(at,Te,k)=>{k.d(Te,{B:()=>se});var f=k(8421),te=k(7579),R=k(2961),ue=k(4482);function se(de={}){const{connector:fe=(()=>new te.x),resetOnError:ge=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=de;return Q=>{let Ue,xe,we,et=0,_e=!1,pe=!1;const Qe=()=>{xe?.unsubscribe(),xe=void 0},it=()=>{Qe(),Ue=we=void 0,_e=pe=!1},Ae=()=>{const ve=Ue;it(),ve?.unsubscribe()};return(0,ue.e)((ve,be)=>{et++,!pe&&!_e&&Qe();const je=we=we??fe();be.add(()=>{et--,0===et&&!pe&&!_e&&(xe=he(Ae,j))}),je.subscribe(be),!Ue&&et>0&&(Ue=new R.Hp({next:He=>je.next(He),error:He=>{pe=!0,Qe(),xe=he(it,ge,He),je.error(He)},complete:()=>{_e=!0,Qe(),xe=he(it,B),je.complete()}}),(0,f.Xf)(ve).subscribe(Ue))})(Q)}}function he(de,fe,...ge){if(!0===fe)return void de();if(!1===fe)return;const B=new R.Hp({next:()=>{B.unsubscribe(),de()}});return fe(...ge).subscribe(B)}},9468:(at,Te,k)=>{k.d(Te,{R:()=>te});var f=k(4482);function te(R,ue=0){return(0,f.e)((se,he)=>{he.add(R.schedule(()=>se.subscribe(he),ue))})}},8505:(at,Te,k)=>{k.d(Te,{b:()=>se});var f=k(576),te=k(4482),R=k(5403),ue=k(4671);function se(he,de,fe){const ge=(0,f.m)(he)||de||fe?{next:he,error:de,complete:fe}:he;return ge?(0,te.e)((B,j)=>{var Q;null===(Q=ge.subscribe)||void 0===Q||Q.call(ge);let Ue=!0;B.subscribe((0,R.x)(j,xe=>{var we;null===(we=ge.next)||void 0===we||we.call(ge,xe),j.next(xe)},()=>{var xe;Ue=!1,null===(xe=ge.complete)||void 0===xe||xe.call(ge),j.complete()},xe=>{var we;Ue=!1,null===(we=ge.error)||void 0===we||we.call(ge,xe),j.error(xe)},()=>{var xe,we;Ue&&(null===(xe=ge.unsubscribe)||void 0===xe||xe.call(ge)),null===(we=ge.finalize)||void 0===we||we.call(ge)}))}):ue.y}},4408:(at,Te,k)=>{k.d(Te,{o:()=>se});var f=k(727);class te extends f.w0{constructor(de,fe){super()}schedule(de,fe=0){return this}}const R={setInterval(he,de,...fe){const{delegate:ge}=R;return ge?.setInterval?ge.setInterval(he,de,...fe):setInterval(he,de,...fe)},clearInterval(he){const{delegate:de}=R;return(de?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=k(8737);class se extends te{constructor(de,fe){super(de,fe),this.scheduler=de,this.work=fe,this.pending=!1}schedule(de,fe=0){if(this.closed)return this;this.state=de;const ge=this.id,B=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(B,ge,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(B,this.id,fe),this}requestAsyncId(de,fe,ge=0){return R.setInterval(de.flush.bind(de,this),ge)}recycleAsyncId(de,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;R.clearInterval(fe)}execute(de,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(de,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,fe){let B,ge=!1;try{this.work(de)}catch(j){ge=!0,B=j||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:de,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ge,this),null!=de&&(this.id=this.recycleAsyncId(fe,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Te,k)=>{k.d(Te,{v:()=>R});var f=k(6063);class te{constructor(se,he=te.now){this.schedulerActionCtor=se,this.now=he}schedule(se,he=0,de){return new this.schedulerActionCtor(this,se).schedule(de,he)}}te.now=f.l.now;class R extends te{constructor(se,he=te.now){super(se,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:he}=this;if(this._active)return void he.push(se);let de;this._active=!0;do{if(de=se.execute(se.state,se.delay))break}while(se=he.shift());if(this._active=!1,de){for(;se=he.shift();)se.unsubscribe();throw de}}}},4986:(at,Te,k)=>{k.d(Te,{z:()=>R});var f=k(4408);const R=new(k(7565).v)(f.o)},6063:(at,Te,k)=>{k.d(Te,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(at,Te,k)=>{k.d(Te,{z:()=>f});const f={setTimeout(te,R,...ue){const{delegate:se}=f;return se?.setTimeout?se.setTimeout(te,R,...ue):setTimeout(te,R,...ue)},clearTimeout(te){const{delegate:R}=f;return(R?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(at,Te,k)=>{k.d(Te,{h:()=>te});const te=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Te,k)=>{k.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(at,Te,k)=>{k.d(Te,{_6:()=>he,jO:()=>ue,yG:()=>se});var f=k(576);function R(de){return de[de.length-1]}function ue(de){return(0,f.m)(R(de))?de.pop():void 0}function se(de){return function te(de){return de&&(0,f.m)(de.schedule)}(R(de))?de.pop():void 0}function he(de,fe){return"number"==typeof R(de)?de.pop():fe}},8737:(at,Te,k)=>{function f(te,R){if(te){const ue=te.indexOf(R);0<=ue&&te.splice(ue,1)}}k.d(Te,{P:()=>f})},3888:(at,Te,k)=>{function f(te){const ue=te(se=>{Error.call(se),se.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(Te,{d:()=>f})},2806:(at,Te,k)=>{k.d(Te,{O:()=>ue,x:()=>R});var f=k(2416);let te=null;function R(se){if(f.v.useDeprecatedSynchronousErrorHandling){const he=!te;if(he&&(te={errorThrown:!1,error:null}),se(),he){const{errorThrown:de,error:fe}=te;if(te=null,de)throw fe}}else se()}function ue(se){f.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=se)}},9672:(at,Te,k)=>{function f(te,R,ue,se=0,he=!1){const de=R.schedule(function(){ue(),he?te.add(this.schedule(null,se)):this.unsubscribe()},se);if(te.add(de),!he)return de}k.d(Te,{f:()=>f})},4671:(at,Te,k)=>{function f(te){return te}k.d(Te,{y:()=>f})},1144:(at,Te,k)=>{k.d(Te,{z:()=>f});const f=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(at,Te,k)=>{k.d(Te,{D:()=>te});var f=k(576);function te(R){return Symbol.asyncIterator&&(0,f.m)(R?.[Symbol.asyncIterator])}},576:(at,Te,k)=>{function f(te){return"function"==typeof te}k.d(Te,{m:()=>f})},3670:(at,Te,k)=>{k.d(Te,{c:()=>R});var f=k(8822),te=k(576);function R(ue){return(0,te.m)(ue[f.L])}},6495:(at,Te,k)=>{k.d(Te,{T:()=>R});var f=k(2202),te=k(576);function R(ue){return(0,te.m)(ue?.[f.h])}},8239:(at,Te,k)=>{k.d(Te,{t:()=>te});var f=k(576);function te(R){return(0,f.m)(R?.then)}},3260:(at,Te,k)=>{k.d(Te,{L:()=>ue,Q:()=>R});var f=k(655),te=k(576);function R(se){return(0,f.FC)(this,arguments,function*(){const de=se.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,f.qq)(de.read());if(ge)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(fe)}}finally{de.releaseLock()}})}function ue(se){return(0,te.m)(se?.getReader)}},4482:(at,Te,k)=>{k.d(Te,{A:()=>te,e:()=>R});var f=k(576);function te(ue){return(0,f.m)(ue?.lift)}function R(ue){return se=>{if(te(se))return se.lift(function(he){try{return ue(he,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(at,Te,k)=>{k.d(Te,{U:()=>R,z:()=>te});var f=k(4671);function te(...ue){return R(ue)}function R(ue){return 0===ue.length?f.y:1===ue.length?ue[0]:function(he){return ue.reduce((de,fe)=>fe(de),he)}}},7849:(at,Te,k)=>{k.d(Te,{h:()=>R});var f=k(2416),te=k(3410);function R(ue){te.z.setTimeout(()=>{const{onUnhandledError:se}=f.v;if(!se)throw ue;se(ue)})}},4532:(at,Te,k)=>{function f(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Te,{z:()=>f})},655:(at,Te,k)=>{function ue(K,X){var oe={};for(var re in K)Object.prototype.hasOwnProperty.call(K,re)&&X.indexOf(re)<0&&(oe[re]=K[re]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(re=Object.getOwnPropertySymbols(K);Le<re.length;Le++)X.indexOf(re[Le])<0&&Object.prototype.propertyIsEnumerable.call(K,re[Le])&&(oe[re[Le]]=K[re[Le]])}return oe}function fe(K,X,oe,re){return new(oe||(oe=Promise))(function(Fe,dt){function zt(nn){try{We(re.next(nn))}catch(Mn){dt(Mn)}}function Gt(nn){try{We(re.throw(nn))}catch(Mn){dt(Mn)}}function We(nn){nn.done?Fe(nn.value):function Le(Fe){return Fe instanceof oe?Fe:new oe(function(dt){dt(Fe)})}(nn.value).then(zt,Gt)}We((re=re.apply(K,X||[])).next())})}function _e(K){return this instanceof _e?(this.v=K,this):new _e(K)}function pe(K,X,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,re=oe.apply(K,X||[]),Fe=[];return Le={},dt("next"),dt("throw"),dt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function dt(Kt){re[Kt]&&(Le[Kt]=function(Yt){return new Promise(function(Dr,Lt){Fe.push([Kt,Yt,Dr,Lt])>1||zt(Kt,Yt)})})}function zt(Kt,Yt){try{!function Gt(Kt){Kt.value instanceof _e?Promise.resolve(Kt.value.v).then(We,nn):Mn(Fe[0][2],Kt)}(re[Kt](Yt))}catch(Dr){Mn(Fe[0][3],Dr)}}function We(Kt){zt("next",Kt)}function nn(Kt){zt("throw",Kt)}function Mn(Kt,Yt){Kt(Yt),Fe.shift(),Fe.length&&zt(Fe[0][0],Fe[0][1])}}function it(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,X=K[Symbol.asyncIterator];return X?X.call(K):(K=function Q(K){var X="function"==typeof Symbol&&Symbol.iterator,oe=X&&K[X],re=0;if(oe)return oe.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&re>=K.length&&(K=void 0),{value:K&&K[re++],done:!K}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(Fe){oe[Fe]=K[Fe]&&function(dt){return new Promise(function(zt,Gt){!function Le(Fe,dt,zt,Gt){Promise.resolve(Gt).then(function(We){Fe({value:We,done:zt})},dt)}(zt,Gt,(dt=K[Fe](dt)).done,dt.value)})}}}k.d(Te,{FC:()=>pe,KL:()=>it,_T:()=>ue,mG:()=>fe,qq:()=>_e})},4650:(at,Te,k)=>{k.d(Te,{$8M:()=>ks,$Z:()=>Rg,AFp:()=>Cp,AaK:()=>fe,CRH:()=>$v,CZH:()=>Ph,CqO:()=>X_,D6c:()=>wE,EJc:()=>pT,F4k:()=>ch,FYo:()=>yt,FiY:()=>ie,G48:()=>sE,GfV:()=>aa,Gpc:()=>j,JOm:()=>tu,LFG:()=>_n,LSH:()=>Rd,Lbi:()=>o0,Lck:()=>$D,MMx:()=>Dv,NdJ:()=>lm,OlP:()=>vt,Oqu:()=>Er,PXZ:()=>m0,Q6J:()=>Dt,QGY:()=>J_,QP$:()=>Ul,Qsj:()=>ct,R0b:()=>Ei,RDi:()=>Ey,Rgc:()=>Ah,SBq:()=>ce,Sil:()=>kh,Suo:()=>jv,TTD:()=>Vo,TgZ:()=>am,X6Q:()=>E0,XFs:()=>pt,Xpm:()=>L,Xts:()=>Nr,Y36:()=>zd,YKP:()=>Cb,YNc:()=>ml,Yjl:()=>Wn,Yz7:()=>Yt,ZZ4:()=>iy,_Bn:()=>wb,_UZ:()=>qe,_Vd:()=>A,_c5:()=>xT,_uU:()=>cv,aQg:()=>Mp,c2e:()=>a0,cJS:()=>Lt,cg1:()=>bm,dDg:()=>Fh,dqk:()=>Ke,eFA:()=>v0,ekj:()=>Cl,eoX:()=>f0,f3M:()=>Cd,g9A:()=>Wm,h0i:()=>Ih,hGG:()=>OT,iGM:()=>dc,ifc:()=>nt,ip1:()=>jl,kL8:()=>Jf,lG2:()=>Jt,lqb:()=>Xn,lri:()=>Km,n5z:()=>$a,oAB:()=>Be,q4F:()=>Wu,qLn:()=>Ud,qOj:()=>im,qZA:()=>Sn,rWj:()=>Hl,sBO:()=>I0,sIi:()=>ah,s_b:()=>Fl,soG:()=>Nh,tb:()=>vu,tp0:()=>$e,uIk:()=>$n,vHH:()=>we,vpe:()=>qi,wAp:()=>Ct,xp6:()=>Dg,z2F:()=>Vh,zSh:()=>Ld,zs3:()=>rl});var f=k(7579),te=k(727),R=k(9751),ue=k(6451),se=k(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=he({__forward_ref__:he});function j(i){return i.__forward_ref__=j,i.toString=function(){return fe(this())},i}function Q(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}class we extends Error{constructor(s,a){super(function et(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function _e(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,s){throw new we(-201,!1)}function Gt(i,s){null==i&&function We(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Yt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Lt(i){return{providers:i.providers||[],imports:i.imports||[]}}function rn(i){return Oo(i,Ii)||Oo(i,ei)}function Oo(i,s){return i.hasOwnProperty(s)?i[s]:null}function Tr(i){return i&&(i.hasOwnProperty(Zi)||i.hasOwnProperty(Di))?i[Zi]:null}const Ii=he({\u0275prov:he}),Zi=he({\u0275inj:he}),ei=he({ngInjectableDef:he}),Di=he({ngInjectorDef:he});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let ln;function xn(i){const s=ln;return ln=i,s}function Ti(i,s,a){const c=rn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&pt.Optional?null:void 0!==s?s:void ve(fe(i))}function On(i){return{toString:i}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),nt=(()=>{return(i=nt||(nt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",nt;var i})();const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pn={},Vt=[],Fn=he({\u0275cmp:he}),bs=he({\u0275dir:he}),Qt=he({\u0275pipe:he}),Ai=he({\u0275mod:he}),$t=he({\u0275fac:he}),Z=he({__NG_ELEMENT_ID__:he});let H=0;function L(i){return On(()=>{const a=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||Vt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||nt.Emulated,id:"c"+H++,styles:i.styles||Vt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,_=i.features;return d.inputs=an(i.inputs,c),d.outputs=an(i.outputs),_&&_.forEach(C=>C(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(z).filter(Ie):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(gn).filter(Ie):null,d})}function z(i){return tt(i)||un(i)}function Ie(i){return null!==i}function Be(i){return On(()=>({type:i.type,bootstrap:i.bootstrap||Vt,declarations:i.declarations||Vt,imports:i.imports||Vt,exports:i.exports||Vt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function an(i,s){if(null==i)return pn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const Jt=L;function Wn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function tt(i){return i[Fn]||null}function un(i){return i[bs]||null}function gn(i){return i[Qt]||null}function sr(i,s){const a=i[Ai]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function Sr(i){return Array.isArray(i)&&"object"==typeof i[1]}function $r(i){return Array.isArray(i)&&!0===i[1]}function Fo(i){return 0!=(8&i.flags)}function to(i){return 2==(2&i.flags)}function wa(i){return 1==(1&i.flags)}function ni(i){return null!==i.template}function Gp(i){return 0!=(256&i[2])}function li(i,s){return i.hasOwnProperty($t)?i[$t]:null}class td{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vo(){return Si}function Si(i){return i.type.prototype.ngOnChanges&&(i.setInput=Uo),no}function no(){const i=ba(this),s=i?.current;if(s){const a=i.previous;if(a===pn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Uo(i,s,a,c){const d=ba(i)||function nd(i,s){return i[Bo]=s}(i,{previous:pn,current:null}),p=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[a],b=_[C];p[C]=new td(b&&b.currentValue,s,_===pn),i[c]=s}Vo.ngInherit=!0;const Bo="__ngSimpleChanges__";function ba(i){return i[Bo]||null}function Nn(i){for(;Array.isArray(i);)i=i[0];return i}function ro(i,s){return Nn(s[i])}function Gr(i,s){return Nn(s[i.index])}function Ea(i,s){return i.data[s]}function fr(i,s){const a=s[i];return Sr(a)?a:a[0]}function Ho(i){return 4==(4&i[2])}function di(i){return 64==(64&i[2])}function ns(i,s){return null==s?null:i[s]}function rs(i){i[18]=0}function Go(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Et={lFrame:Ou(null),bindingsEnabled:!0};function Ms(){return Et.bindingsEnabled}function Ee(){return Et.lFrame.lView}function Bt(){return Et.lFrame.tView}function mn(){let i=Da();for(;null!==i&&64===i.type;)i=i.parent;return i}function Da(){return Et.lFrame.currentTNode}function ri(i,s){const a=Et.lFrame;a.currentTNode=i,a.isParent=s}function Ta(){return Et.lFrame.isParent}function oo(){return Et.lFrame.bindingIndex++}function ud(i,s){const a=Et.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ac(s)}function Ac(i){Et.lFrame.currentDirectiveIndex=i}function Su(){return Et.lFrame.currentQueryIndex}function Oa(i){Et.lFrame.currentQueryIndex=i}function Sc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Wo(i,s,a){if(a&pt.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&pt.Host||(d=Sc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=Et.lFrame=xu();return c.currentTNode=s,c.lView=i,!0}function Mu(i){const s=xu(),a=i[1];Et.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function xu(){const i=Et.lFrame,s=null===i?null:i.child;return null===s?Ou(i):s}function Ou(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Pu(){const i=Et.lFrame;return Et.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ru=Pu;function Zo(){const i=Pu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yn(){return Et.lFrame.selectedIndex}function ii(i){Et.lFrame.selectedIndex=i}function En(){const i=Et.lFrame;return Ea(i.tView,i.selectedIndex)}function ku(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:x}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function ef(i,s,a){uo(i,s,3,a)}function tf(i,s,a,c){(3&i[2])===a&&uo(i,s,a,c)}function Ra(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function uo(i,s,a,c){const p=c??-1,_=s.length-1;let C=0;for(let b=void 0!==c?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(C=s[b],null!=c&&C>=c)break}else s[b]<0&&(i[18]+=65536),(C<p||-1==p)&&(my(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function my(i,s,a,c){const d=a[c]<0,p=a[c+1],C=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Ko{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ka(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],_=a[c++],C=a[c++];i.setAttribute(s,_,C,p)}else{const p=d,_=a[++c];hd(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),c++}}return c}function Fa(i){return 3===i||4===i||6===i}function hd(i){return 64===i.charCodeAt(0)}function Ps(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||fd(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function fd(i,s,a,c,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function sf(i){return-1!==i}function La(i){return 32767&i}function pr(i,s){let a=function Yp(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Va=!0;function pd(i){const s=Va;return Va=i,s}let Pi=0;const Ye={};function ur(i,s){const a=Rs(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,Yo(c.data,i),Yo(s,null),Yo(c.blueprint,null));const d=xr(i,s),p=i.injectorIndex;if(sf(d)){const _=La(d),C=pr(d,s),b=C[1].data;for(let T=0;T<8;T++)s[p+T]=C[_+T]|b[_+T]}return s[p+8]=d,p}function Yo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Rs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function xr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=ho(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Fu(i,s,a){!function sn(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Z)&&(c=a[Z]),null==c&&(c=a[Z]=Pi++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Ua(i,s,a){if(a&pt.Optional)return i;ve()}function md(i,s,a,c){if(a&pt.Optional&&void 0===c&&(c=null),0==(a&(pt.Self|pt.Host))){const d=i[9],p=xn(void 0);try{return d?d.get(s,c,a&pt.Optional):Ti(s,c,a&pt.Optional)}finally{xn(p)}}return Ua(c,0,a)}function Ns(i,s,a,c=pt.Default,d){if(null!==i){if(1024&s[2]){const _=function yd(i,s,a,c,d){let p=i,_=s;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const C=Oc(p,_,a,c|pt.Self,Ye);if(C!==Ye)return C;let b=p.parent;if(!b){const T=_[21];if(T){const x=T.get(a,Ye,c);if(x!==Ye)return x}b=ho(_),_=_[15]}p=b}return d}(i,s,a,c,Ye);if(_!==Ye)return _}const p=Oc(i,s,a,c,Ye);if(p!==Ye)return p}return md(s,a,c,d)}function Oc(i,s,a,c,d){const p=function Pc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Z)?i[Z]:void 0;return"number"==typeof s?s>=0?255&s:ja:s}(a);if("function"==typeof p){if(!Wo(s,i,c))return c&pt.Host?Ua(d,0,c):md(s,a,c,d);try{const _=p(c);if(null!=_||c&pt.Optional)return _;ve()}finally{Ru()}}else if("number"==typeof p){let _=null,C=Rs(i,s),b=-1,T=c&pt.Host?s[16][6]:null;for((-1===C||c&pt.SkipSelf)&&(b=-1===C?xr(i,s):s[C+8],-1!==b&&Ba(c,!1)?(_=s[1],C=La(b),s=pr(b,s)):C=-1);-1!==C;){const x=s[1];if(Qo(p,C,x.data)){const N=hi(C,s,a,_,c,T);if(N!==Ye)return N}b=s[C+8],-1!==b&&Ba(c,s[1].data[C+8]===T)&&Qo(p,C,s)?(_=x,C=La(b),s=pr(b,s)):C=-1}}return d}function hi(i,s,a,c,d,p){const _=s[1],C=_.data[i+8],x=ht(C,_,a,null==c?to(C)&&Va:c!=_&&0!=(3&C.type),d&pt.Host&&p===C);return null!==x?lo(s,_,x,C):Ye}function ht(i,s,a,c,d){const p=i.providerIndexes,_=s.data,C=1048575&p,b=i.directiveStart,x=p>>20,q=d?C+x:i.directiveEnd;for(let ee=c?C:C+x;ee<q;ee++){const Ce=_[ee];if(ee<b&&a===Ce||ee>=b&&Ce.type===a)return ee}if(d){const ee=_[b];if(ee&&ni(ee)&&ee.type===a)return b}return null}function lo(i,s,a,c){let d=i[a];const p=s.data;if(function nf(i){return i instanceof Ko}(d)){const _=d;_.resolving&&function Qe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new we(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():_e(i)}(p[a]));const C=pd(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?xn(_.injectImpl):null;Wo(i,c,pt.Default);try{d=i[a]=_.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function xc(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const _=Si(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==b&&xn(b),pd(C),_.resolving=!1,Ru()}}return d}function Qo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ba(i,s){return!(i&pt.Self||i&pt.Host&&s)}class yn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Ns(this._tNode,this._lView,s,c,a)}}function ja(){return new yn(mn(),Ee())}function $a(i){return On(()=>{const s=i.prototype.constructor,a=s[$t]||Lu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[$t]||Lu(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Lu(i){return Ue(i)?()=>{const s=Lu(Q(i));return s&&s()}:li(i)}function ho(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function ks(i){return function af(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(Fa(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(mn(),i)}const ss="__parameters__";function Or(i,s,a){return On(()=>{const c=function Jo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return C.annotation=_,C;function C(b,T,x){const N=b.hasOwnProperty(ss)?b[ss]:Object.defineProperty(b,ss,{value:[]})[ss];for(;N.length<=x;)N.push(null);return(N[x]=N[x]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class vt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Qn(c,s)):s!==i&&s.push(c)}return s}function Rr(i,s){i.forEach(a=>Array.isArray(a)?Rr(a,s):s(a))}function Nc(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Xo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function tn(i,s,a){let c=go(i,s);return c>=0?i[1|c]=a:(c=~c,function kc(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function na(i,s){const a=go(i,s);if(a>=0)return i[1|a]}function go(i,s){return function Lc(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),_=i[p<<a];if(s===_)return p<<a;_>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const mo={},os="__NG_DI_FLAG__",Fi="ngTempTokenPath",yo=/\n/gm,Vs="__source";let qr;function fi(i){const s=qr;return qr=i,s}function wd(i,s=pt.Default){if(void 0===qr)throw new we(-203,!1);return null===qr?Ti(i,void 0,s):qr.get(i,s&pt.Optional?null:void 0,s)}function _n(i,s=pt.Default){return(function ui(){return ln}()||wd)(Q(i),s)}function Cd(i,s=pt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),_n(i,s)}function Ka(i){const s=[];for(let a=0;a<i.length;a++){const c=Q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let d,p=pt.Default;for(let _=0;_<c.length;_++){const C=c[_],b=D(C);"number"==typeof b?-1===b?d=C.token:p|=b:d=C}s.push(_n(d,p))}else s.push(_n(c))}return s}function E(i,s){return i[os]=s,i.prototype[os]=s,i}function D(i){return i[os]}const ie=E(Or("Optional"),8),$e=E(Or("SkipSelf"),4);let ia;function Ey(i){ia=i}class sa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vo(i){return i instanceof sa?i.changingThisBreaksApplicationSecurity:i}const yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$u=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function Rd(i){const s=function wo(){const i=Ee();return i&&i[12]}();return s?s.sanitize(Jn.URL,i)||"":function qc(i,s){const a=function pf(i){return i instanceof sa&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?vo(i):function Ja(i){return(i=String(i)).match(yf)||i.match($u)?i:"unsafe:"+i}(_e(i))}const Nr=new vt("ENVIRONMENT_INITIALIZER"),Nd=new vt("INJECTOR",-1),Cf=new vt("INJECTOR_DEF_TYPES");class kd{get(s,a=mo){if(a===mo){const c=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw c.name="NullInjectorError",c}return a}}function ky(...i){return{\u0275providers:Zr(0,i)}}function Zr(i,...s){const a=[],c=new Set;let d;return Rr(s,p=>{const _=p;Fd(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&Co(d,a),a}function Co(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Rr(d,p=>{s.push(p)})}}function Fd(i,s,a,c){if(!(i=Q(i)))return!1;let d=null,p=Tr(i);const _=!p&&tt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const b=i.ngModule;if(p=Tr(b),!p)return!1;d=b}const C=c.has(d);if(_){if(C)return!1;if(c.add(d),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of b)Fd(T,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let T;c.add(d);try{Rr(p.imports,x=>{Fd(x,s,a,c)&&(T||(T=[]),T.push(x))})}finally{}void 0!==T&&Co(T,s)}if(!C){const T=li(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:Vt},{provide:Cf,useValue:d,multi:!0},{provide:Nr,useValue:()=>_n(d),multi:!0})}const b=p.providers;null==b||C||Rr(b,x=>{s.push(x)})}}return d!==i&&void 0!==i.providers}const zu=he({provide:String,useValue:he});function bo(i){return null!==i&&"object"==typeof i&&zu in i}function as(i){return"function"==typeof i}const Ld=new vt("Set Injector scope."),Vd={},Fy={};let Ef;function Qc(){return void 0===Ef&&(Ef=new kd),Ef}class Xn{}class If extends Xn{constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(s,_=>this.processProvider(_)),this.records.set(Nd,eu(void 0,this)),d.has("environment")&&this.records.set(Xn,eu(void 0,this));const p=this.records.get(Ld);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Cf.multi,Vt,pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=fi(this),c=xn(void 0);try{return s()}finally{fi(a),xn(c)}}get(s,a=mo,c=pt.Default){this.assertNotDestroyed();const d=fi(this),p=xn(void 0);try{if(!(c&pt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const b=function Tf(i){return"function"==typeof i||"object"==typeof i&&i instanceof vt}(s)&&rn(s);C=b&&this.injectableDefInScope(b)?eu(Jc(s),Vd):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(c&pt.Self?Qc():this.parent).get(s,a=c&pt.Optional&&a===mo?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Fi]=_[Fi]||[]).unshift(fe(s)),d)throw _;return function M(i,s,a,c){const d=i[Fi];throw s[Vs]&&d.unshift(s[Vs]),i.message=function F(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=fe(s);if(Array.isArray(s))d=s.map(fe).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(yo,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Fi]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{xn(p),fi(d)}}resolveInjectorInitializers(){const s=fi(this),a=xn(void 0);try{const c=this.get(Nr.multi,Vt,pt.Self);for(const d of c)d()}finally{fi(s),xn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(fe(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(s){let a=as(s=Q(s))?s:Q(s&&s.provide);const c=function Ui(i){return bo(i)?eu(void 0,i.useValue):eu(us(i),Vd)}(s);if(as(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=eu(void 0,Vd,!0),d.factory=()=>Ka(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Vd&&(a.value=Fy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ly(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Jc(i){const s=rn(i),a=null!==s?s.factory:li(i);if(null!==a)return a;if(i instanceof vt)throw new we(204,!1);if(i instanceof Function)return function Df(i){const s=i.length;if(s>0)throw function Ga(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new we(204,!1);const a=function Xr(i){const s=i&&(i[Ii]||i[ei]);if(s){const a=function vr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new we(204,!1)}function us(i,s,a){let c;if(as(i)){const d=Q(i);return li(d)||Jc(d)}if(bo(i))c=()=>Q(i.useValue);else if(function bf(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ka(i.deps||[]));else if(function ag(i){return!(!i||!i.useExisting)}(i))c=()=>_n(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function ug(i){return!!i.deps}(i))return li(d)||Jc(d);c=()=>new d(...Ka(i.deps))}return c}function eu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Vy(i){return!!i.\u0275providers}function Af(i,s){for(const a of i)Array.isArray(a)?Af(a,s):Vy(a)?Af(a.\u0275providers,s):s(a)}class cg{}class w{resolveComponentFactory(s){throw function y(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let A=(()=>{class i{}return i.NULL=new w,i})();function P(){return W(mn(),Ee())}function W(i,s){return new ce(Gr(i,s))}let ce=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=P,i})();function Ve(i){return i instanceof ce?i.nativeElement:i}class yt{}let ct=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function er(){const i=Ee(),a=fr(mn().index,i);return(Sr(a)?a:i)[11]}(),i})(),Bi=(()=>{class i{}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:()=>null}),i})();class aa{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Wu=new aa("14.1.2"),Zu={};function hg(i){return i.ngOriginalError}class Ud{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&hg(s);for(;a&&hg(a);)a=hg(a);return a||null}}const fg=new Map;let zy=0;const Of="__ngContext__";function kr(i,s){Sr(s)?(i[Of]=s[20],function vw(i){fg.set(i[20],i)}(s)):i[Of]=s}function Pf(i){const s=i[Of];return"number"==typeof s?function ww(i){return fg.get(i)||null}(s):s||null}function Zy(i){const s=Pf(i);return s?Sr(s)?s:s.lView:null}const Ew=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ke))();function ua(i){return i instanceof Function?i():i}var tu=(()=>((tu=tu||{})[tu.Important=1]="Important",tu[tu.DashCase=2]="DashCase",tu))();function yg(i,s){return undefined(i,s)}function jd(i){const s=i[3];return $r(s)?s[3]:s}function Qy(i){return Xy(i[13])}function Jy(i){return Xy(i[4])}function Xy(i){for(;null!==i&&!$r(i);)i=i[4];return i}function nl(i,s,a,c,d){if(null!=c){let p,_=!1;$r(c)?p=c:Sr(c)&&(_=!0,c=c[0]);const C=Nn(c);0===i&&null!==a?null==d?$d(s,a,C):Cr(s,a,C,d||null,!0):1===i&&null!==a?Cr(s,a,C,d||null,!0):2===i?function Pw(i,s,a){const c=qs(i,s);c&&function Ft(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,C,_):3===i&&s.destroyNode(C),null!=p&&function OI(i,s,a,c,d){const p=a[7];p!==Nn(a)&&nl(s,i,c,p,d);for(let C=10;C<a.length;C++){const b=a[C];Yu(b[1],b,i,s,c,p)}}(s,i,p,a,d)}}function t_(i,s,a){return i.createElement(s,a)}function Mw(i,s){const a=i[9],c=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,Go(d,-1)),a.splice(c,1)}function Fr(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Mw(d,c),s>0&&(i[a-1][4]=c[4]);const p=Xo(i,10+s);!function n_(i,s){Yu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function _g(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Yu(i,s,a,3,null,null),function SI(i){let s=i[13];if(!s)return r_(i[1],i);for(;s;){let a=null;if(Sr(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Sr(s)&&r_(s[1],s),s=s[3];null===s&&(s=i),Sr(s)&&r_(s[1],s),a=s&&s[4]}s=a}}(s)}}function r_(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Eo(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Ko)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=d[p[_]],b=p[_+1];try{b.call(C)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function MI(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],C="function"==typeof _?_(s):Nn(s[_]),b=c[d=a[p+2]],T=a[p+3];"boolean"==typeof T?C.removeEventListener(a[p],b,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),p+=2}else{const _=c[d=a[p+1]];a[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&$r(s[3])){a!==s[3]&&Mw(a,s);const c=s[19];null!==c&&c.detachView(i)}!function pI(i){fg.delete(i[20])}(s)}}function xI(i,s,a){return function xw(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return Gr(c,a)}(i,s.parent,a)}function Cr(i,s,a,c,d){i.insertBefore(s,a,c,d)}function $d(i,s,a){i.appendChild(s,a)}function nu(i,s,a,c,d){null!==c?Cr(i,s,a,c,d):$d(i,s,a)}function qs(i,s){return i.parentNode(s)}let Rf=function Rt(i,s,a){return 40&i.type?Gr(i,a):null};function wg(i,s,a,c){const d=xI(i,c,s),p=s[11],C=function vg(i,s,a){return Rf(i,s,a)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)nu(p,d,a[b],C,!1);else nu(p,d,a,C,!1)}function Gd(i,s){if(null!==s){const a=s.type;if(3&a)return Gr(s,i);if(4&a)return i_(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Gd(i,c);{const d=i[s.index];return $r(d)?i_(-1,d):Nn(d)}}if(32&a)return yg(s,i)()||Nn(i[s.index]);{const c=Ow(i,s);return null!==c?Array.isArray(c)?c[0]:Gd(jd(i[16]),c):Gd(i,s.next)}}return null}function Ow(i,s){return null!==s?i[16][6].projection[s.projection]:null}function i_(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Gd(c,d)}return s[7]}function br(i,s,a,c,d,p,_){for(;null!=a;){const C=c[a.index],b=a.type;if(_&&0===s&&(C&&kr(Nn(C),c),a.flags|=4),64!=(64&a.flags))if(8&b)br(i,s,a.child,c,d,p,!1),nl(s,i,d,C,p);else if(32&b){const T=yg(a,c);let x;for(;x=T();)nl(s,i,d,x,p);nl(s,i,d,C,p)}else 16&b?ru(i,s,c,a,d,p):nl(s,i,d,C,p);a=_?a.projectionNext:a.next}}function Yu(i,s,a,c,d,p){br(a,c,i.firstChild,s,d,p,!1)}function ru(i,s,a,c,d,p){const _=a[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)nl(s,i,d,b[T],p);else br(i,s,b,_[3],d,p,!0)}function s_(i,s,a){i.setAttribute(s,"style",a)}function Cg(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Rw(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const bg="ng-template";function Eg(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==Rw(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function o_(i){return 4===i.type&&i.value!==bg}function yi(i,s,a){return s===(4!==i.type||a?i.value:bg)}function a_(i,s,a){let c=4;const d=i.attrs||[],p=function kw(i){for(let s=0;s<i.length;s++)if(Fa(i[s]))return s;return i.length}(d);let _=!1;for(let C=0;C<s.length;C++){const b=s[C];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!yi(i,b,a)||""===b&&1===s.length){if(Tn(c))return!1;_=!0}}else{const T=8&c?b:s[++C];if(8&c&&null!==i.attrs){if(!Eg(i.attrs,T,a)){if(Tn(c))return!1;_=!0}continue}const N=Nw(8&c?"class":b,d,o_(i),a);if(-1===N){if(Tn(c))return!1;_=!0;continue}if(""!==T){let q;q=N>p?"":d[N+1].toLowerCase();const ee=8&c?q:null;if(ee&&-1!==Rw(ee,T,0)||2&c&&T!==q){if(Tn(c))return!1;_=!0}}}}else{if(!_&&!Tn(c)&&!Tn(b))return!1;if(_&&Tn(b))continue;_=!1,c=b|1&c}}return Tn(c)||_}function Tn(i){return 0==(1&i)}function Nw(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function Fw(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function u_(i,s,a=!1){for(let c=0;c<s.length;c++)if(a_(i,s[c],a))return!0;return!1}function Ig(i,s){return i?":not("+s.trim()+")":s}function NI(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const C=i[++a];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Tn(_)&&(s+=Ig(p,d),d=""),c=_,p=p||!Tn(c);a++}return""!==d&&(s+=Ig(p,d)),s}const Nt={};function Dg(i){l_(Bt(),Ee(),Yn()+i,!1)}function l_(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&ef(s,p,a)}else{const p=i.preOrderHooks;null!==p&&tf(s,p,0,a)}ii(a)}function h_(i,s=null,a=null,c){const d=jw(i,s,a,c);return d.resolveInjectorInitializers(),d}function jw(i,s=null,a=null,c,d=new Set){const p=[a||Vt,ky(i)];return c=c||("object"==typeof i?void 0:fe(i)),new If(p,s||Qc(),c||null,d)}let rl=(()=>{class i{static create(a,c){if(Array.isArray(a))return h_({name:""},c,a,"");{const d=a.name??"";return h_({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=mo,i.NULL=new kd,i.\u0275prov=Yt({token:i,providedIn:"any",factory:()=>_n(Nd)}),i.__NG_ELEMENT_ID__=-1,i})();function zd(i,s=pt.Default){const a=Ee();return null===a?_n(i,s):Ns(mn(),a,Q(i),s)}function Rg(){throw new Error("invalid")}function kg(i,s){return i<<17|s<<2}function cs(i){return i>>17&32767}function Wd(i){return 2|i}function Io(i){return(131068&i)>>2}function Vf(i,s){return-131069&i|s<<2}function I_(i){return 1|i}function Zg(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const _=i.data[p];Oa(d),_.contentQueries(2,s[p],p)}}}function iu(i,s,a,c,d,p,_,C,b,T,x){const N=s.blueprint.slice();return N[0]=d,N[2]=76|c,(null!==x||i&&1024&i[2])&&(N[2]|=1024),rs(N),N[3]=N[15]=i,N[8]=a,N[10]=_||i&&i[10],N[11]=C||i&&i[11],N[12]=b||i&&i[12]||null,N[9]=T||i&&i[9]||null,N[6]=p,N[20]=function _w(){return zy++}(),N[21]=x,N[16]=2==s.type?i[16]:N,N}function ec(i,s,a,c,d){let p=i.data[s];if(null===p)p=function su(i,s,a,c,d){const p=Da(),_=Ta(),b=i.data[s]=function ZI(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,s,a,c,d),function Dc(){return Et.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const _=function xs(){const i=Et.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ri(p,!0),p}function cl(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Kg(i,s,a){Mu(s);try{const c=i.viewQuery;null!==c&&tm(1,c,a);const d=i.template;null!==d&&jf(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Zg(i,s),i.staticViewQueries&&tm(2,i.viewQuery,a);const p=i.components;null!==p&&function R_(i,s){for(let a=0;a<s.length;a++)qf(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Zo()}}function Do(i,s,a,c){const d=s[2];if(128!=(128&d)){Mu(s);try{rs(s),function Ma(i){return Et.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&jf(i,s,a,2,c);const _=3==(3&d);if(_){const T=i.preOrderCheckHooks;null!==T&&ef(s,T,null)}else{const T=i.preOrderHooks;null!==T&&tf(s,T,0,null),Ra(s,0)}if(function $_(i){for(let s=Qy(i);null!==s;s=Jy(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(512&d[2])&&Go(p,1),d[2]|=512}}}(s),function Xg(i){for(let s=Qy(i);null!==s;s=Jy(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];di(c)&&Do(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&Zg(i,s),_){const T=i.contentCheckHooks;null!==T&&ef(s,T)}else{const T=i.contentHooks;null!==T&&tf(s,T,1),Ra(s,1)}!function ul(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ii(~d);else{const p=d,_=a[++c],C=a[++c];ud(_,p),C(2,s[p])}}}finally{ii(-1)}}(i,s);const C=i.components;null!==C&&function zI(i,s){for(let a=0;a<s.length;a++)iC(i,s[a])}(s,C);const b=i.viewQuery;if(null!==b&&tm(2,b,c),_){const T=i.viewCheckHooks;null!==T&&ef(s,T)}else{const T=i.viewHooks;null!==T&&tf(s,T,2),Ra(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Go(s[3],-1))}finally{Zo()}}}function ou(i,s,a,c){const d=s[10],_=Ho(s);try{!_&&d.begin&&d.begin(),_&&Kg(i,s,c),Do(i,s,a,c)}finally{!_&&d.end&&d.end()}}function jf(i,s,a,c,d){const p=Yn(),_=2&c;try{ii(-1),_&&s.length>22&&l_(i,s,22,!1),a(c,d)}finally{ii(p)}}function Kd(i,s,a){!Ms()||(function YI(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||ur(a,s),kr(c,s);const _=a.initialInputs;for(let C=d;C<p;C++){const b=i.data[C],T=ni(b);T&&rC(s,a,b);const x=lo(s,i,C,a);kr(x,s),null!==_&&XI(0,C-d,x,b,0,_),T&&(fr(a.index,s)[8]=x)}}(i,s,a,Gr(a,s)),128==(128&a.flags)&&function QI(i,s,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,_=function xa(){return Et.lFrame.currentDirectiveIndex}();try{ii(p);for(let C=c;C<d;C++){const b=i.data[C],T=s[C];Ac(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&F_(b,T)}}finally{ii(-1),Ac(_)}}(i,s,a))}function Yg(i,s,a=Gr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],C=-1===_?a(s,i):i[_];i[d++]=C}}}function An(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Yd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Yd(i,s,a,c,d,p,_,C,b,T){const x=22+c,N=x+d,q=function WI(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Nt);return a}(x,N),ee="function"==typeof T?T():T;return q[1]={type:i,blueprint:q,template:a,queries:null,viewQuery:C,declTNode:s,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ee,incompleteFirstPass:!1}}function Qd(i,s,a,c){const d=ca(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&q_(i).push(c,d.length-1))}function N_(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function Xw(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,_=[];let C=null,b=null;for(let T=s.directiveStart;T<c;T++){const x=d[T],N=x.inputs,q=null===p||o_(s)?null:eD(N,p);_.push(q),C=N_(N,T,C),b=N_(x.outputs,T,b)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=b}function eC(i,s){const a=fr(s,i);16&a[2]||(a[2]|=32)}function Qg(i,s,a,c){let d=!1;if(Ms()){const p=function JI(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];u_(a,_.selectors,!1)&&(d||(d=[]),Fu(ur(a,s),i,_.type),ni(_)?(L_(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===c?null:{"":-1};if(null!==p){d=!0,Jg(a,i.data.length,p.length);for(let x=0;x<p.length;x++){const N=p[x];N.providersResolver&&N.providersResolver(N)}let C=!1,b=!1,T=cl(i,s,p.length,null);for(let x=0;x<p.length;x++){const N=p[x];a.mergedAttrs=Ps(a.mergedAttrs,N.hostAttrs),U_(i,a,s,T,N),V_(T,N,_),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const q=N.type.prototype;!C&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!b&&(q.ngOnChanges||q.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),T++}Xw(i,a)}_&&function nC(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new we(-301,!1);c.push(s[d],p)}}}(a,c,_)}return a.mergedAttrs=Ps(a.mergedAttrs,a.attrs),d}function k_(i,s,a,c,d,p){const _=p.hostBindings;if(_){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const b=~s.index;(function Jd(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=b&&C.push(b),C.push(c,d,_)}}function F_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function L_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function V_(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ni(s)&&(a[""]=i)}}function Jg(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function U_(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=li(d.type)),_=new Ko(p,ni(d),zd);i.blueprint[c]=_,a[c]=_,k_(i,s,0,c,cl(i,a,d.hostVars,Nt),d)}function rC(i,s,a){const c=Gr(s,i),d=An(a),p=i[10],_=Bn(i,iu(i,d,null,a.onPush?32:16,c,s,p,p.createRenderer(c,a),null,null,null));i[s.index]=_}function Ws(i,s,a,c,d,p){const _=Gr(i,s);!function B_(i,s,a,c,d,p,_){if(null==p)i.removeAttribute(s,d,a);else{const C=null==_?_e(p):_(p,c||"",d);i.setAttribute(s,d,C,a)}}(s[11],_,p,i.value,a,c,d)}function XI(i,s,a,c,d,p){const _=p[s];if(null!==_){const C=c.setInput;for(let b=0;b<_.length;){const T=_[b++],x=_[b++],N=_[b++];null!==C?c.setInput(a,N,T,x):a[x]=N}}}function eD(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Xd(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function iC(i,s){const a=fr(s,i);if(di(a)){const c=a[1];48&a[2]?Do(c,a,c.template,a[8]):a[5]>0&&dl(a)}}function dl(i){for(let c=Qy(i);null!==c;c=Jy(c))for(let d=10;d<c.length;d++){const p=c[d];if(di(p))if(512&p[2]){const _=p[1];Do(_,p,_.template,p[8])}else p[5]>0&&dl(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=fr(a[c],i);di(d)&&d[5]>0&&dl(d)}}function qf(i,s){const a=fr(s,i),c=a[1];(function tD(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Kg(c,a,a[8])}function Bn(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function em(i){for(;i;){i[2]|=32;const s=jd(i);if(Gp(i)&&!s)return i;i=s}return null}function oC(i){!function sC(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Zy(a);if(null!==c){const d=c[1];ou(d,c,d.template,a)}}}(i[8])}function tm(i,s,a){Oa(0),s(i,a)}const aC=(()=>Promise.resolve(null))();function ca(i){return i[7]||(i[7]=[])}function q_(i){return i.cleanup||(i.cleanup=[])}function nm(i,s){const a=i[9],c=a?a.get(Ud,null):null;c&&c.handleError(s)}function hl(i,s,a,c,d){for(let p=0;p<a.length;){const _=a[p++],C=a[p++],b=s[_],T=i.data[_];null!==T.setInput?T.setInput(b,d,c,C):b[C]=d}}function eh(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?p=C:1==p?d=ge(d,C):2==p&&(c=ge(c,C+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function fl(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(Nn(p)),$r(p))for(let C=10;C<p.length;C++){const b=p[C],T=b[1].firstChild;null!==T&&fl(b[1],b,T,c)}const _=a.type;if(8&_)fl(i,s,a.child,c);else if(32&_){const C=yg(a,s);let b;for(;b=C();)c.push(b)}else if(16&_){const C=Ow(s,a);if(Array.isArray(C))c.push(...C);else{const b=jd(s[16]);fl(b[1],b,C,c,!0)}}a=d?a.projectionNext:a.next}return c}class th{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return fl(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if($r(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Fr(s,c),Xo(a,c))}this._attachedToViewContainer=!1}_g(this._lView[1],this._lView)}onDestroy(s){Qd(this._lView[1],this._lView,null,s)}markForCheck(){em(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function H_(i,s,a){const c=s[10];c.begin&&c.begin();try{Do(i,s,i.template,a)}catch(d){throw nm(s,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function AI(i,s){Yu(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=s}}class z_ extends th{constructor(s){super(s),this._view=s}detectChanges(){oC(this._view)}checkNoChanges(){}get context(){return null}}class nh extends A{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=tt(s);return new rh(a,this.ngModule)}}function cC(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class zf{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const d=this.injector.get(s,Zu,c);return d!==Zu||a===Zu?d:this.parentInjector.get(s,a,c)}}class rh extends cg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function kI(i){return i.map(NI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return cC(this.componentDef.inputs)}get outputs(){return cC(this.componentDef.outputs)}create(s,a,c,d){let p=(d=d||this.ngModule)instanceof Xn?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new zf(s,p):s,C=_.get(yt,null);if(null===C)throw new we(407,!1);const b=_.get(Bi,null),T=C.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",N=c?function Hf(i,s,a){return i.selectRootElement(s,a===nt.ShadowDom)}(T,c,this.componentDef.encapsulation):t_(C.createRenderer(null,this.componentDef),x,function lC(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),q=this.componentDef.onPush?288:272,ee=function pC(i,s){return{components:[],scheduler:i||Ew,clean:aC,playerHandler:s||null,flags:0}}(),Ce=Yd(0,null,null,1,0,null,null,null,null,null),ke=iu(null,Ce,ee,q,null,null,C,T,b,_,null);let ze,Ne;Mu(ke);try{const It=function rm(i,s,a,c,d,p){const _=a[1];a[22]=i;const b=ec(_,22,2,"#host",null),T=b.mergedAttrs=s.hostAttrs;null!==T&&(eh(b,T,!0),null!==i&&(ka(d,i,T),null!==b.classes&&Cg(d,i,b.classes),null!==b.styles&&s_(d,i,b.styles)));const x=c.createRenderer(i,s),N=iu(a,An(s),null,s.onPush?32:16,a[22],b,c,x,p||null,null,null);return _.firstCreatePass&&(Fu(ur(b,a),_,s.type),L_(_,b),Jg(b,a.length,1)),Bn(a,N),a[22]=N}(N,this.componentDef,ke,C,T);if(N)if(c)ka(T,N,["ng-version",Wu.full]);else{const{attrs:Re,classes:lt}=function qd(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!Tn(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Re&&ka(T,N,Re),lt&&lt.length>0&&Cg(T,N,lt.join(" "))}if(Ne=Ea(Ce,22),void 0!==a){const Re=Ne.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Wt=a[lt];Re.push(null!=Wt?Array.from(Wt):null)}}ze=function fC(i,s,a,c,d){const p=a[1],_=function tC(i,s,a){const c=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),U_(i,c,s,cl(i,s,1,null),a),Xw(i,c));const d=lo(s,i,c.directiveStart,c);kr(d,s);const p=Gr(c,s);return p&&kr(p,s),d}(p,a,s);if(c.components.push(_),i[8]=_,null!==d)for(const b of d)b(_,s);if(s.contentQueries){const b=mn();s.contentQueries(1,_,b.directiveStart)}const C=mn();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ii(C.index),k_(a[1],C,0,C.directiveStart,C.directiveEnd,s),F_(s,_)),_}(It,this.componentDef,ke,ee,[pl]),Kg(Ce,ke,null)}finally{Zo()}return new W_(this.componentType,ze,W(Ne,ke),ke,Ne)}}class W_ extends class Uy{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new z_(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){const p=this._rootLView;hl(p[1],p,d,s,a),eC(p,this._tNode.index)}}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function pl(){const i=mn();ku(Ee()[1],i)}function im(i){let s=function Z_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ni(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new we(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=ih(i.inputs),_.declaredInputs=ih(i.declaredInputs),_.outputs=ih(i.outputs);const C=d.hostBindings;C&&yC(i,C);const b=d.viewQuery,T=d.contentQueries;if(b&&ds(i,b),T&&mC(i,T),de(i.inputs,d.inputs),de(i.declaredInputs,d.declaredInputs),de(i.outputs,d.outputs),ni(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(i),C===im&&(a=!1)}}s=Object.getPrototypeOf(s)}!function gC(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Ps(d.hostAttrs,a=Ps(a,d.hostAttrs))}}(c)}function ih(i){return i===pn?{}:i===Vt?[]:i}function ds(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function mC(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function yC(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let oh=null;function gl(){if(!oh){const i=Ke.Symbol;if(i&&i.iterator)oh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(oh=c)}}}return oh}function ah(i){return!!K_(i)&&(Array.isArray(i)||!(i instanceof Map)&&gl()in i)}function K_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function jn(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function $n(i,s,a,c){const d=Ee();return jn(d,oo(),s)&&(Bt(),Ws(En(),d,i,s,a,c)),$n}function ml(i,s,a,c,d,p,_,C){const b=Ee(),T=Bt(),x=i+22,N=T.firstCreatePass?function kt(i,s,a,c,d,p,_,C,b){const T=s.consts,x=ec(s,i,4,_||null,ns(T,C));Qg(s,a,x,ns(T,b)),ku(s,x);const N=x.tViews=Yd(2,x,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,x),N.queries=s.queries.embeddedTView(x)),x}(x,T,b,s,a,c,d,p,_):T.data[x];ri(N,!1);const q=b[11].createComment("");wg(T,b,q,N),kr(q,b),Bn(b,b[x]=Xd(q,b,q,N)),wa(N)&&Kd(T,b,N),null!=_&&Yg(b,N,C)}function Dt(i,s,a){const c=Ee();return jn(c,oo(),s)&&function ls(i,s,a,c,d,p,_,C){const b=Gr(s,a);let x,T=s.inputs;!C&&null!=T&&(x=T[c])?(hl(i,a,x,c,d),to(s)&&eC(a,s.index)):3&s.type&&(c=function KI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,p.setProperty(b,c,d))}(Bt(),En(),c,i,s,c[11],a,!1),Dt}function yl(i,s,a,c,d){const _=d?"class":"style";hl(i,a,s.inputs[_],_,c)}function am(i,s,a,c){const d=Ee(),p=Bt(),_=22+i,C=d[11],b=d[_]=t_(C,s,function ld(){return Et.lFrame.currentNamespace}()),T=p.firstCreatePass?function Xt(i,s,a,c,d,p,_){const C=s.consts,T=ec(s,i,2,d,ns(C,p));return Qg(s,a,T,ns(C,_)),null!==T.attrs&&eh(T,T.attrs,!1),null!==T.mergedAttrs&&eh(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,d,0,s,a,c):p.data[_];ri(T,!0);const x=T.mergedAttrs;null!==x&&ka(C,b,x);const N=T.classes;null!==N&&Cg(C,b,N);const q=T.styles;return null!==q&&s_(C,b,q),64!=(64&T.flags)&&wg(p,d,b,T),0===function Tu(){return Et.lFrame.elementDepthCount}()&&kr(b,d),function Ic(){Et.lFrame.elementDepthCount++}(),wa(T)&&(Kd(p,d,T),function $f(i,s,a){if(Fo(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}(p,T,d)),null!==c&&Yg(d,T),am}function Sn(){let i=mn();Ta()?function Aa(){Et.lFrame.isParent=!1}():(i=i.parent,ri(i,!1));const s=i;!function io(){Et.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(ku(a,i),Fo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ar(i){return 0!=(16&i.flags)}(s)&&yl(a,s,Ee(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function rf(i){return 0!=(32&i.flags)}(s)&&yl(a,s,Ee(),s.stylesWithoutHost,!1),Sn}function qe(i,s,a,c){return am(i,s,a,c),Sn(),qe}function J_(i){return!!i&&"function"==typeof i.then}function ch(i){return!!i&&"function"==typeof i.subscribe}const X_=ch;function lm(i,s,a,c){const d=Ee(),p=Bt(),_=mn();return function tv(i,s,a,c,d,p,_,C){const b=wa(c),x=i.firstCreatePass&&q_(i),N=s[8],q=ca(s);let ee=!0;if(3&c.type||C){const ze=Gr(c,s),Ne=C?C(ze):ze,It=q.length,Re=C?Wt=>C(Nn(Wt[c.index])):c.index;let lt=null;if(!C&&b&&(lt=function ev(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===c){const C=s[7],b=d[p+2];return C.length>b?C[b]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,c.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=p,lt.__ngLastListenerFn__=p,ee=!1;else{p=cu(c,s,N,p,!1);const Wt=a.listen(Ne,d,p);q.push(p,Wt),x&&x.push(d,Re,It,It+1)}}else p=cu(c,s,N,p,!1);const Ce=c.outputs;let ke;if(ee&&null!==Ce&&(ke=Ce[d])){const ze=ke.length;if(ze)for(let Ne=0;Ne<ze;Ne+=2){const xt=s[ke[Ne]][ke[Ne+1]].subscribe(p),nr=q.length;q.push(p,xt),x&&x.push(d,c.index,nr,-(nr+1))}}}(p,d,d[11],_,i,s,0,c),lm}function nv(i,s,a,c){try{return!1!==a(c)}catch(d){return nm(i,d),!1}}function cu(i,s,a,c,d){return function p(_){if(_===Function)return c;em(2&i.flags?fr(i.index,s):s);let b=nv(s,0,c,_),T=p.__ngNextListenerFn__;for(;T;)b=nv(s,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Gn(i,s,a,c,d){const p=i[a+1],_=null===s;let C=c?cs(p):Io(p),b=!1;for(;0!==C&&(!1===b||_);){const x=i[C+1];fm(i[C],s)&&(b=!0,i[C+1]=c?I_(x):Wd(x)),C=c?cs(x):Io(x)}b&&(i[a+1]=c?Wd(p):I_(p))}function fm(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&go(i,s)>=0}function Cl(i,s){return function Qr(i,s,a,c){const d=Ee(),p=Bt(),_=function is(i){const s=Et.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);p.firstUpdatePass&&function du(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[Yn()],_=function hh(i,s){return s>=i.expandoStartIndex}(i,a);(function uv(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!_&&(s=!1),s=function LC(i,s,a,c){const d=function ao(i){const s=Et.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=hu(a=Zf(null,i,s,a,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=Zf(d,i,s,a,c),null===p){let b=function fh(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Io(c))return i[cs(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=Zf(null,i,s,b[1],c),b=hu(b,s.attrs,c),function sv(i,s,a,c){i[cs(a?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else p=function bl(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=hu(c,i[p].hostAttrs,a);return hu(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function vl(i,s,a,c,d,p){let _=p?s.classBindings:s.styleBindings,C=cs(_),b=Io(_);i[c]=a;let x,T=!1;if(Array.isArray(a)){const N=a;x=N[1],(null===x||go(N,x)>0)&&(T=!0)}else x=a;if(d)if(0!==b){const q=cs(i[C+1]);i[c+1]=kg(q,C),0!==q&&(i[q+1]=Vf(i[q+1],c)),i[C+1]=function UI(i,s){return 131071&i|s<<17}(i[C+1],c)}else i[c+1]=kg(C,0),0!==C&&(i[C+1]=Vf(i[C+1],c)),C=c;else i[c+1]=kg(b,0),0===C?C=c:i[b+1]=Vf(i[b+1],c),b=c;T&&(i[c+1]=Wd(i[c+1])),Gn(i,x,c,!0),Gn(i,x,c,!1),function PC(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&go(p,s)>=0&&(a[c+1]=I_(a[c+1]))}(s,x,i,c,p),_=kg(C,b),p?s.classBindings=_:s.styleBindings=_}(d,p,s,a,_,c)}}(p,i,_,c),s!==Nt&&jn(d,_,s)&&function ph(i,s,a,c,d,p,_,C){if(!(3&s.type))return;const b=i.data,T=b[C+1];mm(function E_(i){return 1==(1&i)}(T)?av(b,s,a,d,Io(T),_):void 0)||(mm(p)||function b_(i){return 2==(2&i)}(T)&&(p=av(b,null,a,d,C,_)),function PI(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:tu.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=tu.Important),i.setStyle(a,c,d,p))}}(c,_,ro(Yn(),a),d,p))}(p,p.data[Yn()],d,d[11],i,d[_+1]=function pD(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(vo(i)))),i}(s,a),c,_)}(i,s,null,!0),Cl}function Zf(i,s,a,c,d){let p=null;const _=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<_&&(p=s[C],c=hu(c,p.hostAttrs,d),p!==i);)C++;return null!==i&&(a.directiveStylingLast=C),c}function hu(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),tn(i,_,!!a||s[++p]))}return void 0===i?null:i}function av(i,s,a,c,d,p){const _=null===s;let C;for(;d>0;){const b=i[d],T=Array.isArray(b),x=T?b[1]:b,N=null===x;let q=a[d+1];q===Nt&&(q=N?Vt:void 0);let ee=N?na(q,c):x===c?q:void 0;if(T&&!mm(ee)&&(ee=na(b,c)),mm(ee)&&(C=ee,_))return C;const Ce=i[d+1];d=_?cs(Ce):Io(Ce)}if(null!==s){let b=p?s.residualClasses:s.residualStyles;null!=b&&(C=na(b,c))}return C}function mm(i){return void 0!==i}function cv(i,s=""){const a=Ee(),c=Bt(),d=i+22,p=c.firstCreatePass?ec(c,d,1,s,null):c.data[d],_=a[d]=function e_(i,s){return i.createText(s)}(a[11],s);wg(c,a,_,p),ri(p,!1)}function Er(i){return ym("",i,""),Er}function ym(i,s,a){const c=Ee(),d=function tc(i,s,a,c){return jn(i,oo(),a)?s+_e(a)+c:Nt}(c,i,s,a);return d!==Nt&&function la(i,s,a){const c=ro(s,i);!function Aw(i,s,a){i.setValue(s,a)}(i[11],c,a)}(c,Yn(),d),ym}const pu=void 0;var ZC=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WC(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let _h={};function bm(i){const s=function vh(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=KC(s);if(a)return a;const c=s.split("-")[0];if(a=KC(c),a)return a;if("en"===c)return ZC;throw new we(701,!1)}function Jf(i){return bm(i)[Ct.PluralCase]}function KC(i){return i in _h||(_h[i]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[i]),_h[i]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const Ks="en-US";let JC=Ks;function Ys(i,s,a,c,d){if(i=Q(i),Array.isArray(i))for(let p=0;p<i.length;p++)Ys(i[p],s,a,c,d);else{const p=Bt(),_=Ee();let C=as(i)?i:Q(i.provide),b=us(i);const T=mn(),x=1048575&T.providerIndexes,N=T.directiveStart,q=T.providerIndexes>>20;if(as(i)||!i.multi){const ee=new Ko(b,d,zd),Ce=Sm(C,s,d?x:x+q,N);-1===Ce?(Fu(ur(T,_),p,C),Am(p,i,s.length),s.push(C),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ee),_.push(ee)):(a[Ce]=ee,_[Ce]=ee)}else{const ee=Sm(C,s,x+q,N),Ce=Sm(C,s,x,x+q),ke=ee>=0&&a[ee],ze=Ce>=0&&a[Ce];if(d&&!ze||!d&&!ke){Fu(ur(T,_),p,C);const Ne=function jD(i,s,a,c,d){const p=new Ko(i,a,zd);return p.multi=[],p.index=s,p.componentProviders=0,lp(p,d,c&&!a),p}(d?BD:UD,a.length,d,c,b);!d&&ze&&(a[Ce].providerFactory=Ne),Am(p,i,s.length,0),s.push(C),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Ne),_.push(Ne)}else Am(p,i,ee>-1?ee:Ce,lp(a[d?Ce:ee],b,!d&&c));!d&&c&&ze&&a[Ce].componentProviders++}}}function Am(i,s,a,c){const d=as(s),p=function Vi(i){return!!i.useClass}(s);if(d||p){const b=(p?Q(s.useClass):s).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,b]):T[x+1].push(c,b)}else T.push(a,b)}}}function lp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Sm(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function UD(i,s,a,c){return Ev(this.multi,[])}function BD(i,s,a,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=lo(a,a[1],this.providerFactory.index,c);p=C.slice(0,_),Ev(d,p);for(let b=_;b<C.length;b++)p.push(C[b])}else p=[],Ev(d,p);return p}function Ev(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function wb(i,s=[]){return a=>{a.providersResolver=(c,d)=>function vb(i,s,a){const c=Bt();if(c.firstCreatePass){const d=ni(i);Ys(a,c.data,c.blueprint,d,!0),Ys(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Ih{}class Cb{}function $D(i,s){return new bb(i,s??null)}class bb extends Ih{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nh(this);const c=sr(s);this._bootstrapComponents=ua(c.bootstrap),this._r3Injector=jw(s,a,[{provide:Ih,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],fe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Iv extends Cb{constructor(s){super(),this.moduleType=s}create(s){return new bb(this.moduleType,s)}}class HD extends Ih{constructor(s,a,c){super(),this.componentFactoryResolver=new nh(this),this.instance=null;const d=new If([...s,{provide:Ih,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],a||Qc(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Dv(i,s,a=null){return new HD(i,s,a).injector}function Pm(i){return s=>{setTimeout(i,void 0,s)}}const qi=class QD extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,p=a||(()=>null),_=c;if(s&&"object"==typeof s){const b=s;d=b.next?.bind(b),p=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(p=Pm(p),d&&(d=Pm(d)),_&&(_=Pm(_)));const C=super.subscribe({next:d,error:p,complete:_});return s instanceof te.w0&&s.add(C),C}};function Rm(){return this._results[gl()]()}class Nl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=gl(),c=Nl.prototype;c[a]||(c[a]=Rm)}get changes(){return this._changes||(this._changes=new qi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=Qn(s);(this._changesDetected=!function _d(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ah=(()=>{class i{}return i.__NG_ELEMENT_ID__=Fb,i})();const kb=Ah,zi=class extends kb{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,d=iu(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),Kg(c,d,s),new th(d)}};function Fb(){return kl(mn(),Ee())}function kl(i,s){return 4&i.type?new zi(s,i,W(i,s)):null}let Fl=(()=>{class i{}return i.__NG_ELEMENT_ID__=Lb,i})();function Lb(){return Vb(mn(),Ee())}const lc=Fl,Ll=class extends lc{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return W(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){const s=xr(this._hostTNode,this._hostLView);if(sf(s)){const a=pr(s,this._hostLView),c=La(s);return new yn(a[1].data[c+8],a)}return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Lv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=s.createEmbeddedView(a||{},p);return this.insert(_,d),_}createComponent(s,a,c,d,p){const _=s&&!function Vn(i){return"function"==typeof i}(s);let C;if(_)C=a;else{const N=a||{};C=N.index,c=N.injector,d=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const b=_?s:new rh(tt(s)),T=c||this.parentInjector;if(!p&&null==b.ngModule){const q=(_?T:this.parentInjector).get(Xn,null);q&&(p=q)}const x=b.create(T,d,void 0,p);return this.insert(x.hostView,C),x}insert(s,a){const c=s._lView,d=c[1];if(function ts(i){return $r(i[3])}(c)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const N=c[3],q=new Ll(N,N[6],N[3]);q.detach(q.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function XA(i,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],Nc(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function me(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=64}(d,c,_,p);const C=i_(p,_),b=c[11],T=qs(b,_[7]);return null!==T&&function TI(i,s,a,c,d,p){c[0]=d,c[6]=s,Yu(i,c,a,1,d,p)}(d,_[6],b,c,T,C),s.attachToViewContainerRef(),Nc(_u(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Lv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Fr(this._lContainer,a);c&&(Xo(_u(this._lContainer),a),_g(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Fr(this._lContainer,a);return c&&null!=Xo(_u(this._lContainer),a)?new th(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Lv(i){return i[8]}function _u(i){return i[8]||(i[8]=[])}function Vb(i,s){let a;const c=s[i.index];if($r(c))a=c;else{let d;if(8&i.type)d=Nn(c);else{const p=s[11];d=p.createComment("");const _=Gr(i,s);Cr(p,qs(p,_),d,function rt(i,s){return i.nextSibling(s)}(p,_),!1)}s[i.index]=a=Xd(c,s,d,i),Bn(s,a)}return new Ll(a,i,s)}class Nm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Nm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Vv(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Lm(s,a).matches&&this.queries[a].setDirty()}}class Bb{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Uv{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Uv(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Bv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Bv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,km(a,p)),this.matchTNodeWithReadOption(s,a,ht(a,s,p,!1,!1))}else c===Ah?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ht(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ce||d===Fl||d===Ah&&4&a.type)this.addMatch(a.index,-2);else{const p=ht(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function km(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function JD(i,s,a,c){return-1===a?function jb(i,s){return 11&i.type?W(i,s):4&i.type?kl(i,s):null}(s,i):-2===a?function $b(i,s,a){return a===ce?W(s,i):a===Ah?kl(s,i):a===Fl?Vb(s,i):void 0}(i,s,c):lo(i,i[1],a,s)}function Hb(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,_=a.matches,C=[];for(let b=0;b<_.length;b+=2){const T=_[b];C.push(T<0?null:JD(s,p[T],_[b+1],a.metadata.read))}d.matches=C}return d.matches}function Fm(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=Hb(i,s,d,a);for(let C=0;C<p.length;C+=2){const b=p[C];if(b>0)c.push(_[C/2]);else{const T=p[C+1],x=s[-b];for(let N=10;N<x.length;N++){const q=x[N];q[17]===q[3]&&Fm(q[1],q,T,c)}if(null!==x[9]){const N=x[9];for(let q=0;q<N.length;q++){const ee=N[q];Fm(ee[1],ee,T,c)}}}}}return c}function dc(i){const s=Ee(),a=Bt(),c=Su();Oa(c+1);const d=Lm(a,c);if(i.dirty&&Ho(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Fm(a,s,c,[]):Hb(a,s,d,c);i.reset(p,Ve),i.notifyOnChanges()}return!0}return!1}function jv(i,s,a,c){const d=Bt();if(d.firstCreatePass){const p=mn();(function Gb(i,s,a){null===i.queries&&(i.queries=new Uv),i.queries.track(new Bv(s,a))})(d,new Bb(s,a,c),p.index),function eT(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Hv(i,s,a){const c=new Nl(4==(4&a));Qd(i,s,c,c.destroy),null===s[19]&&(s[19]=new Vv),s[19].queries.push(new Nm(c))}(d,Ee(),a)}function $v(){return function XD(i,s){return i[19].queries[s].queryList}(Ee(),Su())}function Lm(i,s){return i.queries.getByIndex(s)}function Ul(i){const s=tt(i)||un(i)||gn(i);return null!==s&&s.standalone}function hc(...i){}const jl=new vt("Application Initializer");let Ph=(()=>{class i{constructor(a){this.appInits=a,this.resolve=hc,this.reject=hc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(J_(p))a.push(p);else if(X_(p)){const _=new Promise((C,b)=>{p.subscribe({complete:C,error:b})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_n(jl,8))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Cp=new vt("AppId",{providedIn:"root",factory:function Rh(){return`${zm()}${zm()}${zm()}`}});function zm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wm=new vt("Platform Initializer"),o0=new vt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vu=new vt("appBootstrapListener");let a0=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Nh=new vt("LocaleId",{providedIn:"root",factory:()=>Cd(Nh,pt.Optional|pt.SkipSelf)||function fT(){return typeof $localize<"u"&&$localize.locale||Ks}()}),pT=new vt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let kh=(()=>{class i{compileModuleSync(a){return new Iv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=ua(sr(a).declarations).reduce((_,C)=>{const b=tt(C);return b&&_.push(new rh(b)),_},[]);return new eE(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mT=(()=>Promise.resolve(0))();function bp(i){typeof Zone>"u"?mT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ei{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qi(!1),this.onMicrotaskEmpty=new qi(!1),this.onStable=new qi(!1),this.onError=new qi(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function yT(){let i=Ke.requestAnimationFrame,s=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function h0(i){const s=()=>{!function tE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ke,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ip(i),i.isCheckStableRunning=!0,Ep(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ip(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,_,C)=>{try{return Zm(i),a.invokeTask(d,p,_,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),$l(i)}},onInvoke:(a,c,d,p,_,C,b)=>{try{return Zm(i),a.invoke(d,p,_,C,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),$l(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Ip(i),Ep(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ei.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ei.isInAngularZone())throw new we(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,_T,hc,hc);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const _T={};function Ep(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ip(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Zm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $l(i){i._nesting--,Ep(i)}class fc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qi,this.onMicrotaskEmpty=new qi,this.onStable=new qi,this.onError=new qi}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Km=new vt(""),Hl=new vt("");let p0,Fh=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,p0||(function Lh(i){p0=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ei.assertNotInAngularZone(),bp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(_n(Ei),_n(f0),_n(Hl))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac}),i})(),f0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return p0?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),pc=null;const Ym=new vt("AllowMultipleToken"),Dp=new vt("PlatformDestroyListeners");class m0{constructor(s,a){this.name=s,this.token=a}}function v0(i,s,a=[]){const c=`Platform: ${s}`,d=new vt(c);return(p=[])=>{let _=C0();if(!_||_.injector.get(Ym,!1)){const C=[...a,...p,{provide:d,useValue:!0}];i?i(C):function y0(i){if(pc&&!pc.get(Ym,!1))throw new we(400,!1);pc=i;const s=i.get(rE);(function _0(i){const s=i.get(Wm,null);s&&s.forEach(a=>a())})(i)}(function w0(i=[],s){return rl.create({name:s,providers:[{provide:Ld,useValue:"platform"},{provide:Dp,useValue:new Set([()=>pc=null])},...i]})}(C,c))}return function nE(i){const s=C0();if(!s)throw new we(401,!1);return s}()}}function C0(){return pc?.get(rE)??null}let rE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function bT(i,s){let a;return a="noop"===i?new fc:("zone.js"===i?void 0:i)||new Ei(s),a}(c?.ngZone,function iE(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Ei,useValue:d}];return d.run(()=>{const _=rl.create({providers:p,parent:this.injector,name:a.moduleType.name}),C=a.create(_),b=C.injector.get(Ud,null);if(!b)throw new we(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:x=>{b.handleError(x)}});C.onDestroy(()=>{Xm(this._modules,C),T.unsubscribe()})}),function Qm(i,s,a){try{const c=a();return J_(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(b,d,()=>{const T=C.injector.get(Ph);return T.runInitializers(),T.donePromise.then(()=>(function XC(i){Gt(i,"Expected localeId to be defined"),"string"==typeof i&&(JC=i.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Nh,Ks)||Ks),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,c=[]){const d=Jm({},c);return function g0(i,s,a){const c=new Iv(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(Vh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new we(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Dp,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_n(rl))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Jm(i,s){return Array.isArray(s)?s.reduce(Jm,i):{...i,...s}}let Vh=(()=>{class i{constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new R.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new R.y(C=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ei.assertNotInAngularZone(),bp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ei.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ue.T)(p,_.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof cg;if(!this._injector.get(Ph).done)throw!d&&Ul(a),new we(405,false);let _;_=d?a:this._injector.get(A).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const C=function vT(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Ih),T=_.create(rl.NULL,[],c||_.selector,C),x=T.location.nativeElement,N=T.injector.get(Km,null);return N?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),Xm(this.components,T),N?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Xm(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Xm(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(_n(Ei),_n(Xn),_n(Ud))},i.\u0275prov=Yt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Xm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let ty=!0,b0=!1;function E0(){return b0=!0,ty}function sE(){if(b0)throw new Error("Cannot enable prod mode after platform setup.");ty=!1}let I0=(()=>{class i{}return i.__NG_ELEMENT_ID__=IT,i})();function IT(i){return function D0(i,s,a){if(to(i)&&!a){const c=fr(i.index,s);return new th(c,c)}return 47&i.type?new th(s[16],s):null}(mn(),Ee(),16==(16&i))}class M0{constructor(){}supports(s){return ah(s)}create(s){return new gE(s)}}const x0=(i,s)=>s;class gE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||x0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<mE(c,d,p)?a:c,C=mE(_,d,p),b=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const T=C-d,x=b-d;if(T!=x){for(let q=0;q<T;q++){const ee=q<p.length?p[q]:p[q]=0,Ce=ee+q;x<=Ce&&Ce<T&&(p[q]=ee+1)}p[_.previousIndex]=x-T}}C!==b&&s(_,C,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ah(s))throw new we(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],_=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,C),c=!0),a=a._next}else d=0,function sm(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[gl()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,C=>{_=this._trackByFn(d,C),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,C,_,d)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new AT(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ny),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ny),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class AT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ST{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class ny{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new ST,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mE(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class ry{constructor(){}supports(s){return s instanceof Map||K_(s)}create(){return new O0}}class O0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||K_(s)))throw new we(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new P0(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class P0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yE(){return new iy([new M0])}let iy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||yE()),deps:[[i,new $e,new ie]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new we(901,!1)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:yE}),i})();function _E(){return new Mp([new ry])}let Mp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||_E()),deps:[[i,new $e,new ie]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new we(901,!1)}}return i.\u0275prov=Yt({token:i,providedIn:"root",factory:_E}),i})();const xT=v0(null,"core",[]);let OT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_n(Vh))},i.\u0275mod=Be({type:i}),i.\u0275inj=Lt({}),i})();function wE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(at,Te,k)=>{k.d(Te,{Z:()=>we});var f=k(2090),te=k(4859),R=k(9681),ue=k(1877);class se{constructor(_e,pe){this._delegate=_e,this.firebase=pe,(0,R._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(_e,pe=R._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(_e);return!it.isInitialized()&&"EXPLICIT"===(null===(Qe=it.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&it.initialize(),it.getImmediate({identifier:pe})}_removeServiceInstance(_e,pe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(pe)}_addComponent(_e){(0,R._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,R._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ge(){const et=function fe(et){const _e={},pe={__esModule:!0,initializeApp:function Ae(He,U={}){const ye=R.initializeApp(He,U);if((0,f.r3)(_e,ye.name))return _e[ye.name];const K=new et(ye,pe);return _e[ye.name]=K,K},app:it,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function be(He){const U=He.name,ye=U.replace("-compat","");if(R._registerComponent(He)&&"PUBLIC"===He.type){const K=(X=it())=>{if("function"!=typeof X[ye])throw de.create("invalid-app-argument",{appName:U});return X[ye]()};void 0!==He.serviceProps&&(0,f.ZB)(K,He.serviceProps),pe[ye]=K,et.prototype[ye]=function(...X){return this._getService.bind(this,U).apply(this,He.multipleInstances?X:[])}}return"PUBLIC"===He.type?pe[ye]:null},removeApp:function Qe(He){delete _e[He]},useAsService:function je(He,U){return"serverAuth"===U?null:U},modularAPIs:R}};function it(He){if(!(0,f.r3)(_e,He=He||R._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:He});return _e[He]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(_e).map(He=>_e[He])}}),it.App=et,pe}(se);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function _e(pe){(0,f.ZB)(et,pe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),et}(),j=new ue.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=B;!function xe(et){(0,R.registerVersion)("@firebase/app-compat","0.1.32",et)}()},9681:(at,Te,k)=>{k.r(Te),k.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>Yt,_apps:()=>nn,_clearComponents:()=>Oo,_components:()=>Mn,_getProvider:()=>Lt,_registerComponent:()=>Dr,_removeServiceInstance:()=>rn,deleteApp:()=>pt,getApp:()=>ei,getApps:()=>Di,initializeApp:()=>Zi,onLog:()=>xn,registerVersion:()=>ui,setLogLevel:()=>Ti});var f=k(5861),te=k(4859),R=k(1877),ue=k(2090),se=k(8766);class he{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function de(L){return"VERSION"===L.getComponent()?.type}(z)){const Ie=z.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(z=>z).join(" ")}}const fe="@firebase/app",B=new R.Yd("@firebase/app"),Gt="[DEFAULT]",We={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,Mn=new Map;function Kt(L,G){try{L.container.addComponent(G)}catch(z){B.debug(`Component ${G.name} failed to register with FirebaseApp ${L.name}`,z)}}function Yt(L,G){L.container.addOrOverwriteComponent(G)}function Dr(L){const G=L.name;if(Mn.has(G))return B.debug(`There were multiple attempts to register component ${G}.`),!1;Mn.set(G,L);for(const z of nn.values())Kt(z,L);return!0}function Lt(L,G){const z=L.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),L.container.getProvider(G)}function rn(L,G,z=Gt){Lt(L,G).clearInstance(z)}function Oo(){Mn.clear()}const vr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tr{constructor(G,z,Ie){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const Ii="9.9.3";function Zi(L,G={}){"object"!=typeof G&&(G={name:G});const z=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},G),Ie=z.name;if("string"!=typeof Ie||!Ie)throw vr.create("bad-app-name",{appName:String(Ie)});const Be=nn.get(Ie);if(Be){if((0,ue.vZ)(L,Be.options)&&(0,ue.vZ)(z,Be.config))return Be;throw vr.create("duplicate-app",{appName:Ie})}const ut=new te.H0(Ie);for(const Jt of Mn.values())ut.addComponent(Jt);const an=new Tr(L,z,ut);return nn.set(Ie,an),an}function ei(L=Gt){const G=nn.get(L);if(!G)throw vr.create("no-app",{appName:L});return G}function Di(){return Array.from(nn.values())}function pt(L){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(L){const G=L.name;nn.has(G)&&(nn.delete(G),yield Promise.all(L.container.getProviders().map(z=>z.delete())),L.isDeleted=!0)})).apply(this,arguments)}function ui(L,G,z){var Ie;let Be=null!==(Ie=We[L])&&void 0!==Ie?Ie:L;z&&(Be+=`-${z}`);const ut=Be.match(/\s|\//),an=G.match(/\s|\//);if(ut||an){const Jt=[`Unable to register library "${Be}" with version "${G}":`];return ut&&Jt.push(`library name "${Be}" contains illegal characters (whitespace or "/")`),ut&&an&&Jt.push("and"),an&&Jt.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void B.warn(Jt.join(" "))}Dr(new te.wA(`${Be}-version`,()=>({library:Be,version:G}),"VERSION"))}function xn(L,G){if(null!==L&&"function"!=typeof L)throw vr.create("invalid-log-argument");(0,R.Am)(L,G)}function Ti(L){(0,R.Ub)(L)}const fn="firebase-heartbeat-store";let Xs=null;function hn(){return Xs||(Xs=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(L,G)=>{0===G&&L.createObjectStore(fn)}}).catch(L=>{throw vr.create("idb-open",{originalErrorMessage:L.message})})),Xs}function Ke(){return(Ke=(0,f.Z)(function*(L){var G;try{return(yield hn()).transaction(fn).objectStore(fn).get(pn(L))}catch(z){if(z instanceof ue.ZR)B.warn(z.message);else{const Ie=vr.create("idb-get",{originalErrorMessage:null===(G=z)||void 0===G?void 0:G.message});B.warn(Ie.message)}}})).apply(this,arguments)}function Po(L,G){return ir.apply(this,arguments)}function ir(){return(ir=(0,f.Z)(function*(L,G){var z;try{const Be=(yield hn()).transaction(fn,"readwrite");return yield Be.objectStore(fn).put(G,pn(L)),Be.done}catch(Ie){if(Ie instanceof ue.ZR)B.warn(Ie.message);else{const Be=vr.create("idb-set",{originalErrorMessage:null===(z=Ie)||void 0===z?void 0:z.message});B.warn(Be.message)}}})).apply(this,arguments)}function pn(L){return`${L.name}!${L.options.appId}`}class bs{constructor(G){this.container=G,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new $t(z),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var G=this;return(0,f.Z)(function*(){const Ie=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Be=Qt();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Be&&!G._heartbeatsCache.heartbeats.some(ut=>ut.date===Be))return G._heartbeatsCache.heartbeats.push({date:Be,agent:Ie}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(ut=>{const an=new Date(ut.date).valueOf();return Date.now()-an<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,f.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const z=Qt(),{heartbeatsToSend:Ie,unsentEntries:Be}=function Ai(L,G=1024){const z=[];let Ie=L.slice();for(const Be of L){const ut=z.find(an=>an.agent===Be.agent);if(ut){if(ut.dates.push(Be.date),Z(z)>G){ut.dates.pop();break}}else if(z.push({agent:Be.agent,dates:[Be.date]}),Z(z)>G){z.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:z,unsentEntries:Ie}}(G._heartbeatsCache.heartbeats),ut=(0,ue.L)(JSON.stringify({version:2,heartbeats:Ie}));return G._heartbeatsCache.lastSentHeartbeatDate=z,Be.length>0?(G._heartbeatsCache.heartbeats=Be,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),ut})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class $t{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,f.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function nt(L){return Ke.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var z=this;return(0,f.Z)(function*(){var Ie;if(yield z._canUseIndexedDBPromise){const ut=yield z.read();return Po(z.app,{lastSentHeartbeatDate:null!==(Ie=G.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ut.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var z=this;return(0,f.Z)(function*(){var Ie;if(yield z._canUseIndexedDBPromise){const ut=yield z.read();return Po(z.app,{lastSentHeartbeatDate:null!==(Ie=G.lastSentHeartbeatDate)&&void 0!==Ie?Ie:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...G.heartbeats]})}})()}}function Z(L){return(0,ue.L)(JSON.stringify({version:2,heartbeats:L})).length}!function H(L){Dr(new te.wA("platform-logger",G=>new he(G),"PRIVATE")),Dr(new te.wA("heartbeat",G=>new bs(G),"PRIVATE")),ui(fe,"0.7.31",L),ui(fe,"0.7.31","esm2017"),ui("fire-js","")}("")},4859:(at,Te,k)=>{k.d(Te,{H0:()=>fe,wA:()=>R});var f=k(5861),te=k(2090);class R{constructor(B,j,Q){this.name=B,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class se{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Q=new te.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:j});Ue&&Q.resolve(Ue)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Q=this.normalizeInstanceIdentifier(B?.identifier),Ue=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Ue)return null;throw xe}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function de(ge){return"EAGER"===ge.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:Ue});Q.resolve(xe)}catch{}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,f.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[xe,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&we.resolve(Ue);return Ue}onInit(B,j){var Q;const Ue=this.normalizeInstanceIdentifier(j),xe=null!==(Q=this.onInitCallbacks.get(Ue))&&void 0!==Q?Q:new Set;xe.add(B),this.onInitCallbacks.set(Ue,xe);const we=this.instances.get(Ue);return we&&B(we,Ue),()=>{xe.delete(B)}}invokeOnInitCallbacks(B,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Ue of Q)try{Ue(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=B,ge===ue?void 0:ge),options:j}),this.instances.set(B,Q),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch{}var ge;return Q||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new se(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Te,k)=>{k.d(Te,{Am:()=>ge,Ub:()=>fe,Yd:()=>de,in:()=>te});const f=[];var te=(()=>{return(B=te||(te={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",te;var B})();const R={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,se={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},he=(B,j,...Q)=>{if(j<B.logLevel)return;const Ue=(new Date).toISOString(),xe=se[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${Ue}]  ${B.name}:`,...Q)};class de{constructor(j){this.name=j,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in te))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...j),this._logHandler(this,te.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...j),this._logHandler(this,te.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,te.INFO,...j),this._logHandler(this,te.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,te.WARN,...j),this._logHandler(this,te.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...j),this._logHandler(this,te.ERROR,...j)}}function fe(B){f.forEach(j=>{j.setLogLevel(B)})}function ge(B,j){for(const Q of f){let Ue=null;j&&j.level&&(Ue=R[j.level]),Q.userLogHandler=null===B?null:(xe,we,...et)=>{const _e=et.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");we>=(Ue??xe.logLevel)&&B({level:te[we].toLowerCase(),message:_e,args:et,type:xe.name})}}}},8766:(at,Te,k)=>{k.d(Te,{Lj:()=>Ae,X3:()=>it});var f=k(5861);let R,ue;const de=new WeakMap,fe=new WeakMap,ge=new WeakMap,B=new WeakMap,j=new WeakMap;let xe={get(U,ye,K){if(U instanceof IDBTransaction){if("done"===ye)return fe.get(U);if("objectStoreNames"===ye)return U.objectStoreNames||ge.get(U);if("store"===ye)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return pe(U[ye])},set:(U,ye,K)=>(U[ye]=K,!0),has:(U,ye)=>U instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in U};function _e(U){return"function"==typeof U?function et(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ye){return U.apply(Qe(this),ye),pe(de.get(this))}:function(...ye){return pe(U.apply(Qe(this),ye))}:function(ye,...K){const X=U.call(Qe(this),ye,...K);return ge.set(X,ye.sort?ye.sort():[ye]),pe(X)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(fe.has(U))return;const ye=new Promise((K,X)=>{const oe=()=>{U.removeEventListener("complete",re),U.removeEventListener("error",Le),U.removeEventListener("abort",Le)},re=()=>{K(),oe()},Le=()=>{X(U.error||new DOMException("AbortError","AbortError")),oe()};U.addEventListener("complete",re),U.addEventListener("error",Le),U.addEventListener("abort",Le)});fe.set(U,ye)}(U),((U,ye)=>ye.some(K=>U instanceof K))(U,function se(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,xe):U)}function pe(U){if(U instanceof IDBRequest)return function Q(U){const ye=new Promise((K,X)=>{const oe=()=>{U.removeEventListener("success",re),U.removeEventListener("error",Le)},re=()=>{K(pe(U.result)),oe()},Le=()=>{X(U.error),oe()};U.addEventListener("success",re),U.addEventListener("error",Le)});return ye.then(K=>{K instanceof IDBCursor&&de.set(K,U)}).catch(()=>{}),j.set(ye,U),ye}(U);if(B.has(U))return B.get(U);const ye=_e(U);return ye!==U&&(B.set(U,ye),j.set(ye,U)),ye}const Qe=U=>j.get(U);function it(U,ye,{blocked:K,upgrade:X,blocking:oe,terminated:re}={}){const Le=indexedDB.open(U,ye),Fe=pe(Le);return X&&Le.addEventListener("upgradeneeded",dt=>{X(pe(Le.result),dt.oldVersion,dt.newVersion,pe(Le.transaction))}),K&&Le.addEventListener("blocked",()=>K()),Fe.then(dt=>{re&&dt.addEventListener("close",()=>re()),oe&&dt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Fe}function Ae(U,{blocked:ye}={}){const K=indexedDB.deleteDatabase(U);return ye&&K.addEventListener("blocked",()=>ye()),pe(K).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],je=new Map;function He(U,ye){if(!(U instanceof IDBDatabase)||ye in U||"string"!=typeof ye)return;if(je.get(ye))return je.get(ye);const K=ye.replace(/FromIndex$/,""),X=ye!==K,oe=be.includes(K);if(!(K in(X?IDBIndex:IDBObjectStore).prototype)||!oe&&!ve.includes(K))return;const re=function(){var Le=(0,f.Z)(function*(Fe,...dt){const zt=this.transaction(Fe,oe?"readwrite":"readonly");let Gt=zt.store;return X&&(Gt=Gt.index(dt.shift())),(yield Promise.all([Gt[K](...dt),oe&&zt.done]))[0]});return function(dt){return Le.apply(this,arguments)}}();return je.set(ye,re),re}!function we(U){xe=U(xe)}(U=>({...U,get:(ye,K,X)=>He(ye,K)||U.get(ye,K,X),has:(ye,K)=>!!He(ye,K)||U.has(ye,K)}))},5861:(at,Te,k)=>{function f(R,ue,se,he,de,fe,ge){try{var B=R[fe](ge),j=B.value}catch(Q){return void se(Q)}B.done?ue(j):Promise.resolve(j).then(he,de)}function te(R){return function(){var ue=this,se=arguments;return new Promise(function(he,de){var fe=R.apply(ue,se);function ge(j){f(fe,he,de,ge,B,"next",j)}function B(j){f(fe,he,de,ge,B,"throw",j)}ge(void 0)})}}k.d(Te,{Z:()=>te})}},at=>{at(at.s=9389)}]);